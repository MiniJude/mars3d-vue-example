/**
 * Mars3D平台插件,支持气象 风向图 功能插件  mars3d-wind
 *
 * 版本信息：v3.8.5
 * 编译日期：2024-10-29 21:59
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-08-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-wind"] = {}, global.mars3d));
})(this, (function (exports, mars3d) { 
'use strict';(function(_0x4a8a6a,_0x57f3ea){function _0x438269(_0x4134af,_0x3b9db4){return _0x3a9e(_0x4134af- -0x152,_0x3b9db4);}function _0x13228f(_0x56ee9f,_0x15a84e){return _0x3a9e(_0x15a84e-0x2e2,_0x56ee9f);}const _0x4f47c2=_0x4a8a6a();while(!![]){try{const _0x4d5412=-parseInt(_0x438269(0xc4,0x130))/0x1+parseInt(_0x13228f(0x507,0x564))/0x2*(-parseInt(_0x438269(0xc8,0x12c))/0x3)+parseInt(_0x438269(0x11,-0x2d))/0x4+-parseInt(_0x13228f(0x3e7,0x474))/0x5*(-parseInt(_0x438269(0x135,0xd5))/0x6)+-parseInt(_0x13228f(0x4b3,0x4cf))/0x7*(parseInt(_0x438269(0xdb,0x157))/0x8)+parseInt(_0x13228f(0x527,0x4dd))/0x9*(-parseInt(_0x13228f(0x5aa,0x559))/0xa)+parseInt(_0x13228f(0x54b,0x54d))/0xb;if(_0x4d5412===_0x57f3ea)break;else _0x4f47c2['push'](_0x4f47c2['shift']());}catch(_0x10b3af){_0x4f47c2['push'](_0x4f47c2['shift']());}}}(_0xde27,0xd00b2));function _interopNamespace(_0x29bc1c){function _0x5aad94(_0x433dce,_0x422a0c){return _0x3a9e(_0x422a0c-0x145,_0x433dce);}if(_0x29bc1c&&_0x29bc1c['__esModule'])return _0x29bc1c;var _0x535e56=Object['create'](null);function _0x4171e4(_0x37e22d,_0x35e301){return _0x3a9e(_0x35e301- -0xbc,_0x37e22d);}return _0x29bc1c&&Object[_0x4171e4(0x116,0xea)](_0x29bc1c)[_0x4171e4(0x182,0x13d)](function(_0x562544){function _0x5efead(_0x3464e1,_0x5cc32d){return _0x4171e4(_0x3464e1,_0x5cc32d- -0xf2);}function _0x209910(_0x1a0a3e,_0x5d8ec0){return _0x5aad94(_0x1a0a3e,_0x5d8ec0- -0x61);}if(_0x562544!==_0x5efead(-0x21,-0x1d)){var _0x337c72=Object['getOwnPropertyDescriptor'](_0x29bc1c,_0x562544);Object[_0x209910(0x3b3,0x320)](_0x535e56,_0x562544,_0x337c72[_0x209910(0x2ba,0x271)]?_0x337c72:{'enumerable':!![],'get':function(){return _0x29bc1c[_0x562544];}});}}),_0x535e56['default']=_0x29bc1c,_0x535e56;}var mars3d__namespace=_interopNamespace(mars3d);const Cesium$7=mars3d__namespace['Cesium'];function _0xde27(){const _0x558cfb=['segmentsColor','_onMapWhellEvent','_pointerEvents','createWindTextures','particlesSpeed','removeEventListener','getDirection','lon','_tomap','tlng','RED','uniformMap','Appearance','push','PrimitiveType','postProcessingPosition','windTextures','particleSystem','ComponentDatatype','_drawLines','rgb(206,255,255)','#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x20Unit\x20converted\x20to\x20degrees\x20of\x20longitude\x20and\x20latitude\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20speed;\x0a\x20\x20if(length(speed.rgb)\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a','LINEAR','normal','STATIC_DRAW','drawingBufferHeight','getUVByXY','redraw','shaderProgram','pointer-events','createRenderingFramebuffers','windData','speedRate','camera','Draw','fromGeometry','currentTrailsColor','dynamic','27082440oEANBz','umax','steps','primitives','height','randomBetween','globe','nextParticlesPosition','visibility','resize','position','_createCanvas','20KCbxwn','windField','applyViewerParameters','colour','_mountedHook','refreshParticles','stroke','frameTime','getFullscreenQuad','style','destroyParticlesTextures','6270Bbibuc','worker','DepthFunction','getValidRange','random','5027928TXQIbO','WindLayer','getRandomLatLng','updateViewerParameters','preExecute','cols','mars3d-canvasWind','setData','TWO_PI','2947128ejtSLu','#version\x20300\x20es\x0a\x0a//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0auniform\x20sampler2D\x20W;\x20//\x20upward\x20wind\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0auniform\x20float\x20speedScaleFactor;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20//\x20map\x20the\x20z-axis\x20value\x20to\x20the\x20nearest\x20bit\x20plane\x20to\x20ensure\x20that\x20the\x20result\x20is\x20an\x20integer\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205,\x207,\x208,\x209],\x20width\x20=\x202,\x20height\x20=\x202,\x20level\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x206\x207\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x202\x203\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWindComponent(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20float\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D).r;\x0a\x20\x20return\x20result;\x0a}\x0a\x0afloat\x20interpolateTexture(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20float\x20lon0\x20=\x20floor(lon\x20/\x20interval.x)\x20*\x20interval.x;\x0a\x20\x20float\x20lon1\x20=\x20lon0\x20+\x201.0f\x20*\x20interval.x;\x0a\x20\x20float\x20lat0\x20=\x20floor(lat\x20/\x20interval.y)\x20*\x20interval.y;\x0a\x20\x20float\x20lat1\x20=\x20lat0\x20+\x201.0f\x20*\x20interval.y;\x0a\x0a\x20\x20float\x20lon0_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon1_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon0_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat1,\x20lev));\x0a\x20\x20float\x20lon1_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat1,\x20lev));\x0a\x0a\x20\x20float\x20lon_lat0\x20=\x20mix(lon0_lat0,\x20lon1_lat0,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat1\x20=\x20mix(lon0_lat1,\x20lon1_lat1,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat\x20=\x20mix(lon_lat0,\x20lon_lat1,\x20lat\x20-\x20lat0);\x0a\x20\x20return\x20lon_lat;\x0a}\x0a\x0avec3\x20linearInterpolation(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bilinear_interpolation\x0a\x20\x20float\x20u\x20=\x20interpolateTexture(U,\x20lonLatLev);\x0a\x20\x20float\x20v\x20=\x20interpolateTexture(V,\x20lonLatLev);\x0a\x20\x20float\x20w\x20=\x20interpolateTexture(W,\x20lonLatLev);\x0a\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20float\x20term1\x20=\x20111132.92f;\x0a\x20\x20float\x20term2\x20=\x20559.82f\x20*\x20cos(2.0f\x20*\x20latitude);\x0a\x20\x20float\x20term3\x20=\x201.175f\x20*\x20cos(4.0f\x20*\x20latitude);\x0a\x20\x20float\x20term4\x20=\x200.0023f\x20*\x20cos(6.0f\x20*\x20latitude);\x0a\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20float\x20term5\x20=\x20111412.84f\x20*\x20cos(latitude);\x0a\x20\x20float\x20term6\x20=\x2093.5f\x20*\x20cos(3.0f\x20*\x20latitude);\x0a\x20\x20float\x20term7\x20=\x200.118f\x20*\x20cos(5.0f\x20*\x20latitude);\x0a\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avec3\x20convertSpeedUnitToLonLat(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20float\x20w\x20=\x20speed.z;\x0a\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20return\x20windVectorInLonLatLev;\x0a}\x0a\x0avec3\x20calculateSpeedByRungeKutta2(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods#Second-order_methods_with_two_stages\x20for\x20detail\x0a\x20\x20const\x20float\x20h\x20=\x200.5f;\x0a\x0a\x20\x20vec3\x20y_n\x20=\x20lonLatLev;\x0a\x20\x20vec3\x20f_n\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20midpoint\x20=\x20y_n\x20+\x200.5f\x20*\x20h\x20*\x20convertSpeedUnitToLonLat(y_n,\x20f_n)\x20*\x20speedScaleFactor;\x0a\x20\x20vec3\x20speed\x20=\x20h\x20*\x20linearInterpolation(midpoint)\x20*\x20speedScaleFactor;\x0a\x0a\x20\x20return\x20speed;\x0a}\x0a\x0avec2\x20getRange(vec2\x20range)\x20{\x0a\x20\x20float\x20x1\x20=\x200.0f\x20-\x20range.x;\x0a\x20\x20float\x20x2\x20=\x20range.y\x20-\x200.0f;\x0a\x20\x20if(x1\x20<\x200.0f\x20||\x20x2\x20<\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x20vec2(abs(x1),\x20abs(x2));\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20return\x20vec2(0.0f,\x20abs(max(x1,\x20x2)));\x0a\x20\x20}\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20vec2\x20uRange\x20=\x20getRange(uSpeedRange);\x0a\x20\x20vec2\x20vRange\x20=\x20getRange(vSpeedRange);\x0a\x20\x20vec2\x20wRange\x20=\x20getRange(wSpeedRange);\x0a\x20\x20if(length(speed.xyz)\x20==\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x200.0f;\x0a\x20\x20}\x0a\x0a\x20\x20percent.x\x20=\x20(abs(speed.x)\x20-\x20uRange.x)\x20/\x20(uRange.y\x20-\x20uRange.x);\x0a\x20\x20percent.y\x20=\x20(abs(speed.y)\x20-\x20vRange.x)\x20/\x20(vRange.y\x20-\x20vRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(abs(speed.z)\x20-\x20wRange.x)\x20/\x20(wRange.y\x20-\x20wRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speedOrigin\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20speed\x20=\x20calculateSpeedByRungeKutta2(lonLatLev);\x0a\x20\x20vec3\x20speedInLonLat\x20=\x20convertSpeedUnitToLonLat(lonLatLev,\x20speed);\x0a\x0a\x20\x20vec4\x20particleSpeed\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speed\x20/\x20speedScaleFactor));\x0a\x20\x20\x20\x20//\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20fragColor\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speedOrigin));\x0a}\x0a','DISABLE_GL_POSITION_LOG_DEPTH','getOptions','lineWidth','#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20lines\x20drawing\x0ain\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0auniform\x20vec2\x20hRange;\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0a\x0auniform\x20sampler2D\x20previousParticlesPosition;\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0astruct\x20adjacentPoints\x20{\x0a\x20\x20vec4\x20previous;\x0a\x20\x20vec4\x20current;\x0a\x20\x20vec4\x20next;\x0a};\x0a\x0aout\x20float\x20heightNormalization;\x0aout\x20float\x20speedNormalization;\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20read\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x0a\x20\x20float\x20a\x20=\x206378137.0f;\x20//\x20Semi-major\x20axis\x0a\x20\x20float\x20b\x20=\x206356752.3142f;\x20//\x20Semi-minor\x20axis\x0a\x20\x20float\x20e2\x20=\x206.69437999014e-3f;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0f\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20float\x20h\x20=\x20particleHeight\x20+\x20lonLatLev.z;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0f);\x0a\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calculateProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0f,\x20360.0f)\x20-\x20180.0f;\x0a\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0f);\x0a\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calculateOffsetOnNormalDirection(vec4\x20pointA,\x20vec4\x20pointB,\x20float\x20offsetSign)\x20{\x0a\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0f);\x0a\x20\x20vec2\x20pointA_XY\x20=\x20(pointA.xy\x20/\x20pointA.w)\x20*\x20aspectVec2;\x0a\x20\x20vec2\x20pointB_XY\x20=\x20(pointB.xy\x20/\x20pointB.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0f;\x0a\x20\x20vec2\x20direction\x20=\x20normalize(pointB_XY\x20-\x20pointA_XY);\x0a\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0f,\x200.0f);\x0a\x20\x20return\x20offset;\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(speed.z\x20-\x20wSpeedRange.x)\x20/\x20(wSpeedRange.y\x20-\x20wSpeedRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20vec3\x20previousPosition\x20=\x20texture(previousParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20currentPosition\x20=\x20texture(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20nextPosition\x20=\x20texture(postProcessingPosition,\x20particleIndex).rgb;\x0a\x0a\x20\x20float\x20isAnyRandomPointUsed\x20=\x20texture(postProcessingPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(currentParticlesPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(previousParticlesPosition,\x20particleIndex).a;\x0a\x0a\x20\x20adjacentPoints\x20projectedCoordinates;\x0a\x20\x20if(isAnyRandomPointUsed\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20projectedCoordinates.previous;\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20projectedCoordinates.previous;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20calculateProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20calculateProjectedCoordinate(nextPosition);\x0a\x20\x20}\x0a\x0a\x20\x20int\x20pointToUse\x20=\x20int(normal.x);\x0a\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x20\x20vec4\x20offset\x20=\x20vec4(0.0f);\x0a\x20\x20\x20\x20//\x20render\x20lines\x20with\x20triangles\x20and\x20miter\x20joint\x0a\x20\x20\x20\x20//\x20read\x20https://blog.scottlogic.com/2019/11/18/drawing-lines-with-webgl.html\x20for\x20detail\x0a\x20\x20if(pointToUse\x20==\x20-1)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.previous,\x20projectedCoordinates.current,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.previous\x20+\x20offset;\x0a\x20\x20}\x20else\x20if(pointToUse\x20==\x201)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.current,\x20projectedCoordinates.next,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.next\x20+\x20offset;\x0a\x20\x20}\x0a\x0a\x20\x20heightNormalization\x20=\x20(currentPosition.z\x20-\x20hRange.x)\x20/\x20(hRange.y\x20-\x20hRange.x);\x0a\x0a\x20\x20speedNormalization\x20=\x20texture(particlesSpeed,\x20particleIndex).a;\x0a}\x0a','hidden','createRenderingTextures','arrayBufferView','_maxAge','max','particlesTextures','NEAREST','Texture','#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20trailsColorTexture;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(trailsColorTexture,\x20textureCoordinate);\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20trailsColor;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a','vdata','setGeometry','speedFactor','createRenderingPrimitives','getPixelSize','visible','Pass','PI_OVER_THREE','rawRenderState','SCENE3D','particleHeight','canvasContext','textures','pixelDatatype','CanvasWindField','isInExtent','currentParticlesPosition','RenderState','particlesComputing','segments','_removedHook','mouse_down','particlesNumber','trails','ShaderSource','particlesTextureSize','createCommand','get','lng','#version\x20300\x20es\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec2\x20st;\x0a\x0aout\x20vec2\x20textureCoordinate;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20textureCoordinate\x20=\x20st;\x0a\x20\x20gl_Position\x20=\x20vec4(position,\x201.0f);\x0a}\x0a','createTexture','default','5zobfuu','previousParticlesPosition','RGBA','dropRate','toRadians','_colorRamp','talt','isPointVisible','getColorTexture','particles','ymax','destroy','OPAQUE','GeometryAttribute','add','framebuffer','ymin','mouseUp','Cesium','age','keys','canrefresh','TextureMinificationFilter','attributeLocations','fadeOpacity','BufferUsage','framebuffers','IDENTITY','canvasHeight','geometry','addEventListener','unbindEvent','setDate','dimension','persists','strokeStyle','canvasResize','_onMouseDownEvent','_showHook','type','Cartesian2','_animateFrame','UNSIGNED_BYTE','DomUtil','Matrix4','canvas','drawingBufferWidth','dimensions','getUVByPoint','wheel','_updateIng','maxParticles','0px','udata','blending','DrawCommand','mouseDown','_setOptionsHook','refreshTimer','maxAge','RGB','rows','clear','_speedRate','getU','commandType','EventType','particlesRendering','viewerParameters','TextureMagnificationFilter','min','_map','createRawRenderState','pow','show','defines','init','context','addPrimitives','xmin','fromDegrees','mouse_move','#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20colorTable;\x0auniform\x20bool\x20colour;\x0a\x0ain\x20float\x20heightNormalization;\x0ain\x20float\x20speedNormalization;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20const\x20float\x20zero\x20=\x200.0f;\x0a\x20\x20if(speedNormalization\x20>\x20zero)\x20{\x0a\x20\x20\x20\x20if(colour)\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(heightNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(speedNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(zero);\x0a\x20\x20}\x0a}\x0a','colorTextures','primitiveType','calculateSpeed','LayerUtil','PointTrans','update','lineTo','PixelFormat','14RWGbGx','viewRectangleToLonLatRange','createComputingPrimitives','initWorker','outputTexture','mouseMove','clientHeight','pixelSize','speed','WindUtil','vertexShaderSource','globeBoundingSphere','forEach','_data','1858095FDCqpL','blue','vmin','Compute','pointerEvents','none','createSegmentsGeometry','mode','toDegrees','setOptions','enabled','data','lat','BoundingSphere','color','container','Cartesian3','array','_calc_speedRate','floor','postMessage','currentTrails','Math','all','layer','TRIANGLES','Color','1131259SWGDpd','abs','_onMouseMoveEvent','commandToExecute','9vBCHHw','_bilinearInterpolation','lonRange','FLOAT','removeAll','left','BaseLayer','fixedHeight','fill','off','Sampler','vertexArray','maximum','clearCommand','width','nextTrails','SceneMode','CanvasWindLayer','viewport','6524360BzGlBl','pixelFormat','colorTable','_calcUV','grid','absolute','tlat','_addedHook','fragmentShaderSource','defined','isDestroy','scene','options','latRange','sources','defineProperty','lev','west','dropRateBump','length','getContext','ComputeCommand','colors','ColorRamp'];_0xde27=function(){return _0x558cfb;};return _0xde27();}function getU(_0x4c7008,_0x6defb3){const _0x57b53f=_0x4c7008*Math['cos'](Cesium$7[_0x1b31a5(0x5be,0x5bf)][_0x107a51(-0x14d,-0xc2)](_0x6defb3));function _0x1b31a5(_0x484191,_0x541c98){return _0x3a9e(_0x541c98-0x3ae,_0x484191);}function _0x107a51(_0x4bd21c,_0x25c790){return _0x3a9e(_0x25c790- -0x258,_0x4bd21c);}return _0x57b53f;}function getV(_0x148dc6,_0x20c6b9){function _0x5c2b27(_0x2859eb,_0x55fbc8){return _0x3a9e(_0x55fbc8-0xec,_0x2859eb);}function _0x5e3c60(_0x347c37,_0x5f50e1){return _0x3a9e(_0x5f50e1- -0x386,_0x347c37);}const _0x191a35=_0x148dc6*Math['sin'](Cesium$7[_0x5e3c60(-0x1cd,-0x175)][_0x5c2b27(0x254,0x282)](_0x20c6b9));return _0x191a35;}function getSpeed(_0x2c9fcf,_0x25fd6c){const _0x1bc4b9=Math['sqrt'](Math['pow'](_0x2c9fcf,0x2)+Math[_0x30cdbd(0x400,0x3f1)](_0x25fd6c,0x2));function _0x30cdbd(_0x529324,_0x10198c){return _0x3a9e(_0x10198c-0x216,_0x529324);}return _0x1bc4b9;}function getDirection(_0xef4597,_0x3c6b65){let _0xd909a3=Cesium$7['Math'][_0xecd5a1(0x21c,0x1c6)](Math['atan2'](_0x3c6b65,_0xef4597));_0xd909a3+=_0xd909a3<0x0?0x168:0x0;function _0xecd5a1(_0x12a472,_0x497757){return _0x3a9e(_0x497757- -0x3d,_0x12a472);}return _0xd909a3;}const _0x5056cb={};_0x5056cb['__proto__']=null,_0x5056cb[_0x5ac86e(-0x44,-0x9a)]=getU,_0x5056cb['getV']=getV,_0x5056cb['getSpeed']=getSpeed,_0x5056cb[_0x5ac86e(0x2a,-0x21)]=getDirection;var WindUtil=_0x5056cb;const Cesium$6=mars3d__namespace['Cesium'];class CustomPrimitive{constructor(_0x3e9a8e){this[_0x175549(0xf4,0xc0)]=_0x3e9a8e[_0x175549(0x139,0xc0)],this['geometry']=_0x3e9a8e[_0x175549(0xd5,0x9c)],this[_0x337ff2(-0x230,-0x266)]=_0x3e9a8e['attributeLocations'],this[_0x175549(0x86,0xd3)]=_0x3e9a8e['primitiveType'],this[_0x337ff2(-0x189,-0x1eb)]=_0x3e9a8e['uniformMap'],this['vertexShaderSource']=_0x3e9a8e[_0x175549(0x14a,0xe4)],this['fragmentShaderSource']=_0x3e9a8e['fragmentShaderSource'],this[_0x175549(0x2f,0x67)]=_0x3e9a8e[_0x175549(0xbd,0x67)],this[_0x337ff2(-0x238,-0x1e3)]=_0x3e9a8e[_0x337ff2(-0x238,-0x278)],this['outputTexture']=_0x3e9a8e['outputTexture'],this['autoClear']=_0x3e9a8e['autoClear']??![],this['preExecute']=_0x3e9a8e[_0x175549(0x195,0x178)],this['show']=!![];function _0x175549(_0x4ebb90,_0x2b18ba){return _0x444c46(_0x2b18ba- -0x193,_0x4ebb90);}this[_0x175549(0x160,0x106)]=undefined;function _0x337ff2(_0x1b7043,_0x4cf8c0){return _0x5ac86e(_0x4cf8c0,_0x1b7043- -0x16d);}this[_0x337ff2(-0x1b2,-0x1aa)]=undefined,this['autoClear']&&(this['clearCommand']=new Cesium$6['ClearCommand']({'color':new Cesium$6['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x337ff2(-0x238,-0x2b1)],'pass':Cesium$6['Pass'][_0x337ff2(-0x23b,-0x1fe)]}));}[_0x5ac86e(-0x5c,-0xe0)](_0x34769d){function _0x311bf5(_0x1237c9,_0x33156d){return _0x444c46(_0x33156d-0x2fe,_0x1237c9);}function _0xe2e83d(_0x8353ac,_0x52940b){return _0x444c46(_0x52940b- -0x2e9,_0x8353ac);}switch(this[_0x311bf5(0x528,0x551)]){case'Draw':{const _0x346665=Cesium$6['VertexArray'][_0x311bf5(0x5b4,0x5e6)]({'context':_0x34769d,'geometry':this['geometry'],'attributeLocations':this['attributeLocations'],'bufferUsage':Cesium$6['BufferUsage']['STATIC_DRAW']}),_0x3bccb7={};_0x3bccb7[_0xe2e83d(-0x10d,-0x8a)]=_0x34769d,_0x3bccb7['attributeLocations']=this[_0xe2e83d(-0x9c,-0xc0)],_0x3bccb7['vertexShaderSource']=this['vertexShaderSource'],_0x3bccb7[_0x311bf5(0x625,0x5b3)]=this['fragmentShaderSource'];const _0x277b1e=Cesium$6['ShaderProgram']['fromCache'](_0x3bccb7),_0x4de3e5=Cesium$6[_0x311bf5(0x4bc,0x501)]['fromCache'](this[_0xe2e83d(-0x9e,-0xef)]);return new Cesium$6[(_0xe2e83d(-0x8a,-0xa0))]({'owner':this,'vertexArray':_0x346665,'primitiveType':this[_0x311bf5(0x5c5,0x564)],'uniformMap':this[_0x311bf5(0x63e,0x5ce)],'modelMatrix':Cesium$6[_0x311bf5(0x4d1,0x53c)][_0x311bf5(0x55a,0x52b)],'shaderProgram':_0x277b1e,'framebuffer':this['framebuffer'],'renderState':_0x4de3e5,'pass':Cesium$6[_0x311bf5(0x468,0x4f6)]['OPAQUE']});}case'Compute':{const _0x527830={};return _0x527830['owner']=this,_0x527830['fragmentShaderSource']=this['fragmentShaderSource'],_0x527830['uniformMap']=this[_0xe2e83d(0x3b,-0x19)],_0x527830[_0x311bf5(0x52f,0x56f)]=this['outputTexture'],_0x527830[_0x311bf5(0x502,0x532)]=!![],new Cesium$6[(_0x311bf5(0x554,0x5c0))](_0x527830);}}}[_0x444c46(0x1f3,0x1bc)](_0xbe9d6c,_0x36b5f8){this['geometry']=_0x36b5f8;function _0x4fd374(_0x45b959,_0x5e1b64){return _0x5ac86e(_0x45b959,_0x5e1b64-0x1f7);}const _0x8d2235=Cesium$6['VertexArray']['fromGeometry']({'context':_0xbe9d6c,'geometry':this['geometry'],'attributeLocations':this['attributeLocations'],'bufferUsage':Cesium$6['BufferUsage'][_0x4fd374(0x158,0x1e8)]});this['commandToExecute']['vertexArray']=_0x8d2235;}['update'](_0x497bed){if(!this['show'])return;function _0x152f80(_0x3ae8c2,_0x41b62c){return _0x5ac86e(_0x3ae8c2,_0x41b62c-0xef);}if(_0x497bed[_0x152f80(0x3d,0x85)]!==Cesium$6[_0x5ca8e8(-0x34,0x17)][_0x152f80(0x92,-0x2)])return;!Cesium$6[_0x5ca8e8(-0x6,0x23)](this['commandToExecute'])&&(this['commandToExecute']=this[_0x5ca8e8(-0x61,-0x87)](_0x497bed['context']));Cesium$6['defined'](this[_0x152f80(0x14b,0x10e)])&&this['preExecute']();function _0x5ca8e8(_0x2de9eb,_0x434c24){return _0x5ac86e(_0x2de9eb,_0x434c24-0x59);}Cesium$6['defined'](this['clearCommand'])&&_0x497bed['commandList']['push'](this[_0x5ca8e8(0x45,0x14)]),_0x497bed['commandList'][_0x5ca8e8(0x44,0x3f)](this['commandToExecute']);}['isDestroyed'](){return![];}[_0x444c46(0x21d,0x1a3)](){if(this['clearCommand']){var _0x3cd4b7,_0x53d5f6;(_0x3cd4b7=this['clearCommand'])!==null&&_0x3cd4b7!==void 0x0&&_0x3cd4b7['vertexArray']&&this[_0x5946ec(0xa6,0xb2)][_0x2ff849(0x127,0xc6)][_0x2ff849(0x78,0x3e)](),(_0x53d5f6=this['clearCommand'])!==null&&_0x53d5f6!==void 0x0&&_0x53d5f6['shaderProgram']&&this['clearCommand'][_0x5946ec(0xe0,0xc0)][_0x2ff849(-0x19,0x3e)](),delete this[_0x2ff849(0x8e,0xc8)];}function _0x5946ec(_0x1414cd,_0x31a049){return _0x5ac86e(_0x31a049,_0x1414cd-0xeb);}this['commandToExecute']&&(this[_0x5946ec(0x98,0xbe)]['vertexArray']&&this[_0x5946ec(0x98,0x52)][_0x5946ec(0xa4,0x125)][_0x5946ec(0x1c,0xa2)](),this[_0x5946ec(0x98,0xd3)]['shaderProgram']&&this['commandToExecute']['shaderProgram'][_0x2ff849(0x1f,0x3e)](),delete this[_0x5946ec(0x98,0x3a)]);function _0x2ff849(_0x3748aa,_0x22cf79){return _0x444c46(_0x22cf79- -0x1df,_0x3748aa);}return Cesium$6['destroyObject'](this);}}const Cesium$5=mars3d__namespace[_0x5ac86e(-0x4f,-0xc8)],Util=(function(){const _0xc9b9ee=function(){const _0x32555a=new Cesium$5['Geometry']({'attributes':new Cesium$5['GeometryAttributes']({'position':new Cesium$5[(_0x635894(0x3b7,0x36c))]({'componentDatatype':Cesium$5['ComponentDatatype'][_0x45a0f7(0x1bc,0x1ef)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new Cesium$5['GeometryAttribute']({'componentDatatype':Cesium$5[_0x45a0f7(0x1f6,0x232)]['FLOAT'],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});function _0x635894(_0xf4bcaf,_0x25bcee){return _0x3a9e(_0xf4bcaf-0x218,_0x25bcee);}function _0x45a0f7(_0x47c9fd,_0x2db84d){return _0x3a9e(_0x47c9fd- -0x61,_0x2db84d);}return _0x32555a;},_0x5af877=function(_0x19c929,_0x5d8790){if(Cesium$5['defined'](_0x5d8790)){const _0x54282a={};_0x54282a[_0x4004bf(-0x154,-0x131)]=_0x5d8790,_0x19c929['source']=_0x54282a;}function _0x4004bf(_0x569cff,_0x16abc1){return _0x3a9e(_0x16abc1- -0x29c,_0x569cff);}function _0x5f55f4(_0x4343dc,_0x2e7aad){return _0x3a9e(_0x4343dc- -0x119,_0x2e7aad);}const _0x176ca6=new Cesium$5[(_0x4004bf(-0x15d,-0x12c))](_0x19c929);return _0x176ca6;},_0x3025ee=function(_0x450177,_0x23b6b5,_0x23c85d){const _0x4206d7={};_0x4206d7['context']=_0x450177,_0x4206d7[_0x536068(0x166,0x1e9)]=[_0x23b6b5],_0x4206d7['depthTexture']=_0x23c85d;function _0x536068(_0x28a717,_0x211706){return _0x3a9e(_0x28a717- -0x7f,_0x211706);}const _0x16ea08=new Cesium$5['Framebuffer'](_0x4206d7);return _0x16ea08;},_0x5bda2b=function(_0x278c48){const _0x21f58a=!![],_0x439f6d=![],_0x587140={};_0x587140['viewport']=_0x278c48['viewport'],_0x587140['depthTest']=_0x278c48['depthTest'],_0x587140['depthMask']=_0x278c48['depthMask'];function _0x531614(_0x4140ed,_0x4066ad){return _0x3a9e(_0x4140ed- -0x24a,_0x4066ad);}_0x587140[_0x559b0c(-0xf4,-0xa2)]=_0x278c48['blending'];const _0x265f53=_0x587140;function _0x559b0c(_0x911d51,_0x1b8ead){return _0x3a9e(_0x1b8ead- -0x26a,_0x911d51);}const _0x3d73bd=Cesium$5[_0x531614(0x7,0x18)]['getDefaultRenderState'](_0x21f58a,_0x439f6d,_0x265f53);return _0x3d73bd;},_0x35d603=function(_0x38d64f){const _0x36533c={},_0xe101cb=Cesium$5[_0x2a327d(0x2d,0x53)]['mod'](_0x38d64f[_0xfcfa72(0x2e0,0x27e)],Cesium$5['Math'][_0x2a327d(0xd,-0x5c)]),_0x39b3cc=Cesium$5[_0x2a327d(-0x35,0x53)]['mod'](_0x38d64f['east'],Cesium$5[_0xfcfa72(0x1d6,0x251)]['TWO_PI']),_0x220149=_0x38d64f['width'];let _0x7e2056,_0x357f46;_0x220149>Cesium$5[_0xfcfa72(0x213,0x251)]['THREE_PI_OVER_TWO']?(_0x7e2056=0x0,_0x357f46=Cesium$5[_0x2a327d(0xe9,0x53)]['TWO_PI']):_0x39b3cc-_0xe101cb<_0x220149?(_0x7e2056=_0xe101cb,_0x357f46=_0xe101cb+_0x220149):(_0x7e2056=_0xe101cb,_0x357f46=_0x39b3cc);_0x36533c['lon']={'min':Cesium$5[_0xfcfa72(0x202,0x251)]['toDegrees'](_0x7e2056),'max':Cesium$5['Math']['toDegrees'](_0x357f46)};const _0x3238c3=_0x38d64f['south'],_0x41b8bb=_0x38d64f['north'],_0x2e29f4=_0x38d64f['height'],_0x26d2c2=_0x2e29f4>Cesium$5[_0xfcfa72(0x252,0x251)]['PI']/0xc?_0x2e29f4/0x2:0x0;let _0x44666e=Cesium$5['Math']['clampToLatitudeRange'](_0x3238c3-_0x26d2c2),_0x25db29=Cesium$5['Math']['clampToLatitudeRange'](_0x41b8bb+_0x26d2c2);_0x44666e<-Cesium$5[_0xfcfa72(0x1f8,0x251)][_0x2a327d(-0x88,-0x45)]&&(_0x44666e=-Cesium$5['Math']['PI_OVER_TWO']);_0x25db29>Cesium$5[_0xfcfa72(0x1ce,0x251)][_0xfcfa72(0x170,0x1b9)]&&(_0x25db29=Cesium$5['Math']['PI_OVER_TWO']);function _0xfcfa72(_0x2c0370,_0x14cb5c){return _0x3a9e(_0x14cb5c-0x40,_0x2c0370);}_0x36533c['lat']={'min':Cesium$5['Math']['toDegrees'](_0x44666e),'max':Cesium$5[_0x2a327d(-0x6,0x53)]['toDegrees'](_0x25db29)};function _0x2a327d(_0x53f474,_0x365d8d){return _0x3a9e(_0x365d8d- -0x1be,_0x53f474);}return _0x36533c;},_0x405e71={};_0x405e71['getFullscreenQuad']=_0xc9b9ee,_0x405e71[_0x29f9fc(0x1ad,0x154)]=_0x5af877,_0x405e71['createFramebuffer']=_0x3025ee;function _0x29f9fc(_0x242134,_0x1c8a8a){return _0x444c46(_0x242134- -0x63,_0x1c8a8a);}function _0x828616(_0x56e141,_0x291b70){return _0x444c46(_0x56e141-0x119,_0x291b70);}return _0x405e71[_0x29f9fc(0x1f7,0x20c)]=_0x5bda2b,_0x405e71[_0x29f9fc(0x20b,0x1a5)]=_0x35d603,_0x405e71;}());var fullscreenVert=_0x5ac86e(-0xb6,-0xdd),screenDrawFrag=_0x5ac86e(-0x12d,-0xfb),segmentDrawFrag=_0x5ac86e(-0x78,-0x88),segmentDrawVert=_0x5ac86e(-0x106,-0x104),trailDrawFrag='#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0a\x0auniform\x20sampler2D\x20segmentsColorTexture;\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0a\x0auniform\x20sampler2D\x20currentTrailsColor;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0auniform\x20float\x20fadeOpacity;\x0a\x0aout\x20vec4\x20fragColor;\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20pointsColor\x20=\x20texture(segmentsColorTexture,\x20textureCoordinate);\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(currentTrailsColor,\x20textureCoordinate);\x0a\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0f\x20*\x20trailsColor)\x20/\x20255.0f;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0a\x0a\x20\x20float\x20pointsDepth\x20=\x20texture(segmentsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20if(pointsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20pointsColor;\x0a\x20\x20}\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20trailsColor;\x0a\x20\x20}\x0a\x20\x20gl_FragDepth\x20=\x20min(pointsDepth,\x20trailsDepth);\x0a}\x0a';const Cesium$4=mars3d__namespace['Cesium'];class ParticlesRendering{constructor(_0x3453af,_0x3e6096,_0xd3ffd2,_0x4028e6,_0x5b91f2){this[_0x1c5a25(0x503,0x571)]=_0xd3ffd2['colors']==='height',this[_0x1c5a25(0x3f3,0x42a)](_0x3453af,_0x3e6096,_0xd3ffd2[_0x2f7414(-0x81,-0xeb)]),this['createRenderingFramebuffers'](_0x3453af);function _0x2f7414(_0x508d43,_0x3dcc88){return _0x5ac86e(_0x508d43,_0x3dcc88- -0xc2);}function _0x1c5a25(_0x41066c,_0xd4d03d){return _0x444c46(_0x41066c-0x209,_0xd4d03d);}this[_0x2f7414(-0x243,-0x1b9)](_0x3453af,_0x3e6096,_0xd3ffd2,_0x4028e6,_0x5b91f2);}[_0x5ac86e(-0x101,-0x102)](_0x169f66,_0x58e00e,_0x3e8c2f){const _0x415cfe={};_0x415cfe[_0x24c848(0x100,0x100)]=_0x169f66,_0x415cfe['width']=_0x169f66[_0x24c848(0xe7,0xe1)],_0x415cfe[_0x24c848(0x1df,0x190)]=_0x169f66['drawingBufferHeight'],_0x415cfe['pixelFormat']=Cesium$4['PixelFormat']['RGBA'],_0x415cfe[_0x24c848(0x76,0xa0)]=Cesium$4['PixelDatatype'][_0x24c848(0xb6,0xdd)];const _0x2140f7=_0x415cfe,_0x5d7e5a={};_0x5d7e5a[_0x2675ea(0x42a,0x483)]=_0x169f66,_0x5d7e5a[_0x2675ea(0x554,0x4cc)]=_0x169f66[_0x24c848(0xe9,0xe1)];function _0x2675ea(_0x2869b1,_0x57211c){return _0x5ac86e(_0x2869b1,_0x57211c-0x510);}_0x5d7e5a['height']=_0x169f66['drawingBufferHeight'],_0x5d7e5a[_0x24c848(0x140,0x14f)]=Cesium$4[_0x24c848(0x151,0x10d)]['DEPTH_COMPONENT'],_0x5d7e5a['pixelDatatype']=Cesium$4['PixelDatatype']['UNSIGNED_INT'];const _0x4c150a=_0x5d7e5a,_0x14d465=_0x3e8c2f[_0x24c848(0x1a0,0x161)],_0xc76e11=new Float32Array(_0x14d465*0x3);for(let _0x4bf1b6=0x0;_0x4bf1b6<_0x14d465;_0x4bf1b6++){const _0x56530d=Cesium$4['Color']['fromCssColorString'](_0x3e8c2f[_0x4bf1b6]);_0xc76e11[0x3*_0x4bf1b6]=_0x56530d['red'],_0xc76e11[0x3*_0x4bf1b6+0x1]=_0x56530d['green'],_0xc76e11[0x3*_0x4bf1b6+0x2]=_0x56530d[_0x24c848(0x12b,0x11d)];}function _0x24c848(_0x5be0d1,_0x55e66c){return _0x5ac86e(_0x5be0d1,_0x55e66c-0x18d);}const _0x2b25f1={'context':_0x169f66,'width':_0x14d465,'height':0x1,'pixelFormat':Cesium$4['PixelFormat'][_0x2675ea(0x4dd,0x472)],'pixelDatatype':Cesium$4['PixelDatatype']['FLOAT'],'sampler':new Cesium$4[(_0x2675ea(0x43e,0x4c8))]({'minificationFilter':Cesium$4[_0x24c848(0x12a,0xc9)][_0x2675ea(0x4d8,0x4ff)],'magnificationFilter':Cesium$4[_0x2675ea(0x48e,0x47b)][_0x2675ea(0x569,0x4ff)]})};this['textures']={'segmentsColor':Util[_0x24c848(0x8d,0xb1)](_0x2140f7),'segmentsDepth':Util['createTexture'](_0x4c150a),'currentTrailsColor':Util[_0x2675ea(0x3e1,0x434)](_0x2140f7),'currentTrailsDepth':Util['createTexture'](_0x4c150a),'nextTrailsColor':Util['createTexture'](_0x2140f7),'nextTrailsDepth':Util['createTexture'](_0x4c150a),'colorTable':Util['createTexture'](_0x2b25f1,_0xc76e11)};}[_0x5ac86e(0x44,-0x9)](_0x1cdace){function _0x54cd28(_0x7d5de0,_0x9c480a){return _0x444c46(_0x9c480a-0x23d,_0x7d5de0);}function _0x50f2c9(_0x3089c4,_0x15638c){return _0x5ac86e(_0x15638c,_0x3089c4-0x3e1);}this['framebuffers']={'segments':Util['createFramebuffer'](_0x1cdace,this[_0x54cd28(0x47f,0x43b)][_0x54cd28(0x4ad,0x502)],this['textures']['segmentsDepth']),'currentTrails':Util['createFramebuffer'](_0x1cdace,this[_0x50f2c9(0x2f3,0x27e)][_0x50f2c9(0x3de,0x356)],this[_0x54cd28(0x46a,0x43b)]['currentTrailsDepth']),'nextTrails':Util['createFramebuffer'](_0x1cdace,this['textures']['nextTrailsColor'],this['textures']['nextTrailsDepth'])};}['createSegmentsGeometry'](_0x1aaef0){const _0x446336=0x4;let _0x44079a=[];for(let _0x349fa1=0x0;_0x349fa1<_0x1aaef0['particlesTextureSize'];_0x349fa1++){for(let _0x40980f=0x0;_0x40980f<_0x1aaef0['particlesTextureSize'];_0x40980f++){for(let _0x3baa09=0x0;_0x3baa09<_0x446336;_0x3baa09++){_0x44079a[_0x4946d1(0x51e,0x48c)](_0x349fa1/_0x1aaef0['particlesTextureSize']),_0x44079a['push'](_0x40980f/_0x1aaef0['particlesTextureSize']);}}}_0x44079a=new Float32Array(_0x44079a);let _0xab5a53=[];for(let _0x513676=0x0;_0x513676<_0x1aaef0[_0x4946d1(0x412,0x3ff)];_0x513676++){_0xab5a53[_0x234924(0x64,0x13)](-0x1,-0x1,0x0,-0x1,0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0);}function _0x4946d1(_0xff5252,_0x1cab31){return _0x444c46(_0x1cab31-0x1ba,_0xff5252);}_0xab5a53=new Float32Array(_0xab5a53);let _0xd2d95f=[];for(let _0x3261b5=0x0,_0xf1317e=0x0;_0x3261b5<_0x1aaef0['maxParticles'];_0x3261b5++){_0xd2d95f[_0x234924(0x64,0x5f)](_0xf1317e+0x0,_0xf1317e+0x1,_0xf1317e+0x2,_0xf1317e+0x2,_0xf1317e+0x1,_0xf1317e+0x3),_0xf1317e+=_0x446336;}_0xd2d95f=new Uint32Array(_0xd2d95f);const _0x3da96b=new Cesium$4['Geometry']({'attributes':new Cesium$4['GeometryAttributes']({'st':new Cesium$4[(_0x234924(-0x4f,-0x54))]({'componentDatatype':Cesium$4['ComponentDatatype'][_0x234924(0x2f,0x3e)],'componentsPerAttribute':0x2,'values':_0x44079a}),'normal':new Cesium$4[(_0x234924(-0x4f,-0xbb))]({'componentDatatype':Cesium$4[_0x4946d1(0x4ba,0x491)]['FLOAT'],'componentsPerAttribute':0x3,'values':_0xab5a53})}),'indices':_0xd2d95f});function _0x234924(_0x301ca3,_0x15868a){return _0x444c46(_0x301ca3- -0x26e,_0x15868a);}return _0x3da96b;}[_0x5ac86e(-0xce,-0xf7)](_0x33b6cc,_0x2c3ad9,_0x2a2ef6,_0x48aa76,_0x4f0d55){const _0xcbc58b=this,_0x1286c8={};_0x1286c8['st']=0x0,_0x1286c8[_0x241577(-0x56,-0x78)]=0x1;const _0xdec88c={};_0xdec88c['sources']=[segmentDrawVert];const _0x1c994e={};_0x1c994e['sources']=[segmentDrawFrag];const _0x38a022={};_0x38a022['enabled']=!![];const _0x5f252d={};_0x5f252d[_0x34edf9(0x151,0x108)]=undefined,_0x5f252d['depthTest']=_0x38a022,_0x5f252d['depthMask']=!![];const _0x644cc7={};_0x644cc7['position']=0x0,_0x644cc7['st']=0x1;const _0x54ea7d={};_0x54ea7d[_0x241577(-0xd5,-0x13e)]=['DISABLE_GL_POSITION_LOG_DEPTH'];function _0x34edf9(_0x156115,_0x466c69){return _0x444c46(_0x466c69- -0x1a4,_0x156115);}_0x54ea7d['sources']=[fullscreenVert];function _0x241577(_0x3a66da,_0x3db667){return _0x444c46(_0x3a66da- -0x332,_0x3db667);}const _0x298cb1={};_0x298cb1['defines']=['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],_0x298cb1[_0x34edf9(0xdd,0x117)]=[trailDrawFrag];const _0x5f2675={};_0x5f2675['position']=0x0,_0x5f2675['st']=0x1;const _0xb0cccf={};_0xb0cccf['defines']=[_0x34edf9(0x1e,0x41)],_0xb0cccf['sources']=[fullscreenVert];const _0x4f3117={};_0x4f3117['defines']=['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],_0x4f3117['sources']=[screenDrawFrag];const _0x23dc91={};_0x23dc91['enabled']=![];const _0xbe374c={};_0xbe374c[_0x34edf9(0x10d,0xe1)]=!![],this[_0x241577(-0x44,0x52)]={'segments':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x1286c8,'geometry':this['createSegmentsGeometry'](_0x2a2ef6),'primitiveType':Cesium$4['PrimitiveType'][_0x34edf9(0x89,0xf0)],'uniformMap':{'previousParticlesPosition':function(){function _0x30d5f2(_0x4c5178,_0xa4ba44){return _0x34edf9(_0xa4ba44,_0x4c5178-0x39b);}function _0xeadea3(_0x22454c,_0x5240d0){return _0x34edf9(_0x22454c,_0x5240d0- -0xc);}return _0x4f0d55[_0x30d5f2(0x3e5,0x435)][_0xeadea3(0x2,0x63)];},'currentParticlesPosition':function(){return _0x4f0d55['particlesTextures']['currentParticlesPosition'];},'postProcessingPosition':function(){return _0x4f0d55['particlesTextures']['postProcessingPosition'];},'particlesSpeed':function(){function _0x196e16(_0x57d14d,_0x5e3b11){return _0x241577(_0x57d14d-0x239,_0x5e3b11);}function _0x3f33ae(_0x2a2ff3,_0x119f82){return _0x34edf9(_0x119f82,_0x2a2ff3- -0x2e);}return _0x4f0d55[_0x3f33ae(0x1c,0x6)][_0x3f33ae(0xf7,0x11f)];},'colorTable':function(){function _0x31f08a(_0x86612a,_0x371ff6){return _0x241577(_0x86612a-0x201,_0x371ff6);}return _0xcbc58b['textures'][_0x31f08a(0x17e,0x1a0)];},'aspect':function(){function _0x59767b(_0x1d6f63,_0x35c6dc){return _0x34edf9(_0x35c6dc,_0x1d6f63- -0xc2);}return _0x33b6cc['drawingBufferWidth']/_0x33b6cc[_0x59767b(0x78,0x2c)];},'H':function(){return _0x2c3ad9['H']['array'];},'hRange':function(){function _0x1c7bc2(_0x219c85,_0xf7cbcf){return _0x34edf9(_0xf7cbcf,_0x219c85-0x391);}function _0x434935(_0x37f9f3,_0x5d569e){return _0x241577(_0x5d569e-0x566,_0x37f9f3);}return new Cesium$4[(_0x434935(0x485,0x46e))](_0x2c3ad9['H']['min'],_0x2c3ad9['H'][_0x1c7bc2(0x3da,0x396)]);},'uSpeedRange':function(){return new Cesium$4['Cartesian2'](_0x2c3ad9['U']['min'],_0x2c3ad9['U']['max']);},'vSpeedRange':function(){function _0x18eab7(_0x4bef56,_0x80a319){return _0x241577(_0x80a319-0x2ee,_0x4bef56);}function _0xc278f3(_0x175ded,_0x129f71){return _0x34edf9(_0x175ded,_0x129f71- -0x268);}return new Cesium$4[(_0xc278f3(-0x1f0,-0x1d2))](_0x2c3ad9['V'][_0x18eab7(0x281,0x214)],_0x2c3ad9['V']['max']);},'wSpeedRange':function(){function _0x1a89d6(_0x527804,_0x59a32d){return _0x34edf9(_0x527804,_0x59a32d-0x199);}return new Cesium$4[(_0x1a89d6(0x1c2,0x22f))](_0x2c3ad9['W']['min'],_0x2c3ad9['W']['max']);},'pixelSize':function(){return _0x48aa76['pixelSize'];},'lineWidth':function(){return _0x2a2ef6['lineWidth'];},'particleHeight':function(){function _0x31f32d(_0x3529bd,_0x5d7716){return _0x34edf9(_0x3529bd,_0x5d7716- -0x17d);}return _0x2a2ef6[_0x31f32d(-0xc9,-0x125)];},'colour':function(){function _0xa35735(_0xff4c53,_0x422ce3){return _0x34edf9(_0xff4c53,_0x422ce3-0x274);}return _0xcbc58b[_0xa35735(0x440,0x3ca)];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0xdec88c),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x1c994e),'rawRenderState':Util[_0x241577(-0xd8,-0x9c)](_0x5f252d),'framebuffer':this['framebuffers'][_0x34edf9(0x71,0x61)],'autoClear':!![]}),'trails':new CustomPrimitive({'commandType':_0x34edf9(0xc0,0x143),'attributeLocations':_0x644cc7,'geometry':Util[_0x34edf9(0x15f,0x15b)](),'primitiveType':Cesium$4[_0x241577(-0x5f,0x24)]['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){function _0xf1f3a7(_0x57d890,_0x2bbe56){return _0x34edf9(_0x57d890,_0x2bbe56-0x4ed);}return _0xcbc58b[_0xf1f3a7(0x5b9,0x547)]['segmentsColor'];},'segmentsDepthTexture':function(){return _0xcbc58b['textures']['segmentsDepth'];},'currentTrailsColor':function(){function _0xcab0f4(_0x176a4c,_0x3f2422){return _0x34edf9(_0x176a4c,_0x3f2422-0xb3);}return _0xcbc58b[_0xcab0f4(0x13d,0x13b)]['currentTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){return _0xcbc58b['framebuffers']['currentTrails']['depthTexture'];},'fadeOpacity':function(){return _0x2a2ef6['fadeOpacity'];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0x54ea7d),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x298cb1),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':{'enabled':!![],'func':Cesium$4[_0x241577(-0x2e,0x48)]['ALWAYS']},'depthMask':!![]}),'framebuffer':this['framebuffers']['nextTrails'],'autoClear':!![],'preExecute':function(){function _0x3b6e03(_0x342cd2,_0x1252cd){return _0x241577(_0x342cd2-0x5ba,_0x1252cd);}if(_0x2a2ef6[_0x3b6e03(0x572,0x4ee)]){const _0xf704a=_0xcbc58b['framebuffers'][_0x297adc(0x46c,0x401)];_0xcbc58b[_0x3b6e03(0x4b4,0x4bb)][_0x3b6e03(0x518,0x4d3)]=_0xcbc58b['framebuffers'][_0x3b6e03(0x531,0x52e)],_0xcbc58b['framebuffers'][_0x297adc(0x485,0x49b)]=_0xf704a;}function _0x297adc(_0x26a033,_0x288361){return _0x241577(_0x26a033-0x50e,_0x288361);}_0xcbc58b['primitives']['trails']['commandToExecute']['framebuffer']=_0xcbc58b['framebuffers']['nextTrails'],_0xcbc58b[_0x3b6e03(0x576,0x576)][_0x3b6e03(0x491,0x518)][_0x3b6e03(0x52f,0x5c5)]['framebuffer']=_0xcbc58b['framebuffers']['nextTrails'];}}),'screen':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x5f2675,'geometry':Util['getFullscreenQuad'](),'primitiveType':Cesium$4['PrimitiveType'][_0x34edf9(0x182,0xf0)],'uniformMap':{'trailsColorTexture':function(){function _0x450090(_0x291264,_0xc70908){return _0x241577(_0x291264-0x35d,_0xc70908);}function _0x5045f5(_0x5b3a95,_0x4dbddb){return _0x34edf9(_0x4dbddb,_0x5b3a95-0x63);}return _0xcbc58b['framebuffers'][_0x450090(0x2d4,0x264)][_0x5045f5(0xd9,0x4a)](0x0);},'trailsDepthTexture':function(){function _0x209f31(_0x511844,_0x2e0771){return _0x34edf9(_0x511844,_0x2e0771- -0x2c2);}return _0xcbc58b[_0x209f31(-0x1a5,-0x23a)]['nextTrails']['depthTexture'];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0xb0cccf),'fragmentShaderSource':new Cesium$4[(_0x34edf9(0x30,0x66))](_0x4f3117),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':_0x23dc91,'depthMask':!![],'blending':_0xbe374c}),'framebuffer':undefined})};}}var CalculateSpeedShader=_0x5ac86e(-0x13d,-0x108),PostProcessingPositionShader='#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x0a\x0auniform\x20sampler2D\x20H;\x20//\x20particles\x20height\x20textures\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0auniform\x20vec2\x20viewerLonRange;\x0auniform\x20vec2\x20viewerLatRange;\x0a\x0aconst\x20float\x20randomCoefficient\x20=\x200.1f;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0aconst\x20float\x20dropRate\x20=\x200.1f;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0aconst\x20float\x20dropRateBump\x20=\x200.1f;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0avec4\x20getTextureValue(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20vec4\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D);\x0a\x20\x20return\x20result;\x0a}\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898f,\x2078.233f,\x204375.85453f);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0f,\x201.0f);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0abool\x20particleNoSpeed(vec3\x20particle)\x20{\x0a\x20\x20vec4\x20speed\x20=\x20getTextureValue(particlesSpeed,\x20particle);\x0a\x20\x20return\x20speed.r\x20==\x200.0f\x20&&\x20speed.g\x20==\x200.0f;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0f);\x0a\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20float\x20height\x20=\x20getTextureValue(H,\x20vec3(randomLon,\x20randomLat,\x20lev)).r;\x0a\x0a\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20height);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20return\x20particle.y\x20<\x20viewerLatRange.x\x20||\x20particle.y\x20>\x20viewerLatRange.y\x20||\x20particle.x\x20<\x20viewerLonRange.x\x20||\x20particle.x\x20>\x20viewerLonRange.y;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20nextParticle\x20=\x20texture(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec4\x20nextSpeed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20float\x20speedNorm\x20=\x20nextSpeed.a;\x0a\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20speedNorm;\x0a\x0a\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20if(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(randomParticle,\x201.0f);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x0a}\x0a',UpdatePositionShader=_0x444c46(0x2da,0x28f);const Cesium$3=mars3d__namespace[_0x5ac86e(-0x143,-0xc8)];class ParticlesComputing{constructor(_0x2b35b1,_0x1f8c3d,_0x3e728d,_0x18d014){this[_0x1e24fa(0x344,0x383)]=_0x1f8c3d;function _0x1e24fa(_0x34d103,_0x477321){return _0x444c46(_0x477321-0xfd,_0x34d103);}this['createWindTextures'](_0x2b35b1,_0x1f8c3d),this['createParticlesTextures'](_0x2b35b1,_0x3e728d,_0x18d014),this['createComputingPrimitives'](_0x1f8c3d,_0x3e728d,_0x18d014);}[_0x5ac86e(-0x69,-0x24)](_0x167c6f,_0x5851f9){function _0x80ba19(_0x820ca0,_0x40480e){return _0x444c46(_0x40480e- -0x301,_0x820ca0);}var _0x15c25f;function _0x2edf6f(_0x12f442,_0x38d744){return _0x5ac86e(_0x38d744,_0x12f442- -0x132);}const _0x2661b7={'context':_0x167c6f,'width':_0x5851f9['dimensions'][_0x2edf6f(-0x152,-0x1bb)],'height':_0x5851f9['dimensions']['lat']*(_0x5851f9['dimensions'][_0x2edf6f(-0x161,-0x1c2)]||0x1),'pixelFormat':Cesium$3[_0x2edf6f(-0x1b2,-0x128)][_0x2edf6f(-0x14f,-0xc4)],'pixelDatatype':Cesium$3['PixelDatatype']['FLOAT'],'flipY':![],'sampler':new Cesium$3[(_0x2edf6f(-0x17a,-0xf3))]({'minificationFilter':Cesium$3['TextureMinificationFilter'][_0x80ba19(-0x12a,-0x112)],'magnificationFilter':Cesium$3['TextureMagnificationFilter'][_0x2edf6f(-0x22f,-0x221)]})};this['windTextures']={'U':Util['createTexture'](_0x2661b7,_0x5851f9['U'][_0x2edf6f(-0x192,-0x178)]),'V':Util[_0x80ba19(-0x173,-0xf1)](_0x2661b7,_0x5851f9['V'][_0x80ba19(-0xeb,-0x75)]),'W':Util[_0x80ba19(-0x14d,-0xf1)](_0x2661b7,((_0x15c25f=_0x5851f9['W'])===null||_0x15c25f===void 0x0?void 0x0:_0x15c25f[_0x2edf6f(-0x192,-0x16a)])??_0x5851f9['U'][_0x80ba19(-0xee,-0x75)]),'H':Util[_0x80ba19(-0xad,-0xf1)](_0x2661b7,_0x5851f9['H']['array'])};}['createParticlesTextures'](_0x2e614f,_0x761c77,_0xf347cf){const _0x5c4084={'context':_0x2e614f,'width':_0x761c77[_0x212556(-0x6e,-0x72)],'height':_0x761c77[_0x19c5ff(0x3dd,0x357)],'pixelFormat':Cesium$3[_0x19c5ff(0x43e,0x44c)][_0x19c5ff(0x3e6,0x45e)],'pixelDatatype':Cesium$3['PixelDatatype']['FLOAT'],'flipY':![],'sampler':new Cesium$3[(_0x19c5ff(0x476,0x478))]({'minificationFilter':Cesium$3['TextureMinificationFilter'][_0x212556(-0x8a,-0xcb)],'magnificationFilter':Cesium$3[_0x19c5ff(0x429,0x45a)][_0x212556(-0x8a,-0x5c)]})},_0x295632=this['randomizeParticles'](_0x761c77['maxParticles'],_0xf347cf);function _0x212556(_0x17cf57,_0x241e21){return _0x444c46(_0x17cf57- -0x279,_0x241e21);}function _0x19c5ff(_0xa5faaf,_0x50ca26){return _0x444c46(_0xa5faaf-0x1d2,_0x50ca26);}const _0x1c0928=new Float32Array(0x4*_0x761c77['maxParticles'])[_0x212556(0x29,0x8b)](0x0);this[_0x19c5ff(0x3c0,0x426)]={'previousParticlesPosition':Util[_0x19c5ff(0x3e2,0x41b)](_0x5c4084,_0x295632),'currentParticlesPosition':Util[_0x19c5ff(0x3e2,0x367)](_0x5c4084,_0x295632),'nextParticlesPosition':Util['createTexture'](_0x5c4084,_0x295632),'postProcessingPosition':Util[_0x212556(-0x69,-0xf6)](_0x5c4084,_0x295632),'particlesSpeed':Util[_0x19c5ff(0x3e2,0x450)](_0x5c4084,_0x1c0928)};}['randomizeParticles'](_0x251f38,_0x1cdc50){const _0xda2981=new Float32Array(0x4*_0x251f38);function _0x218fd9(_0x353cf4,_0x25d3bb){return _0x444c46(_0x25d3bb- -0x36f,_0x353cf4);}function _0x3221c2(_0x191da4,_0x570076){return _0x444c46(_0x191da4- -0x235,_0x570076);}for(let _0x5dc1b6=0x0;_0x5dc1b6<_0x251f38;_0x5dc1b6++){_0xda2981[0x4*_0x5dc1b6]=Cesium$3['Math']['randomBetween'](_0x1cdc50['lonRange']['x'],_0x1cdc50['lonRange']['y']),_0xda2981[0x4*_0x5dc1b6+0x1]=Cesium$3['Math'][_0x218fd9(-0xf1,-0x7f)](_0x1cdc50[_0x218fd9(-0x93,-0xb5)]['x'],_0x1cdc50['latRange']['y']),_0xda2981[0x4*_0x5dc1b6+0x2]=Cesium$3['Math'][_0x218fd9(-0xe6,-0x7f)](this['data']['lev'][_0x218fd9(-0x131,-0x117)],this['data'][_0x3221c2(0x88,0x87)]['max']),_0xda2981[0x4*_0x5dc1b6+0x3]=0x0;}return _0xda2981;}[_0x444c46(0x305,0x2e8)](_0x204246){const _0x302517=[_0x204246[_0xd64015(0x576,0x4e3)]['lon'],_0x204246['dimensions']['lat'],_0x204246[_0xd64015(0x576,0x52f)]['lev']];function _0xd64015(_0x3d6111,_0x329f5d){return _0x444c46(_0x3d6111-0x335,_0x329f5d);}const _0x505189=[_0x204246[_0xd64015(0x601,0x5ca)]['min'],_0x204246[_0xd64015(0x5bc,0x5d7)]['min'],_0x204246[_0x364fc5(0x3e8,0x477)][_0x364fc5(0x43f,0x412)]],_0x15b108=[_0x204246[_0x364fc5(0x403,0x486)][_0xd64015(0x522,0x4ac)],_0x204246['lat']['max'],_0x204246['lev']['max']],_0x507e86=[(_0x15b108[0x0]-_0x505189[0x0])/(_0x302517[0x0]-0x1),(_0x15b108[0x1]-_0x505189[0x1])/(_0x302517[0x1]-0x1),_0x302517[0x2]>0x1?(_0x15b108[0x2]-_0x505189[0x2])/(_0x302517[0x2]-0x1):0x1],_0x1a034c=Math[_0xd64015(0x5c3,0x5d2)](Math['random']()*_0x204246['U']['array']['length']),_0x9b43d9=_0x1a034c%(_0x302517[0x0]*_0x302517[0x1]);function _0x364fc5(_0x45e39a,_0x1d29f2){return _0x444c46(_0x1d29f2-0x1ba,_0x45e39a);}const _0xbdb6a9=Math['floor'](_0x9b43d9/_0x302517[0x0]),_0x230747=_0x9b43d9%_0x302517[0x0],_0x14249c=Cesium$3[_0x364fc5(0x4b2,0x44b)]['randomBetween'](_0x505189[0x0]+_0x230747*_0x507e86[0x0],_0x505189[0x0]+(_0x230747+0x1)*_0x507e86[0x0]),_0x35c105=Cesium$3[_0xd64015(0x5c6,0x5d1)]['randomBetween'](_0x505189[0x1]+(_0xbdb6a9-0x1)*_0x507e86[0x1],_0x505189[0x1]+_0xbdb6a9*_0x507e86[0x1]),_0x3c4812=_0x204246['H']['array'][_0x1a034c]||0x0;return[_0x14249c,_0x35c105,_0x3c4812];}[_0x5ac86e(0x20,0x15)](){function _0x2356fc(_0x15b8b9,_0x514ff0){return _0x5ac86e(_0x514ff0,_0x15b8b9-0x1f2);}function _0x570ff3(_0x1cd7ba,_0x54ab25){return _0x5ac86e(_0x1cd7ba,_0x54ab25-0x370);}Object[_0x2356fc(0x12c,0xd1)](this[_0x2356fc(0xf4,0x157)])[_0x2356fc(0x17f,0x195)](_0x2d651f=>{this['particlesTextures'][_0x2d651f]['destroy']();});}[_0x5ac86e(0x5,-0x7d)](_0x3745c6,_0x4e06cd,_0x54fe61){const _0x32b4e8=new Cesium$3['Cartesian3'](_0x3745c6[_0x4f3f7c(0x1c4,0x185)]['lon'],_0x3745c6['dimensions']['lat'],_0x3745c6[_0x4f3f7c(0x1b7,0x185)][_0x1afb09(0xcc,0x5a)]),_0x421a9f=new Cesium$3['Cartesian3'](_0x3745c6['lon']['min'],_0x3745c6[_0x1afb09(0x69,0x24)][_0x4f3f7c(0x17f,0x19c)],_0x3745c6[_0x4f3f7c(0x211,0x201)][_0x4f3f7c(0x108,0x19c)]),_0x5d5d78=new Cesium$3[(_0x1afb09(0x18,0x28))](_0x3745c6[_0x1afb09(0x2b,0x69)][_0x4f3f7c(0x188,0x131)],_0x3745c6[_0x4f3f7c(0x213,0x1cb)][_0x4f3f7c(0x10f,0x131)],_0x3745c6[_0x1afb09(-0xc,0x5a)][_0x1afb09(-0x3d,-0x76)]),_0xed5bec=new Cesium$3['Cartesian3']((_0x5d5d78['x']-_0x421a9f['x'])/(_0x32b4e8['x']-0x1),(_0x5d5d78['y']-_0x421a9f['y'])/(_0x32b4e8['y']-0x1),_0x32b4e8['z']>0x1?(_0x5d5d78['z']-_0x421a9f['z'])/(_0x32b4e8['z']-0x1):0x1),_0x4852a6=new Cesium$3['Cartesian2'](_0x3745c6['lon']['min'],_0x3745c6['lon'][_0x1afb09(-0x1d,-0x76)]),_0x4d0511=new Cesium$3['Cartesian2'](_0x3745c6[_0x1afb09(0x16,0x24)]['min'],_0x3745c6[_0x4f3f7c(0x19e,0x1cb)]['max']);function _0x4f3f7c(_0x188db9,_0x5879b1){return _0x5ac86e(_0x188db9,_0x5879b1-0x230);}const _0x734fa2=new Cesium$3['Cartesian2'](_0x3745c6['U'][_0x4f3f7c(0x166,0x19c)],_0x3745c6['U'][_0x4f3f7c(0x9c,0x131)]),_0x350462=new Cesium$3[(_0x4f3f7c(0x1fd,0x17e))](_0x3745c6['V']['min'],_0x3745c6['V']['max']),_0x2f78ce=new Cesium$3[(_0x4f3f7c(0x11e,0x17e))](_0x3745c6['W']['min'],_0x3745c6['W']['max']),_0x17dc5a=this,_0x403fc8={};_0x403fc8['U']=function(){return _0x17dc5a['windTextures']['U'];},_0x403fc8['V']=function(){return _0x17dc5a['windTextures']['V'];},_0x403fc8['W']=function(){return _0x17dc5a['windTextures']['W'];},_0x403fc8['currentParticlesPosition']=function(){function _0x3def71(_0x3115d4,_0x328186){return _0x4f3f7c(_0x3115d4,_0x328186- -0x1c4);}return _0x17dc5a['particlesTextures'][_0x3def71(-0x6a,-0x7e)];},_0x403fc8[_0x4f3f7c(0xf2,0x177)]=function(){return _0x32b4e8;},_0x403fc8['minimum']=function(){return _0x421a9f;},_0x403fc8[_0x1afb09(0xb4,0x43)]=function(){return _0x5d5d78;},_0x403fc8['interval']=function(){return _0xed5bec;},_0x403fc8['uSpeedRange']=function(){return _0x734fa2;},_0x403fc8['vSpeedRange']=function(){return _0x350462;},_0x403fc8['wSpeedRange']=function(){return _0x2f78ce;},_0x403fc8['speedScaleFactor']=function(){function _0x51442a(_0x5245f3,_0xf65fbf){return _0x1afb09(_0x5245f3,_0xf65fbf-0x1a7);}return _0x54fe61[_0x51442a(0x127,0x1b8)]*_0x4e06cd['speedFactor'];};const _0xdd21c2={};_0xdd21c2[_0x4f3f7c(0x1bb,0x1ff)]=[CalculateSpeedShader];const _0x2565a={};function _0x1afb09(_0x28b923,_0x75c657){return _0x5ac86e(_0x28b923,_0x75c657-0x89);}_0x2565a['sources']=[UpdatePositionShader];const _0x226e27={};_0x226e27['sources']=[PostProcessingPositionShader],this[_0x4f3f7c(0x26a,0x232)]={'calculateSpeed':new CustomPrimitive({'commandType':'Compute','uniformMap':_0x403fc8,'fragmentShaderSource':new Cesium$3[(_0x1afb09(-0x38,-0x59))](_0xdd21c2),'outputTexture':this['particlesTextures']['particlesSpeed'],'preExecute':function(){function _0x322486(_0x5e2036,_0x1cb4e9){return _0x1afb09(_0x1cb4e9,_0x5e2036-0x157);}if(_0x4e06cd!==undefined&&_0x4e06cd['dynamic']){const _0x36e96d=_0x17dc5a[_0x393cf4(0x4d7,0x4c7)]['previousParticlesPosition'];_0x17dc5a['particlesTextures'][_0x322486(0x107,0x97)]=_0x17dc5a[_0x322486(0xe2,0x147)][_0x393cf4(0x561,0x4db)],_0x17dc5a[_0x393cf4(0x558,0x4c7)]['currentParticlesPosition']=_0x17dc5a['particlesTextures'][_0x322486(0x1c8,0x252)],_0x17dc5a['particlesTextures']['postProcessingPosition']=_0x36e96d;}function _0x393cf4(_0x5f0f23,_0x127d11){return _0x4f3f7c(_0x5f0f23,_0x127d11-0x395);}_0x17dc5a['primitives'][_0x322486(0x15b,0x1e9)]['commandToExecute']['outputTexture']=_0x17dc5a['particlesTextures']['particlesSpeed'];}}),'updatePosition':new CustomPrimitive({'commandType':_0x4f3f7c(0x21c,0x1c2),'uniformMap':{'currentParticlesPosition':function(){function _0x430d16(_0x50c3a8,_0x384516){return _0x4f3f7c(_0x384516,_0x50c3a8-0x33c);}return _0x17dc5a['particlesTextures'][_0x430d16(0x482,0x44b)];},'particlesSpeed':function(){return _0x17dc5a['particlesTextures']['particlesSpeed'];}},'fragmentShaderSource':new Cesium$3[(_0x4f3f7c(0x14d,0x14e))](_0x2565a),'outputTexture':this['particlesTextures']['nextParticlesPosition'],'preExecute':function(){function _0x3adfcf(_0x58aea,_0xc1919a){return _0x4f3f7c(_0xc1919a,_0x58aea- -0xf3);}function _0x4c161e(_0x36a856,_0x51273d){return _0x4f3f7c(_0x36a856,_0x51273d-0x33e);}_0x17dc5a[_0x4c161e(0x54e,0x570)]['updatePosition'][_0x3adfcf(0xea,0xa6)][_0x3adfcf(0xc2,0x70)]=_0x17dc5a['particlesTextures'][_0x4c161e(0x551,0x574)];}}),'postProcessingPosition':new CustomPrimitive({'commandType':'Compute','uniformMap':{'nextParticlesPosition':function(){return _0x17dc5a['particlesTextures']['nextParticlesPosition'];},'particlesSpeed':function(){function _0x2d144e(_0x4557dc,_0x394001){return _0x4f3f7c(_0x4557dc,_0x394001- -0x241);}return _0x17dc5a['particlesTextures'][_0x2d144e(-0x2e,-0x34)];},'viewerLonRange':function(){return _0x54fe61['lonRange'];},'viewerLatRange':function(){return _0x54fe61['latRange'];},'lonRange':function(){return _0x4852a6;},'latRange':function(){return _0x4d0511;},'dimension':function(){return _0x32b4e8;},'minimum':function(){return _0x421a9f;},'maximum':function(){return _0x5d5d78;},'interval':function(){return _0xed5bec;},'H':function(){return _0x17dc5a['windTextures']['H'];},'randomCoefficient':function(){const _0x2e8916=Math[_0xa201e1(-0xcc,-0x42)]();function _0xa201e1(_0x42c72b,_0x24cd2d){return _0x4f3f7c(_0x42c72b,_0x24cd2d- -0x28c);}return _0x2e8916;},'dropRate':function(){function _0x3a5eaa(_0x48c66d,_0x3cfd9a){return _0x4f3f7c(_0x3cfd9a,_0x48c66d-0x3b0);}return _0x4e06cd[_0x3a5eaa(0x509,0x578)];},'dropRateBump':function(){function _0x428b1e(_0x1c8131,_0x37772d){return _0x1afb09(_0x37772d,_0x1c8131-0x21d);}return _0x4e06cd[_0x428b1e(0x279,0x21f)];}},'fragmentShaderSource':new Cesium$3['ShaderSource'](_0x226e27),'outputTexture':this['particlesTextures']['postProcessingPosition'],'preExecute':function(){function _0x534b84(_0x35d349,_0xcea911){return _0x4f3f7c(_0x35d349,_0xcea911-0x1aa);}function _0x193653(_0x144055,_0x4f1c1b){return _0x4f3f7c(_0x144055,_0x4f1c1b-0x30a);}_0x17dc5a['primitives'][_0x193653(0x4d8,0x522)]['commandToExecute']['outputTexture']=_0x17dc5a['particlesTextures'][_0x534b84(0x335,0x3c2)];}})};}}const Cesium$2=mars3d__namespace['Cesium'];class ParticleSystem{constructor(_0x3f27a0,_0x2696eb,_0x4eee7d,_0x304d50){this['context']=_0x3f27a0;function _0x14a7c7(_0x100e43,_0x15970f){return _0x444c46(_0x100e43- -0x3fc,_0x15970f);}_0x2696eb={..._0x2696eb};_0x2696eb['udata']&&_0x2696eb['vdata']&&(_0x2696eb['dimensions']={},_0x2696eb['dimensions']['lon']=_0x2696eb['cols'],_0x2696eb[_0x14a7c7(-0x1bb,-0x223)]['lat']=_0x2696eb['rows'],_0x2696eb['dimensions'][_0x14a7c7(-0x13f,-0x17e)]=_0x2696eb['lev']||0x1,_0x2696eb['lon']={},_0x2696eb['lon'][_0x1ad0a7(0x2a0,0x2d2)]=_0x2696eb['xmin'],_0x2696eb[_0x1ad0a7(0x314,0x2e5)][_0x14a7c7(-0x20f,-0x291)]=_0x2696eb['xmax'],_0x2696eb[_0x1ad0a7(0x2cf,0x32f)]={},_0x2696eb['lat']['min']=_0x2696eb[_0x14a7c7(-0x1da,-0x264)],_0x2696eb['lat']['max']=_0x2696eb[_0x1ad0a7(0x264,0x2e3)],_0x2696eb[_0x1ad0a7(0x305,0x378)]={},_0x2696eb['lev']['min']=_0x2696eb['levmin']??0x1,_0x2696eb['lev'][_0x1ad0a7(0x235,0x2be)]=_0x2696eb['levmax']??0x1,_0x2696eb['U']={},_0x2696eb['U']['array']=new Float32Array(_0x2696eb['udata']),_0x2696eb['U']['min']=_0x2696eb['umin']??Math['min'](..._0x2696eb['udata']),_0x2696eb['U']['max']=_0x2696eb[_0x14a7c7(-0x110,-0x149)]??Math['max'](..._0x2696eb['udata']),_0x2696eb['V']={},_0x2696eb['V']['array']=new Float32Array(_0x2696eb['vdata']),_0x2696eb['V']['min']=_0x2696eb[_0x1ad0a7(0x2c5,0x2a8)]??Math['min'](..._0x2696eb[_0x14a7c7(-0x20a,-0x1f1)]),_0x2696eb['V']['max']=_0x2696eb['vmax']??Math['max'](..._0x2696eb[_0x14a7c7(-0x20a,-0x21e)]));!_0x2696eb['W']&&(_0x2696eb['W']={'array':new Float32Array(_0x2696eb['U'][_0x14a7c7(-0x170,-0x179)][_0x14a7c7(-0x13c,-0xb9)]),'min':0x0,'max':0x0});function _0x1ad0a7(_0x2830cd,_0x144603){return _0x5ac86e(_0x144603,_0x2830cd-0x334);}if(!_0x2696eb['H']){var _0x14a8a4;_0x2696eb['H']={'array':new Float32Array(_0x2696eb['U'][_0x14a7c7(-0x170,-0x17a)][_0x14a7c7(-0x13c,-0xce)]),'min':0x0,'max':0x0};if((_0x14a8a4=_0x2696eb['lev'])!==null&&_0x14a8a4!==void 0x0&&_0x14a8a4['array']){const {lon:_0x34aa75,lat:_0x54bdc8,lev:_0x18eb60}=_0x2696eb['dimensions'];for(let _0x20f94e=0x0;_0x20f94e<_0x18eb60;_0x20f94e++){for(let _0x408a82=0x0;_0x408a82<_0x54bdc8;_0x408a82++){for(let _0x2f1ccb=0x0;_0x2f1ccb<_0x34aa75;_0x2f1ccb++){const _0xd0fcd5=_0x20f94e*(_0x34aa75*_0x54bdc8)+_0x408a82*_0x34aa75+_0x2f1ccb;_0x2696eb['H']['array'][_0xd0fcd5]=_0x2696eb['lev']['array'][_0x20f94e];}}}_0x2696eb['H']['min']=Math[_0x1ad0a7(0x2a0,0x2dc)](..._0x2696eb['lev']['array']),_0x2696eb['H']['max']=Math[_0x1ad0a7(0x235,0x249)](..._0x2696eb['lev']['array']);}}this['data']=_0x2696eb,this['options']=_0x4eee7d,this[_0x1ad0a7(0x29e,0x25d)]=_0x304d50,this['particlesComputing']=new ParticlesComputing(this['context'],this['data'],this['options'],this[_0x14a7c7(-0x1a6,-0x1ca)]),this[_0x14a7c7(-0x1a7,-0x1c8)]=new ParticlesRendering(this['context'],this[_0x1ad0a7(0x2ce,0x23e)],this['options'],this['viewerParameters'],this[_0x1ad0a7(0x24c,0x263)]);}['canvasResize'](_0x174e5e){this['particlesComputing']['destroyParticlesTextures']();function _0x52b526(_0x42b102,_0x16f7f6){return _0x5ac86e(_0x16f7f6,_0x42b102-0x5f4);}Object[_0xf429dc(0x165,0x18e)](this[_0x52b526(0x50c,0x4a8)][_0xf429dc(0x214,0x290)])['forEach'](_0x388929=>{function _0x3756ca(_0x45559d,_0x351cea){return _0xf429dc(_0x45559d-0x2a0,_0x351cea);}this['particlesComputing'][_0x3756ca(0x4b4,0x483)][_0x388929]['destroy']();}),this['particlesRendering']['textures']['colorTable']['destroy'](),Object['keys'](this['particlesRendering']['framebuffers'])['forEach'](_0x10e602=>{function _0x2e850a(_0x4c6f82,_0x1af55f){return _0x52b526(_0x4c6f82- -0x1a0,_0x1af55f);}this['particlesRendering']['framebuffers'][_0x10e602][_0x2e850a(0x385,0x3c9)]();}),this[_0xf429dc(0x19e,0x16e)]=_0x174e5e;function _0xf429dc(_0xdfb20d,_0x550af6){return _0x444c46(_0xdfb20d- -0xc1,_0x550af6);}this['particlesComputing']=new ParticlesComputing(this[_0xf429dc(0x19e,0x1e3)],this[_0x52b526(0x58e,0x542)],this[_0xf429dc(0x1f8,0x274)],this[_0xf429dc(0x195,0x14e)]),this['particlesRendering']=new ParticlesRendering(this['context'],this['data'],this['options'],this['viewerParameters'],this['particlesComputing']);}['clearFramebuffers'](){function _0x2bdbfc(_0x312977,_0x35eb14){return _0x444c46(_0x35eb14- -0x23,_0x312977);}const _0x5c0ed5=new Cesium$2['ClearCommand']({'color':new Cesium$2[(_0x25d642(0x581,0x524))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':undefined,'pass':Cesium$2[_0x2bdbfc(0x14c,0x1d5)]['OPAQUE']});function _0x25d642(_0x4c1acf,_0x1b36cd){return _0x5ac86e(_0x1b36cd,_0x4c1acf-0x5d8);}Object['keys'](this['particlesRendering']['framebuffers'])[_0x25d642(0x565,0x5b7)](_0x5b348f=>{function _0x4e32b8(_0x56dc14,_0x5d1789){return _0x2bdbfc(_0x5d1789,_0x56dc14-0x1a8);}_0x5c0ed5[_0x4e32b8(0x3a6,0x3ad)]=this['particlesRendering'][_0x4d8b8f(0x50e,0x537)][_0x5b348f];function _0x4d8b8f(_0x2c00d4,_0xa13851){return _0x2bdbfc(_0x2c00d4,_0xa13851-0x32e);}_0x5c0ed5['execute'](this[_0x4e32b8(0x3e4,0x440)]);});}[_0x444c46(0x2fc,0x362)](_0x20c1f5,_0x1c5fcf=!![]){function _0x37046f(_0x44ba6d,_0x3464ca){return _0x5ac86e(_0x44ba6d,_0x3464ca-0x33b);}_0x1c5fcf&&(this['clearFramebuffers'](),this['particlesComputing']['destroyParticlesTextures'](),this['particlesComputing']['createParticlesTextures'](this['context'],this['options'],this['viewerParameters']));function _0x3e03c5(_0x31b62e,_0x423348){return _0x5ac86e(_0x423348,_0x31b62e-0x48d);}if(_0x20c1f5){var _0x28ca92;const _0x175d52=this['particlesRendering'][_0x37046f(0x2fc,0x2d0)](this['options']);this['particlesRendering']['primitives']['segments'][_0x37046f(0x22a,0x27e)]=_0x175d52;const _0x26030b=Cesium$2['VertexArray']['fromGeometry']({'context':this[_0x37046f(0x2f7,0x2ae)],'geometry':_0x175d52,'attributeLocations':this[_0x37046f(0x283,0x2a4)][_0x37046f(0x39c,0x33d)]['segments']['attributeLocations'],'bufferUsage':Cesium$2[_0x37046f(0x291,0x27a)][_0x37046f(0x357,0x32c)]});(_0x28ca92=this[_0x37046f(0x284,0x2a4)][_0x3e03c5(0x48f,0x43a)])!==null&&_0x28ca92!==void 0x0&&(_0x28ca92=_0x28ca92['segments'])!==null&&_0x28ca92!==void 0x0&&_0x28ca92['commandToExecute']&&(this['particlesRendering']['primitives']['segments']['commandToExecute'][_0x37046f(0x339,0x2f4)]=_0x26030b);}}[_0x5ac86e(-0x3,-0x68)](_0x5a9d1c){function _0x1a3d9a(_0x27489b,_0x178000){return _0x444c46(_0x27489b- -0x11c,_0x178000);}let _0x2f3f55=![];this['options'][_0x1904b8(-0x1dd,-0x156)]!==_0x5a9d1c['maxParticles']&&(_0x2f3f55=!![]);Object[_0x1a3d9a(0x10a,0xcd)](_0x5a9d1c)['forEach'](_0x5aedab=>{this['options'][_0x5aedab]=_0x5a9d1c[_0x5aedab];});function _0x1904b8(_0x4219b8,_0x56d65d){return _0x444c46(_0x56d65d- -0x39b,_0x4219b8);}this[_0x1904b8(-0x114,-0x9f)](_0x2f3f55,_0x5a9d1c['dynamic']);}['applyViewerParameters'](_0x11533e){Object['keys'](_0x11533e)[_0x335e5e(0x450,0x3f5)](_0x10c719=>{this['viewerParameters'][_0x10c719]=_0x11533e[_0x10c719];});function _0x335e5e(_0x3c4dfb,_0x2ca69b){return _0x444c46(_0x3c4dfb-0x1d7,_0x2ca69b);}this['refreshParticles'](![]);function _0x5a2908(_0x19816e,_0x1d1cc8){return _0x444c46(_0x1d1cc8- -0x410,_0x19816e);}!this['options']['dynamic']&&(this['options'][_0x5a2908(-0xc9,-0x126)]=!![],this[_0x5a2908(-0x125,-0x18c)](this['options']),setTimeout(()=>{this['options']['dynamic']=![];function _0x35add2(_0x3006ea,_0x32df13){return _0x5a2908(_0x3006ea,_0x32df13-0x717);}this['setOptions'](this[_0x35add2(0x576,0x5c0)]);},0x1f4));}['destroy'](){clearTimeout(this[_0x5da1e8(0x1ea,0x1ee)]),this['particlesComputing']['destroyParticlesTextures'](),Object[_0x5da1e8(0x1e9,0x20a)](this[_0x5da1e8(0x1c7,0x191)][_0x5da1e8(0x298,0x284)])[_0x5da1e8(0x23c,0x1d3)](_0x408c81=>{function _0x707fa9(_0x3bb102,_0x6895ed){return _0x5da1e8(_0x6895ed- -0x36a,_0x3bb102);}function _0x4610ee(_0x5ae222,_0x5e4b49){return _0x5da1e8(_0x5ae222-0x79,_0x5e4b49);}this[_0x4610ee(0x240,0x2bf)]['windTextures'][_0x408c81][_0x707fa9(-0x1eb,-0x18a)]();});function _0x533824(_0x4464e8,_0x247890){return _0x444c46(_0x247890- -0x246,_0x4464e8);}this['particlesRendering']['textures'][_0x533824(0x5d,0x69)][_0x533824(0x56,-0x29)]();function _0x5da1e8(_0x21e9d7,_0x3cd59a){return _0x444c46(_0x21e9d7- -0x3d,_0x3cd59a);}Object['keys'](this[_0x5da1e8(0x218,0x27b)]['framebuffers'])['forEach'](_0x191d23=>{function _0x464794(_0x1ae0f4,_0x4429e5){return _0x533824(_0x4429e5,_0x1ae0f4-0x5a7);}this['particlesRendering'][_0x464794(0x58d,0x611)][_0x191d23]['destroy']();});for(const _0x30f013 in this){delete this[_0x30f013];}}}const Cesium$1=mars3d__namespace[_0x5ac86e(-0x146,-0xc8)],BaseLayer$1=mars3d__namespace['layer']['BaseLayer'],_0x353038={};_0x353038[_0x5ac86e(-0x13b,-0xe4)]=0x1000,_0x353038[_0x5ac86e(-0x4f,-0x4b)]=0x0,_0x353038['fadeOpacity']=0.996,_0x353038['dropRate']=0.003,_0x353038[_0x444c46(0x2bf,0x228)]=0.01,_0x353038['speedFactor']=0.5,_0x353038['lineWidth']=0x2,_0x353038['colors']=[_0x5ac86e(0x32,-0x13)],_0x353038[_0x5ac86e(0x6e,-0x2)]=!![];const DEF_OPTIONS=_0x353038;function _0x5ac86e(_0x46254e,_0x5011ef){return _0x3a9e(_0x5011ef- -0x26c,_0x46254e);}class WindLayer extends BaseLayer$1{constructor(_0xf55905={}){_0xf55905={...DEF_OPTIONS,..._0xf55905},super(_0xf55905),this['_setOptionsHook'](_0xf55905);}get[_0x5ac86e(-0x60,-0x59)](){return this['primitives'];}get['data'](){function _0x3731d4(_0x3c9b3c,_0x4c59ce){return _0x444c46(_0x4c59ce-0x2da,_0x3c9b3c);}return this[_0x3731d4(0x580,0x554)];}set[_0x5ac86e(-0x31,-0x66)](_0x35d91e){this['setData'](_0x35d91e);}get['colors'](){function _0x55ad5b(_0x208184,_0x54753b){return _0x5ac86e(_0x54753b,_0x208184-0x266);}return this[_0x55ad5b(0x233,0x254)]['colors'];}set['colors'](_0x59bcbf){this['options']['colors']=_0x59bcbf;function _0x4a4c67(_0x51db97,_0x2e515c){return _0x5ac86e(_0x51db97,_0x2e515c-0x528);}function _0x14d265(_0x4e6ddb,_0x56b1a9){return _0x444c46(_0x4e6ddb- -0x43,_0x56b1a9);}if(this[_0x4a4c67(0x55a,0x512)]){const _0x30a0b6={};_0x30a0b6['colors']=_0x59bcbf,this[_0x4a4c67(0x495,0x512)]['setOptions'](_0x30a0b6);}this[_0x14d265(0x2b1,0x2c6)]();}[_0x444c46(0x2fb,0x34d)](){}[_0x444c46(0x2b4,0x27f)](){this['scene']=this['_map'][_0x45b992(0x98,0x3f)],this['camera']=this[_0x3894fc(-0x19e,-0x1a2)]['camera'],this['primitives']=new Cesium$1['PrimitiveCollection'](),this['_map']['scene']['primitives']['add'](this['primitives']),this[_0x45b992(0x36,-0x40)]={'lonRange':new Cesium$1['Cartesian2'](),'latRange':new Cesium$1[(_0x3894fc(-0x1bd,-0x1bd))](),'pixelSize':0x0,'lonDisplayRange':new Cesium$1[(_0x3894fc(-0x1bd,-0x159))](),'latDisplayRange':new Cesium$1[(_0x3894fc(-0x1bd,-0x193))]()},this[_0x3894fc(-0x17f,-0x194)]=new Cesium$1[(_0x3894fc(-0x16f,-0x1a1))](Cesium$1['Cartesian3']['ZERO'],Cesium$1['Ellipsoid']['WGS84']['minimumRadius']),this[_0x45b992(0xea,0x15d)]();function _0x45b992(_0x345c1b,_0x40b815){return _0x5ac86e(_0x40b815,_0x345c1b-0xcc);}window[_0x45b992(0x10,0x83)]('resize',this['resize']['bind'](this),![]),this[_0x3894fc(-0x1f0,-0x260)]=![],this[_0x3894fc(-0x194,-0x171)]=![];function _0x3894fc(_0x58b065,_0x94e0a2){return _0x444c46(_0x58b065- -0x3f7,_0x94e0a2);}this['_map']['on'](mars3d__namespace[_0x3894fc(-0x1a3,-0x20f)][_0x3894fc(-0x1b4,-0x18d)],this['_onMapWhellEvent'],this),this[_0x45b992(0x39,0x57)]['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x45b992(0x17,0x6)],this),this['_map']['on'](mars3d__namespace[_0x3894fc(-0x1a3,-0x121)][_0x45b992(0x3,0x6a)],this['_onMouseUpEvent'],this),this['_map']['on'](mars3d__namespace[_0x45b992(0x34,0xb2)][_0x45b992(0x52,0x9b)],this['_onMouseMoveEvent'],this),this['_data']&&this['setData'](this[_0x3894fc(-0x17d,-0x10c)]);}[_0x5ac86e(-0x149,-0xe6)](){window[_0x1f1980(0x504,0x57f)](_0x1f1980(0x559,0x5a9),this['resize']),this[_0x142042(0x17e,0xea)][_0x142042(0x1c8,0x160)](mars3d__namespace[_0x1f1980(0x505,0x509)]['preRender'],this['_onMap_preRenderEvent'],this),this[_0x142042(0x17e,0x134)]['off'](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this),this['_map'][_0x1f1980(0x505,0x558)](mars3d__namespace['EventType']['mouseDown'],this['_onMouseDownEvent'],this),this[_0x1f1980(0x4d8,0x50e)]['off'](mars3d__namespace[_0x1f1980(0x550,0x509)]['mouseUp'],this['_onMouseUpEvent'],this);function _0x1f1980(_0x3f34da,_0x1871cb){return _0x5ac86e(_0x3f34da,_0x1871cb-0x5a1);}function _0x142042(_0x1f85e1,_0x16fc33){return _0x5ac86e(_0x16fc33,_0x1f85e1-0x211);}this[_0x142042(0x17e,0x144)]['off'](mars3d__namespace['EventType']['mouseMove'],this['_onMouseMoveEvent'],this),this[_0x142042(0x213,0x1a6)]['removeAll'](),this['_map']['scene']['primitives']['remove'](this['primitives']);}['resize'](){if(!this[_0x23a2bb(0x190,0x1a3)]||!this['particleSystem'])return;function _0x23a2bb(_0x462235,_0x3945b4){return _0x5ac86e(_0x3945b4,_0x462235-0x220);}this['primitives']['show']=![];function _0x5d2bf1(_0x265fab,_0x548495){return _0x5ac86e(_0x548495,_0x265fab- -0x7);}this['primitives'][_0x23a2bb(0x1d2,0x21e)](),this[_0x23a2bb(0x18d,0x167)]['once'](mars3d__namespace['EventType']['preRender'],this['_onMap_preRenderEvent'],this);}['_onMap_preRenderEvent'](_0x424350){this['particleSystem'][_0x4b527d(0x4a9,0x4e9)](this[_0x4b527d(0x52b,0x5a5)][_0x4b527d(0x4d2,0x4dc)]);function _0x4b527d(_0x45f9cd,_0x16c25e){return _0x5ac86e(_0x16c25e,_0x45f9cd-0x55f);}this['addPrimitives']();function _0x208263(_0x4874d3,_0x2f14db){return _0x5ac86e(_0x4874d3,_0x2f14db-0x163);}this[_0x4b527d(0x561,0x5bf)][_0x4b527d(0x4cf,0x4be)]=!![];}[_0x5ac86e(0x2b,-0x26)](_0x47513f){clearTimeout(this['refreshTimer']);function _0x525829(_0x4b938c,_0x1cb77f){return _0x5ac86e(_0x1cb77f,_0x4b938c-0x3b4);}if(!this[_0x525829(0x324,0x2be)]||!this['particleSystem'])return;this['primitives']['show']=![];function _0x4c3b99(_0x14f691,_0x2c5260){return _0x444c46(_0x2c5260- -0x422,_0x14f691);}this[_0x4c3b99(-0x189,-0x1d6)]=setTimeout(()=>{if(!this['show'])return;this['redraw']();},0xc8);}[_0x444c46(0x237,0x25c)](_0x4bcf4d){function _0x50a27a(_0x2014a1,_0x52df3a){return _0x444c46(_0x2014a1-0x28d,_0x52df3a);}this[_0x50a27a(0x494,0x48f)]=!![];}['_onMouseMoveEvent'](_0x5a7a89){function _0x1a46ce(_0x1c7e4d,_0x3645ff){return _0x444c46(_0x3645ff-0xf2,_0x1c7e4d);}function _0x46be0c(_0x3a765a,_0xb1a0e6){return _0x444c46(_0xb1a0e6-0x139,_0x3a765a);}if(!this[_0x46be0c(0x37a,0x395)]||!this['particleSystem'])return;this[_0x46be0c(0x3d0,0x340)]&&(this[_0x1a46ce(0x393,0x3e0)]['show']=![],this[_0x1a46ce(0x3d1,0x355)]=!![]);}['_onMouseUpEvent'](_0x16ab0c){if(!this['show']||!this['particleSystem'])return;this['mouse_down']&&this[_0x45d68c(-0xa,-0x82)]&&this['redraw']();function _0x4a2cc9(_0x2e1e76,_0x1847f0){return _0x5ac86e(_0x1847f0,_0x2e1e76-0x57c);}function _0x45d68c(_0x467664,_0x72b1a){return _0x5ac86e(_0x72b1a,_0x467664-0x7f);}this['primitives']['show']=!![],this['mouse_down']=![],this[_0x45d68c(-0xa,0x8c)]=![];}['redraw'](){if(!this['_map']||!this['show'])return;this['updateViewerParameters'](),this['particleSystem'][_0x2fc268(-0xf1,-0x6c)](this['viewerParameters']);function _0x2fc268(_0x138ea7,_0x3bc60c){return _0x444c46(_0x3bc60c- -0x365,_0x138ea7);}this['primitives']['show']=!![];}['setData'](_0x3cb7e4){function _0x51a81f(_0x563791,_0x577c60){return _0x5ac86e(_0x563791,_0x577c60-0x24b);}this[_0x58dee1(0x582,0x502)]=_0x3cb7e4;function _0x58dee1(_0x3554bc,_0x50d4ca){return _0x5ac86e(_0x50d4ca,_0x3554bc-0x5f4);}this['particleSystem']&&this['particleSystem']['destroy'](),this['particleSystem']=new ParticleSystem(this['scene'][_0x51a81f(0x151,0x1be)],_0x3cb7e4,this[_0x58dee1(0x4ee,0x55a)](),this['viewerParameters']),this['addPrimitives']();}['_setOptionsHook'](_0x2bc823,_0x4b63dd){function _0x425a86(_0x33cb8a,_0x117881){return _0x444c46(_0x117881- -0x2d6,_0x33cb8a);}function _0x4f1e85(_0x2b672b,_0x585e55){return _0x5ac86e(_0x2b672b,_0x585e55- -0xbd);}if(_0x2bc823)for(const _0x38709b in _0x2bc823){this[_0x38709b]=_0x2bc823[_0x38709b];}this[_0x4f1e85(-0x102,-0xd3)]&&this[_0x4f1e85(-0x15f,-0xd3)]['setOptions'](this['getOptions']());}['getOptions'](){const _0x5d355d=Math['ceil'](Math['sqrt'](this['particlesNumber']));function _0x3c779a(_0x400c2b,_0x72c1a5){return _0x444c46(_0x400c2b- -0x31c,_0x72c1a5);}this['particlesNumber']=_0x5d355d*_0x5d355d;const _0x4b505a={};_0x4b505a[_0x4b37c9(0x52f,0x57a)]=_0x5d355d,_0x4b505a['maxParticles']=this['particlesNumber'],_0x4b505a[_0x4b37c9(0x5e7,0x5d1)]=this['colors'],_0x4b505a['particleHeight']=this[_0x4b37c9(0x5c5,0x543)],_0x4b505a[_0x3c779a(-0xf2,-0xd8)]=this[_0x4b37c9(0x54e,0x5c9)],_0x4b505a['dropRate']=this[_0x4b37c9(0x539,0x5ba)];function _0x4b37c9(_0xa1835e,_0x2b8b40){return _0x5ac86e(_0x2b8b40,_0xa1835e-0x610);}return _0x4b505a['dropRateBump']=this['dropRateBump'],_0x4b505a[_0x3c779a(-0x128,-0x16c)]=this['speedFactor'],_0x4b505a['lineWidth']=this['lineWidth'],_0x4b505a['dynamic']=this[_0x4b37c9(0x60e,0x669)],_0x4b505a;}[_0x444c46(0x260,0x2a5)](){function _0x21b101(_0x54e527,_0x5bc481){return _0x444c46(_0x54e527- -0x1ed,_0x5bc481);}this['primitives']['add'](this['particleSystem']['particlesComputing']['primitives'][_0x29fa8b(-0xd4,-0xe4)]);function _0x29fa8b(_0x58cf9f,_0x2c634c){return _0x444c46(_0x58cf9f- -0x33b,_0x2c634c);}this[_0x29fa8b(-0x4d,-0x78)]['add'](this[_0x21b101(0xe9,0xeb)]['particlesComputing'][_0x29fa8b(-0x4d,-0x7a)]['updatePosition']),this[_0x29fa8b(-0x4d,-0xa9)][_0x29fa8b(-0x11b,-0xc3)](this['particleSystem'][_0x21b101(0x17,-0x35)]['primitives'][_0x21b101(0xe7,0xd3)]),this['primitives']['add'](this[_0x29fa8b(-0x65,-0x40)]['particlesRendering'][_0x29fa8b(-0x4d,0x3b)]['segments']),this[_0x29fa8b(-0x4d,-0x2c)]['add'](this[_0x21b101(0xe9,0x84)]['particlesRendering'][_0x21b101(0x101,0x13b)]['trails']),this['primitives'][_0x21b101(0x33,0x7e)](this['particleSystem']['particlesRendering']['primitives']['screen']);}[_0x5ac86e(-0x41,0x1e)](){function _0x47edda(_0x279444,_0xc7cb04){return _0x5ac86e(_0x279444,_0xc7cb04-0x4ea);}function _0xde3cfb(_0x1bea05,_0x51c735){return _0x5ac86e(_0x51c735,_0x1bea05-0x224);}let _0x2a2f35=this['camera']['computeViewRectangle'](this['scene']['globe']['ellipsoid']);if(!_0x2a2f35){const _0x46e5ed=this['_map']['getExtent']();_0x2a2f35=Cesium$1['Rectangle'][_0x47edda(0x3d0,0x460)](_0x46e5ed['xmin'],_0x46e5ed[_0xde3cfb(0x15a,0x10d)],_0x46e5ed['xmax'],_0x46e5ed[_0x47edda(0x3e5,0x41a)]);}const _0x4d9fd8=Util['viewRectangleToLonLatRange'](_0x2a2f35);this['_data']?(this['viewerParameters']['lonRange']['x']=Math[_0xde3cfb(0x125,0x9d)](_0x4d9fd8[_0x47edda(0x51e,0x4ca)][_0x47edda(0x4d0,0x456)],this['_data']['xmin']),this['viewerParameters']['lonRange']['y']=Math[_0x47edda(0x41d,0x456)](_0x4d9fd8[_0xde3cfb(0x204,0x28a)]['max'],this['_data']['xmax']),this[_0x47edda(0x3f7,0x454)]['latRange']['x']=Math['max'](_0x4d9fd8[_0xde3cfb(0x1bf,0x24b)][_0xde3cfb(0x190,0x1d7)],this[_0xde3cfb(0x1b2,0x1ba)]['ymin']),this[_0x47edda(0x3c4,0x454)]['latRange']['y']=Math['min'](_0x4d9fd8[_0xde3cfb(0x1bf,0x1c6)]['max'],this['_data']['ymax'])):(this[_0xde3cfb(0x18e,0x1ce)][_0xde3cfb(0x1d4,0x1cc)]['x']=_0x4d9fd8['lon']['min'],this['viewerParameters'][_0x47edda(0x517,0x49a)]['y']=_0x4d9fd8['lon']['max'],this['viewerParameters'][_0xde3cfb(0x1f2,0x16c)]['x']=_0x4d9fd8[_0x47edda(0x47b,0x485)][_0xde3cfb(0x190,0x21e)],this['viewerParameters'][_0x47edda(0x448,0x4b8)]['y']=_0x4d9fd8['lat'][_0x47edda(0x398,0x3eb)]);let _0x3ed9dd=this[_0xde3cfb(0x21e,0x1fd)][_0x47edda(0x363,0x3f4)](this['globeBoundingSphere'],this['scene'][_0x47edda(0x443,0x43e)],this[_0x47edda(0x428,0x4b6)]['drawingBufferHeight']);const _0x567f00=this[_0x47edda(0x471,0x4b6)]['drawingBufferHeight']*0.3;_0x3ed9dd<_0x567f00&&(_0x3ed9dd=_0x567f00),this['viewerParameters']['pixelSize']=_0x3ed9dd;}}mars3d__namespace[_0x5ac86e(-0x8d,-0x84)]['register']('wind',WindLayer),mars3d__namespace['layer']['WindLayer']=WindLayer;class CanvasParticle{constructor(){this['lng']=null,this['lat']=null,this['tlng']=null,this['tlat']=null,this[_0x3ef1cd(0x3c5,0x377)]=null;function _0x31b158(_0x449d61,_0xc84258){return _0x444c46(_0x449d61-0x39,_0xc84258);}function _0x3ef1cd(_0x380c21,_0x17719c){return _0x5ac86e(_0x380c21,_0x17719c-0x43e);}this[_0x3ef1cd(0x3eb,0x3c7)]=null;}[_0x444c46(0x21d,0x1b9)](){for(const _0x639365 in this){delete this[_0x639365];}}}class CanvasWindField{constructor(_0x165d6e){this['setOptions'](_0x165d6e);}get['speedRate'](){function _0x4e9192(_0x27e0ad,_0x3645c3){return _0x5ac86e(_0x3645c3,_0x27e0ad-0x1be);}return this[_0x4e9192(0x123,0xbe)];}set['speedRate'](_0x4d9972){function _0x2fefdd(_0x265bbf,_0x114113){return _0x444c46(_0x265bbf- -0x466,_0x114113);}function _0x38ee4b(_0x592c47,_0xa3f2d4){return _0x5ac86e(_0x592c47,_0xa3f2d4-0x4a2);}this[_0x2fefdd(-0x215,-0x252)]=(0x64-(_0x4d9972>0x63?0x63:_0x4d9972))*0x64,this[_0x2fefdd(-0x1d9,-0x1b8)]=[(this['xmax']-this[_0x2fefdd(-0x205,-0x269)])/this['_speedRate'],(this[_0x38ee4b(0x34a,0x3d2)]-this['ymin'])/this['_speedRate']];}get[_0x444c46(0x24d,0x1f7)](){function _0x1c291c(_0x2d2234,_0x7ce982){return _0x5ac86e(_0x7ce982,_0x2d2234-0x54e);}return this[_0x1c291c(0x44e,0x3f3)];}set[_0x444c46(0x24d,0x299)](_0x33e8f0){this['_maxAge']=_0x33e8f0;}[_0x5ac86e(0x2c,-0x68)](_0x1a0371){this[_0x580df8(-0x1ec,-0x156)]=_0x1a0371,this['maxAge']=_0x1a0371[_0x580df8(-0x19a,-0x1c2)]||0x78,this[_0x580df8(-0xcf,-0x12a)]=_0x1a0371['speedRate']||0x32,this['particles']=[];function _0x500524(_0x229e2b,_0x210ff7){return _0x444c46(_0x229e2b- -0xe9,_0x210ff7);}const _0x4a5084=_0x1a0371['particlesNumber']||0x1000;function _0x580df8(_0x49da63,_0x2ec3c6){return _0x444c46(_0x2ec3c6- -0x40f,_0x49da63);}for(let _0x517849=0x0;_0x517849<_0x4a5084;_0x517849++){const _0x30fdfb=this['_randomParticle'](new CanvasParticle());this['particles'][_0x580df8(-0xa7,-0x13d)](_0x30fdfb);}}['setDate'](_0x1ee034){this['rows']=_0x1ee034['rows'],this['cols']=_0x1ee034['cols'],this['xmin']=_0x1ee034[_0x5b393c(0x2fc,0x27c)],this['xmax']=_0x1ee034['xmax'],this['ymin']=_0x1ee034['ymin'],this['ymax']=_0x1ee034[_0x2cc4e6(-0x1c,-0x3)];function _0x5b393c(_0x11cf94,_0x33e178){return _0x5ac86e(_0x11cf94,_0x33e178-0x307);}this[_0x2cc4e6(0x90,0x92)]=[];const _0x231074=_0x1ee034[_0x2cc4e6(0x76,0x28)],_0x2bce22=_0x1ee034[_0x5b393c(0x1be,0x20d)];let _0x3346ef=![];_0x231074[_0x5b393c(0x2ea,0x2db)]===this['rows']&&_0x231074[0x0]['length']===this[_0x5b393c(0x350,0x327)]&&(_0x3346ef=!![]);let _0x365c1e=0x0,_0x1a0cff=null,_0x1574d0=null;for(let _0x2ea301=0x0;_0x2ea301<this['rows'];_0x2ea301++){_0x1a0cff=[];for(let _0x7a60a6=0x0;_0x7a60a6<this['cols'];_0x7a60a6++,_0x365c1e++){_0x3346ef?_0x1574d0=this['_calcUV'](_0x231074[_0x2ea301][_0x7a60a6],_0x2bce22[_0x2ea301][_0x7a60a6]):_0x1574d0=this['_calcUV'](_0x231074[_0x365c1e],_0x2bce22[_0x365c1e]),_0x1a0cff['push'](_0x1574d0);}this['grid']['push'](_0x1a0cff);}function _0x2cc4e6(_0x100dbb,_0x7e2c66){return _0x444c46(_0x7e2c66- -0x21f,_0x100dbb);}this[_0x5b393c(0x2e4,0x2d4)]['reverseY']&&this[_0x2cc4e6(0x76,0x92)]['reverse']();}['clear'](){function _0x41e27a(_0x461b8c,_0x5865f4){return _0x5ac86e(_0x461b8c,_0x5865f4-0x4ed);}delete this['rows'],delete this['cols'],delete this['xmin'];function _0x510400(_0x1c81e1,_0x2c875f){return _0x444c46(_0x2c875f-0xef,_0x1c81e1);}delete this['xmax'],delete this[_0x41e27a(0x40d,0x423)],delete this[_0x510400(0x35c,0x30b)],delete this[_0x41e27a(0x4b4,0x4b2)],delete this['particles'];}['toGridXY'](_0x20cd15,_0x26e65b){function _0x47f5ab(_0x499c19,_0x4ad0d9){return _0x5ac86e(_0x4ad0d9,_0x499c19-0x308);}const _0x21f620=(_0x20cd15-this['xmin'])/(this['xmax']-this['xmin'])*(this['cols']-0x1),_0x4ce70d=(this['ymax']-_0x26e65b)/(this['ymax']-this[_0x47f5ab(0x23e,0x233)])*(this['rows']-0x1);return[_0x21f620,_0x4ce70d];}[_0x444c46(0x2df,0x2c5)](_0x92d83e,_0x22fcc6){if(_0x92d83e<0x0||_0x92d83e>=this['cols']||_0x22fcc6>=this[_0x3c5fc9(0x248,0x286)])return[0x0,0x0,0x0];const _0x1c98c2=Math['floor'](_0x92d83e),_0x5490bc=Math['floor'](_0x22fcc6);if(_0x1c98c2===_0x92d83e&&_0x5490bc===_0x22fcc6)return this['grid'][_0x22fcc6][_0x92d83e];function _0x3c5fc9(_0x1e84c6,_0x2c0bdc){return _0x444c46(_0x2c0bdc-0x37,_0x1e84c6);}const _0x4d415d=_0x1c98c2+0x1,_0x3da2d0=_0x5490bc+0x1,_0x28c464=this[_0x448c88(-0x7e,-0x9a)](_0x1c98c2,_0x5490bc),_0x88d41=this[_0x3c5fc9(0x328,0x316)](_0x4d415d,_0x5490bc),_0xbe12bd=this[_0x448c88(-0xd6,-0x9a)](_0x1c98c2,_0x3da2d0),_0x11a5b6=this['getUVByXY'](_0x4d415d,_0x3da2d0);let _0x25ef33=null;try{_0x25ef33=this[_0x448c88(-0x90,-0xde)](_0x92d83e-_0x1c98c2,_0x22fcc6-_0x5490bc,_0x28c464,_0x88d41,_0xbe12bd,_0x11a5b6);}catch(_0x30e7c3){console['log'](_0x92d83e,_0x22fcc6);}function _0x448c88(_0x729f34,_0x160936){return _0x444c46(_0x160936- -0x379,_0x729f34);}return _0x25ef33;}[_0x444c46(0x29b,0x221)](_0x1dc16c,_0x30f94d,_0x4f5196,_0x247333,_0x55f178,_0x5d5729){const _0x54575d=0x1-_0x1dc16c,_0x1295f0=0x1-_0x30f94d,_0x481ae9=_0x54575d*_0x1295f0,_0x5a47d7=_0x1dc16c*_0x1295f0,_0x478bfd=_0x54575d*_0x30f94d,_0x27c613=_0x1dc16c*_0x30f94d,_0x15dd40=_0x4f5196[0x0]*_0x481ae9+_0x247333[0x0]*_0x5a47d7+_0x55f178[0x0]*_0x478bfd+_0x5d5729[0x0]*_0x27c613,_0xafa780=_0x4f5196[0x1]*_0x481ae9+_0x247333[0x1]*_0x5a47d7+_0x55f178[0x1]*_0x478bfd+_0x5d5729[0x1]*_0x27c613;return this['_calcUV'](_0x15dd40,_0xafa780);}[_0x444c46(0x2b0,0x2aa)](_0x55a3b0,_0x20b613){return[+_0x55a3b0,+_0x20b613,Math['sqrt'](_0x55a3b0*_0x55a3b0+_0x20b613*_0x20b613)];}[_0x444c46(0x242,0x2ce)](_0x33340b,_0x125bf1){function _0xc1bbf(_0x420f95,_0x201d67){return _0x444c46(_0x201d67-0x2a8,_0x420f95);}if(!this[_0xc1bbf(0x4bb,0x4a9)](_0x33340b,_0x125bf1))return null;const _0x570eb9=this['toGridXY'](_0x33340b,_0x125bf1);function _0x480d07(_0x23f8e3,_0x9d9443){return _0x444c46(_0x23f8e3-0xa7,_0x9d9443);}const _0x23693e=this[_0x480d07(0x386,0x32e)](_0x570eb9[0x0],_0x570eb9[0x1]);return _0x23693e;}[_0x5ac86e(-0xbc,-0xeb)](_0x1c6f8f,_0x16fa4c){function _0x4c29c7(_0x536845,_0x2a3d32){return _0x5ac86e(_0x2a3d32,_0x536845- -0xf8);}return _0x1c6f8f>=this['xmin']&&_0x1c6f8f<=this['xmax']&&_0x16fa4c>=this['ymin']&&_0x16fa4c<=this[_0x4c29c7(-0x1c8,-0x1ee)]?!![]:![];}[_0x5ac86e(0xb4,0x1d)](){function _0x1ed8fc(_0x3c19c6,_0x256ffd){return _0x5ac86e(_0x256ffd,_0x3c19c6- -0x163);}const _0x54ea0c=fRandomByfloat(this['xmin'],this['xmax']),_0x552e8b=fRandomByfloat(this['ymin'],this['ymax']),_0x6d5737={};return _0x6d5737['lat']=_0x552e8b,_0x6d5737[_0x1ed8fc(-0x241,-0x1b6)]=_0x54ea0c,_0x6d5737;}['getParticles'](){function _0x453a35(_0x55a26e,_0x12201c){return _0x5ac86e(_0x55a26e,_0x12201c- -0xa6);}let _0x49368d,_0x2a84bd,_0x4838bb;function _0x2bb0c5(_0x3c47bf,_0xd3ecb){return _0x444c46(_0x3c47bf-0x168,_0xd3ecb);}for(let _0x509b95=0x0,_0x2de204=this[_0x2bb0c5(0x383,0x39f)]['length'];_0x509b95<_0x2de204;_0x509b95++){let _0x12fb6c=this['particles'][_0x509b95];_0x12fb6c['age']<=0x0&&(_0x12fb6c=this['_randomParticle'](_0x12fb6c));if(_0x12fb6c['age']>0x0){const _0x39ce22=_0x12fb6c[_0x453a35(-0x117,-0xc4)],_0x1769bb=_0x12fb6c[_0x453a35(-0x6b,-0xdf)];_0x4838bb=this['getUVByPoint'](_0x39ce22,_0x1769bb),_0x4838bb?(_0x49368d=_0x39ce22+this['_calc_speedRate'][0x0]*_0x4838bb[0x0],_0x2a84bd=_0x1769bb+this['_calc_speedRate'][0x1]*_0x4838bb[0x1],_0x12fb6c['lng']=_0x39ce22,_0x12fb6c[_0x453a35(-0xb2,-0x10b)]=_0x1769bb,_0x12fb6c['tlng']=_0x49368d,_0x12fb6c[_0x453a35(-0x4d,-0xdf)]=_0x2a84bd,_0x12fb6c[_0x2bb0c5(0x3dd,0x459)]=_0x4838bb[0x2],_0x12fb6c[_0x2bb0c5(0x38d,0x3c4)]--):_0x12fb6c['age']=0x0;}}return this['particles'];}['_randomParticle'](_0x547a3b){let _0x4cc87e,_0x1e1849;function _0x4e9a14(_0x355103,_0xc533f4){return _0x444c46(_0x355103- -0x3ec,_0xc533f4);}for(let _0x397898=0x0;_0x397898<0x1e;_0x397898++){_0x4cc87e=this['getRandomLatLng'](),_0x1e1849=this['getUVByPoint'](_0x4cc87e['lng'],_0x4cc87e['lat']);if(_0x1e1849&&_0x1e1849[0x2]>0x0)break;}if(!_0x1e1849)return _0x547a3b;const _0x34df0c=_0x4cc87e['lng']+this['_calc_speedRate'][0x0]*_0x1e1849[0x0],_0x13a2b2=_0x4cc87e[_0x4e9a14(-0x165,-0x106)]+this['_calc_speedRate'][0x1]*_0x1e1849[0x1];function _0x4900dd(_0x4210d5,_0x6eac3c){return _0x5ac86e(_0x4210d5,_0x6eac3c-0x552);}return _0x547a3b['lng']=_0x4cc87e[_0x4e9a14(-0x1de,-0x262)],_0x547a3b[_0x4e9a14(-0x165,-0x1f4)]=_0x4cc87e[_0x4e9a14(-0x165,-0x1e8)],_0x547a3b['tlng']=_0x34df0c,_0x547a3b[_0x4e9a14(-0x139,-0x1b4)]=_0x13a2b2,_0x547a3b['age']=Math['round'](Math['random']()*this[_0x4900dd(0x523,0x4b3)]),_0x547a3b[_0x4900dd(0x50e,0x4db)]=_0x1e1849[0x2],_0x547a3b;}[_0x5ac86e(-0x89,-0xcf)](){for(const _0x40957d in this){delete this[_0x40957d];}}}function fRandomByfloat(_0x22df34,_0x132321){return _0x22df34+Math['random']()*(_0x132321-_0x22df34);}const Cesium=mars3d__namespace[_0x444c46(0x224,0x1fb)],BaseLayer=mars3d__namespace[_0x5ac86e(0x39,-0x59)][_0x444c46(0x2a0,0x2a2)];class CanvasWindLayer extends BaseLayer{constructor(_0x2639f5={}){super(_0x2639f5);function _0x6b4deb(_0x46d4a4,_0x34cdda){return _0x444c46(_0x34cdda- -0x160,_0x46d4a4);}this[_0x5f3cff(0x1cd,0x1f9)](_0x2639f5);function _0x5f3cff(_0x27ce3e,_0x5b02a8){return _0x444c46(_0x27ce3e- -0x7e,_0x5b02a8);}this['canvas']=null,_0x2639f5['colors']&&_0x2639f5[_0x5f3cff(0x26f,0x2c2)]&&(this['_colorRamp']=new mars3d__namespace[(_0x5f3cff(0x246,0x244))](_0x2639f5));}['_setOptionsHook'](_0xda8bb,_0x22c35c){this[_0x1c58b3(0x536,0x4cc)]=0x3e8/(_0xda8bb['frameRate']||0xa),this['_pointerEvents']=this[_0x110646(0x215,0x25f)][_0x110646(0x1b8,0x225)]??![],this[_0x110646(0x1d1,0x22f)]=_0xda8bb[_0x1c58b3(0x4c1,0x452)]||'#ffffff',this['lineWidth']=_0xda8bb['lineWidth']||0x1;function _0x1c58b3(_0x542a44,_0x5306fb){return _0x444c46(_0x542a44-0x238,_0x5306fb);}this[_0x110646(0x215,0x247)]=_0xda8bb[_0x110646(0x1d0,0x247)]??0x0;function _0x110646(_0x4ce7b5,_0x288031){return _0x444c46(_0x288031- -0x5a,_0x4ce7b5);}this['reverseY']=_0xda8bb['reverseY']??![],this['windField']&&this['windField']['setOptions'](_0xda8bb);}get[_0x444c46(0x293,0x318)](){return this['canvas'];}get['canvasWidth'](){function _0x18be0e(_0x234298,_0x17d9bd){return _0x444c46(_0x234298- -0x240,_0x17d9bd);}return this[_0x18be0e(0x19,0x52)]['scene']['canvas']['clientWidth'];}get[_0x444c46(0x22e,0x1c8)](){function _0x45ff14(_0x5657f6,_0x5004d2){return _0x5ac86e(_0x5657f6,_0x5004d2-0x144);}return this['_map']['scene'][_0x45ff14(0x5a,0x97)]['clientHeight'];}get[_0x5ac86e(-0xda,-0x6d)](){return this['_pointerEvents'];}set['pointerEvents'](_0x966dd8){function _0x78be7b(_0x1b00b8,_0x153069){return _0x5ac86e(_0x153069,_0x1b00b8-0xdf);}this['_pointerEvents']=_0x966dd8;if(!this['canvas'])return;function _0x156ce4(_0x4f03d0,_0x45acf4){return _0x5ac86e(_0x4f03d0,_0x45acf4-0x15b);}_0x966dd8?this[_0x78be7b(0x32,0x84)][_0x78be7b(0xf3,0x108)]['pointer-events']=_0x156ce4(0xbf,0x101):this['canvas']['style'][_0x78be7b(0xd5,0x5b)]=_0x156ce4(0x176,0xef);}get[_0x444c46(0x208,0x29e)](){return this['options']['particlesNumber'];}set['particlesNumber'](_0x35ede1){this[_0x3b1ec9(0x20b,0x229)]['particlesNumber']=_0x35ede1;function _0x3b1ec9(_0xde507,_0x529f88){return _0x5ac86e(_0x529f88,_0xde507-0x23e);}clearTimeout(this['_canrefresh']),this['_canrefresh']=setTimeout(()=>{this['redraw']();},0x1f4);}get[_0x5ac86e(0x2f,-0x7)](){return this['options']['speedRate'];}set[_0x444c46(0x2e5,0x373)](_0x498494){function _0x130704(_0xaac9e8,_0x5ceeb8){return _0x5ac86e(_0xaac9e8,_0x5ceeb8-0x38b);}this[_0x130704(0x359,0x358)][_0x5619df(0x552,0x511)]=_0x498494;function _0x5619df(_0x57f605,_0x3571f0){return _0x5ac86e(_0x3571f0,_0x57f605-0x559);}this['windField']&&(this[_0x5619df(0x565,0x4f8)]['speedRate']=_0x498494);}get['maxAge'](){function _0x23d417(_0x2a2fc1,_0x1e13de){return _0x5ac86e(_0x1e13de,_0x2a2fc1- -0x155);}function _0x2cb885(_0x46b287,_0x2615ee){return _0x5ac86e(_0x46b287,_0x2615ee-0x55d);}return this[_0x23d417(-0x188,-0x12b)][_0x2cb885(0x54d,0x4be)];}set[_0x5ac86e(-0x3f,-0x9f)](_0x5b5741){this[_0x301a44(0x267,0x2ed)]['maxAge']=_0x5b5741;function _0x301a44(_0x1c6bef,_0x5ee2e6){return _0x444c46(_0x5ee2e6-0x34,_0x1c6bef);}function _0x239b65(_0x3ed453,_0x1bec56){return _0x444c46(_0x1bec56-0x46,_0x3ed453);}this[_0x239b65(0x3ac,0x33e)]&&(this['windField'][_0x239b65(0x28c,0x293)]=_0x5b5741);}get[_0x444c46(0x286,0x213)](){function _0x19cc6c(_0x1c3c5c,_0x364115){return _0x5ac86e(_0x364115,_0x1c3c5c-0x163);}return this[_0x19cc6c(0x15b,0x17a)];}set['data'](_0x381f00){function _0x5d4bac(_0x526b3e,_0x52d1ee){return _0x444c46(_0x52d1ee- -0x88,_0x526b3e);}this[_0x5d4bac(0x13e,0x159)](_0x381f00);}get['rectangle'](){let _0x1c5cb7=this['windData'][_0x22be8f(0x99,0x91)];function _0x4a31ed(_0x15a925,_0x3c698d){return _0x5ac86e(_0x15a925,_0x3c698d-0x2ba);}let _0x4d7370=this['windData']['xmax'],_0x39a777=this['windData'][_0x22be8f(0x5a,0xcd)],_0x5caf4a=this[_0x4a31ed(0x2c5,0x2b2)][_0x4a31ed(0x1b1,0x1ea)];_0x4d7370>=0x167&&_0x1c5cb7===0x0&&(_0x1c5cb7=-0xb4,_0x4d7370=0xb4);_0x1c5cb7=Math['max'](_0x1c5cb7,-0xb4),_0x4d7370=Math['min'](_0x4d7370,0xb4);function _0x22be8f(_0x15f475,_0x3a7a32){return _0x444c46(_0x15f475- -0x1c8,_0x3a7a32);}return _0x39a777=Math['max'](_0x39a777,-0x5a),_0x5caf4a=Math['min'](_0x5caf4a,0x5a),Cesium['Rectangle'][_0x22be8f(0x9a,0x45)](_0x1c5cb7,_0x39a777,_0x4d7370,_0x5caf4a);}[_0x5ac86e(-0x139,-0xb4)](_0xa88cb8){function _0x4cb380(_0x5a7674,_0x3442ff){return _0x444c46(_0x3442ff- -0xa7,_0x5a7674);}function _0x11d943(_0x57c8d0,_0x3fdc4f){return _0x5ac86e(_0x3fdc4f,_0x57c8d0-0x48f);}_0xa88cb8?this['_addedHook']():(this[_0x11d943(0x487,0x413)]&&(this['options']['data']=this['windData']),this[_0x4cb380(0x1e9,0x15f)]());}[_0x444c46(0x2fb,0x2f3)](){function _0x27c621(_0x22d464,_0x3545f5){return _0x444c46(_0x3545f5-0x1c5,_0x22d464);}function _0x15835b(_0x2c0826,_0x19cffe){return _0x5ac86e(_0x19cffe,_0x2c0826-0x277);}this['options'][_0x27c621(0x450,0x4c8)]?this[_0x27c621(0x3e7,0x435)]():this['windField']=new CanvasWindField(this['options']);}[_0x5ac86e(0x3a,-0x38)](){function _0x2a755e(_0x2da4be,_0x549e8b){return _0x444c46(_0x549e8b- -0x7,_0x2da4be);}this['canvas']=this['_createCanvas']();function _0xf8c459(_0x4d7b8e,_0x4bc42d){return _0x5ac86e(_0x4bc42d,_0x4d7b8e-0x12d);}const _0xd009ac={};_0xd009ac['willReadFrequently']=!![],this['canvasContext']=this[_0x2a755e(0x2cd,0x238)][_0xf8c459(0x102,0xed)]('2d',_0xd009ac),this['bindEvent'](),this[_0xf8c459(0xfa,0x175)]['data']&&this['setData'](this['options'][_0xf8c459(0xc7,0x6d)]);}[_0x5ac86e(-0x116,-0xe6)](){function _0x1c6c42(_0xbe12a2,_0x546b67){return _0x5ac86e(_0xbe12a2,_0x546b67- -0x17);}this['clear'](),this[_0x13939e(0x333,0x3c1)]();function _0x13939e(_0x571c5f,_0x4f4e1a){return _0x444c46(_0x571c5f-0x102,_0x4f4e1a);}this['canvas']&&(this[_0x1c6c42(-0xca,-0xaa)][_0x13939e(0x38c,0x2fa)]['removeChild'](this['canvas']),delete this[_0x13939e(0x341,0x2ad)]);}[_0x444c46(0x2f6,0x2df)](){const _0x3714b1=mars3d__namespace[_0x476a8e(0x6,-0x90)]['create'](_0x13d217(-0xb4,-0xb1),_0x13d217(0x1a,-0x6d),this['_map']['container']);_0x3714b1['style'][_0x13d217(0x2,-0x76)]=_0x13d217(-0x41,-0xaa),_0x3714b1[_0x476a8e(0xc9,0x7f)]['top']='0px',_0x3714b1['style'][_0x476a8e(0x68,0x54)]=_0x13d217(-0xad,-0xb7),_0x3714b1[_0x476a8e(0xc9,0x61)]['width']=this['_map']['scene'][_0x13d217(-0xb4,-0x123)]['clientWidth']+'px';function _0x13d217(_0x5a9923,_0x48ba7d){return _0x444c46(_0x5a9923- -0x2f3,_0x48ba7d);}_0x3714b1[_0x476a8e(0xc9,0x15e)][_0x476a8e(0xb8,0xd4)]=this['_map'][_0x476a8e(0x81,0x37)]['canvas']['clientHeight']+'px',_0x3714b1['style']['pointerEvents']=this[_0x13d217(-0x2c,-0x89)]?'auto':_0x13d217(-0x73,-0x7d),_0x3714b1[_0x476a8e(0xc9,0x93)]['zIndex']=this[_0x13d217(-0x3a,-0x8b)]['zIndex']??0x9,_0x3714b1[_0x13d217(-0x4b,0x5)]=this['_map']['scene'][_0x13d217(-0xb4,-0x7d)]['clientWidth'];function _0x476a8e(_0x48f2fc,_0xb339e4){return _0x444c46(_0x48f2fc- -0x237,_0xb339e4);}return _0x3714b1[_0x476a8e(0xb8,0x14c)]=this[_0x476a8e(0x22,0xc)]['scene'][_0x13d217(-0xb4,-0x50)][_0x13d217(-0x80,-0x8f)],_0x3714b1;}[_0x444c46(0x2f4,0x2ba)](){function _0x390908(_0x26f57a,_0x3b3b8d){return _0x5ac86e(_0x3b3b8d,_0x26f57a-0x448);}function _0xece6f3(_0x3ee1d8,_0x5d564a){return _0x5ac86e(_0x5d564a,_0x3ee1d8-0x25e);}this[_0x390908(0x39b,0x349)]&&(this['canvas']['style']['width']=this[_0x390908(0x3b5,0x425)]['scene']['canvas']['clientWidth']+'px',this[_0xece6f3(0x1b1,0x1e4)]['style'][_0x390908(0x44b,0x3f3)]=this['_map']['scene']['canvas']['clientHeight']+'px',this[_0x390908(0x39b,0x32f)][_0x390908(0x404,0x412)]=this[_0xece6f3(0x1cb,0x260)][_0x390908(0x414,0x453)][_0x390908(0x39b,0x355)]['clientWidth'],this[_0x390908(0x39b,0x321)]['height']=this['_map'][_0x390908(0x414,0x451)][_0xece6f3(0x1b1,0x11b)]['clientHeight']);}['bindEvent'](){const _0x51a249=this;let _0x5719c4=Date['now']();function _0x3a5fbb(_0x52818b,_0xb6a482){return _0x444c46(_0xb6a482- -0x137,_0x52818b);}(function _0x5571bc(){if(_0x51a249[_0xa4bbb8(0x1b9,0x237)])return;function _0x38cfe6(_0x3e3cb,_0x44d376){return _0x3a9e(_0x44d376-0x365,_0x3e3cb);}function _0xa4bbb8(_0x5cd117,_0x5af83c){return _0x3a9e(_0x5cd117- -0x7e,_0x5af83c);}_0x51a249['_animateFrame']=window['requestAnimationFrame'](_0x5571bc);if(_0x51a249[_0xa4bbb8(0x15e,0xda)]&&_0x51a249['windField']){const _0x5c7fcc=Date['now'](),_0x2e354b=_0x5c7fcc-_0x5719c4;_0x2e354b>_0x51a249[_0xa4bbb8(0x200,0x280)]&&(_0x5719c4=_0x5c7fcc-_0x2e354b%_0x51a249['frameTime'],_0x51a249[_0x38cfe6(0x592,0x54f)]());}}(),window['addEventListener']('resize',this['resize']['bind'](this),![]));function _0x489a8f(_0x348385,_0x1f8d6d){return _0x444c46(_0x348385- -0x6b,_0x1f8d6d);}this[_0x3a5fbb(0x8e,0xd0)]=![],this[_0x3a5fbb(0x1b8,0x12c)]=![],this[_0x3a5fbb(0x17a,0x182)]['mouseHidden']&&(this['_map']['on'](mars3d__namespace['EventType'][_0x489a8f(0x1d8,0x21f)],this[_0x489a8f(0x25b,0x1f8)],this),this['_map']['on'](mars3d__namespace[_0x3a5fbb(0x9f,0x11d)][_0x489a8f(0x1df,0x1b0)],this['_onMouseDownEvent'],this),this['_map']['on'](mars3d__namespace[_0x3a5fbb(0x18b,0x11d)]['mouseUp'],this['_onMouseUpEvent'],this));}[_0x5ac86e(-0x52,-0xbb)](){window['cancelAnimationFrame'](this[_0x40baea(0x78,0xd7)]),delete this['_animateFrame'],window['removeEventListener']('resize',this['resize']);function _0x2daee4(_0x526af8,_0xd12d06){return _0x444c46(_0x526af8-0xca,_0xd12d06);}function _0x40baea(_0x2cc360,_0x5a590d){return _0x444c46(_0x5a590d- -0x164,_0x2cc360);}this['options']['mouseHidden']&&(this[_0x2daee4(0x323,0x2de)]['off'](mars3d__namespace[_0x2daee4(0x31e,0x347)]['wheel'],this['_onMapWhellEvent'],this),this[_0x2daee4(0x323,0x3a8)]['off'](mars3d__namespace[_0x40baea(0x128,0xf0)]['mouseDown'],this['_onMouseDownEvent'],this),this[_0x2daee4(0x323,0x3b9)][_0x40baea(0x12d,0x13f)](mars3d__namespace[_0x40baea(0xc4,0xf0)]['mouseUp'],this['_onMouseUpEvent'],this),this['_map'][_0x2daee4(0x36d,0x3dc)](mars3d__namespace['EventType'][_0x40baea(0x15d,0x10e)],this[_0x40baea(0x1a1,0x134)],this));}[_0x444c46(0x2c6,0x26d)](_0x5a7007){function _0x192a27(_0x38c799,_0x2404d6){return _0x5ac86e(_0x2404d6,_0x38c799-0x2bf);}clearTimeout(this[_0x411dc1(0x4c8,0x49b)]);function _0x411dc1(_0x4efe40,_0x2920ac){return _0x444c46(_0x2920ac-0x24f,_0x4efe40);}if(!this['show']||!this['canvas'])return;this['canvas']['style'][_0x411dc1(0x4de,0x542)]='hidden',this['refreshTimer']=setTimeout(()=>{if(!this['show'])return;this['redraw']();function _0x8f4283(_0x4c050a,_0x58b354){return _0x192a27(_0x58b354-0x141,_0x4c050a);}this['canvas']['style'][_0x8f4283(0x3bb,0x407)]='visible';},0xc8);}['_onMouseDownEvent'](_0x1b3fc5){function _0x416f02(_0x3256d2,_0x5d5b0d){return _0x5ac86e(_0x3256d2,_0x5d5b0d-0x3cf);}function _0x283a5b(_0x3ebadf,_0x1f25ef){return _0x444c46(_0x1f25ef- -0x22c,_0x3ebadf);}this['mouse_down']=!![],this[_0x283a5b(0xa9,0x2d)][_0x416f02(0x3e6,0x386)](mars3d__namespace['EventType'][_0x283a5b(0x3d,0x46)],this['_onMouseMoveEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x416f02(0x39d,0x37b)],this);}[_0x444c46(0x298,0x2cc)](_0xd67b25){function _0x5ac21f(_0x5957f7,_0x535124){return _0x5ac86e(_0x5957f7,_0x535124- -0x101);}if(!this['show']||!this[_0x393637(0xb,-0x8b)])return;function _0x393637(_0x2d317f,_0x3a0b41){return _0x444c46(_0x2d317f- -0x234,_0x3a0b41);}this['mouse_down']&&(this['canvas']['style']['visibility']=_0x393637(-0x4b,-0xab),this[_0x5ac21f(-0x1d5,-0x18a)]=!![]);}['_onMouseUpEvent'](_0x3b82da){function _0x5b9d74(_0x265507,_0x4183ad){return _0x5ac86e(_0x4183ad,_0x265507-0x263);}if(!this['show']||!this[_0x3a2c51(-0x1d,0xf)])return;this['_map'][_0x5b9d74(0x21a,0x1c4)](mars3d__namespace[_0x3a2c51(-0x8,-0x64)][_0x5b9d74(0x1e9,0x229)],this['_onMouseMoveEvent'],this);this[_0x5b9d74(0x17e,0x1e3)]&&this['mouse_move']&&this['redraw']();this[_0x3a2c51(-0x1d,-0x68)]['style']['visibility']=_0x3a2c51(-0x65,0x2a),this['mouse_down']=![];function _0x3a2c51(_0xfcf3ce,_0x508656){return _0x5ac86e(_0x508656,_0xfcf3ce-0x90);}this['mouse_move']=![];}['setData'](_0x3697ac){this[_0x4d77e6(0x2d6,0x293)](),this[_0x4d77e6(0x36a,0x2ee)]=_0x3697ac;function _0x130913(_0x475641,_0x372981){return _0x444c46(_0x372981- -0x97,_0x475641);}this['windField'][_0x4d77e6(0x2b8,0x2a2)](_0x3697ac);function _0x4d77e6(_0x55716e,_0x1fa67c){return _0x5ac86e(_0x1fa67c,_0x55716e-0x372);}this[_0x4d77e6(0x366,0x2f5)]();}['redraw'](){if(!this[_0x439c7c(-0x1d4,-0x185)])return;function _0x439c7c(_0xd3b1c5,_0x45c00c){return _0x5ac86e(_0x45c00c,_0xd3b1c5- -0x144);}this[_0x4fbb68(0x14d,0x13b)]['setOptions'](this['options']);function _0x4fbb68(_0x27a416,_0x37c894){return _0x5ac86e(_0x37c894,_0x27a416-0x141);}this[_0x4fbb68(0xbf,0xf8)]();}['update'](){function _0x58b85f(_0x317a65,_0x56503c){return _0x5ac86e(_0x317a65,_0x56503c- -0xf7);}if(this[_0x33537e(0x1c,-0x65)])return;function _0x33537e(_0x444243,_0x2bf812){return _0x444c46(_0x2bf812- -0x2a9,_0x444243);}this[_0x58b85f(-0x1c6,-0x19f)]=!![];if(this['worker'])this['windField']['update']();else{const _0xf73e31=this['windField']['getParticles']();this['_drawLines'](_0xf73e31);}this['_updateIng']=![];}[_0x5ac86e(0x16,-0x14)](_0x40fd90){function _0x375bbd(_0x3dc3fb,_0x2465dd){return _0x444c46(_0x3dc3fb- -0x44a,_0x2465dd);}this['_canvasParticles']=_0x40fd90,this['canvasContext']['globalCompositeOperation']='destination-in',this['canvasContext']['fillRect'](0x0,0x0,this['canvasWidth'],this['canvasHeight']),this['canvasContext']['globalCompositeOperation']='lighter';function _0x22d256(_0x354bac,_0x4bc165){return _0x444c46(_0x4bc165- -0x2b2,_0x354bac);}this[_0x22d256(-0x112,-0xb5)]['globalAlpha']=0.9;const _0x298882=this[_0x375bbd(-0x1f1,-0x233)]['scene']['mode']!==Cesium['SceneMode']['SCENE3D'],_0x5e7ed4=this['canvasWidth']*0.25;if(this[_0x375bbd(-0x233,-0x2bb)])for(let _0x15a53c=0x0,_0x451fe4=_0x40fd90['length'];_0x15a53c<_0x451fe4;_0x15a53c++){const _0x5e4fbf=_0x40fd90[_0x15a53c],_0x148e8c=this[_0x375bbd(-0x17d,-0x173)](_0x5e4fbf,_0x5e4fbf['lng'],_0x5e4fbf['lat'],_0x5e4fbf['alt']),_0x2b918d=this['_tomap'](_0x5e4fbf,_0x5e4fbf['tlng'],_0x5e4fbf['tlat'],_0x5e4fbf[_0x375bbd(-0x232,-0x240)]);if(!_0x148e8c||!_0x2b918d)continue;if(_0x298882&&Math['abs'](_0x148e8c[0x0]-_0x2b918d[0x0])>=_0x5e7ed4)continue;this['canvasContext']['beginPath'](),this['canvasContext']['lineWidth']=this[_0x22d256(-0xa2,-0xcb)],this[_0x375bbd(-0x24d,-0x253)][_0x375bbd(-0x215,-0x23b)]=this['_colorRamp']['getColor'](_0x5e4fbf['speed']),this[_0x22d256(-0xbd,-0xb5)]['moveTo'](_0x148e8c[0x0],_0x148e8c[0x1]),this[_0x22d256(-0xde,-0xb5)][_0x375bbd(-0x1df,-0x1db)](_0x2b918d[0x0],_0x2b918d[0x1]),this['canvasContext'][_0x375bbd(-0x14d,-0x1df)]();}else{this[_0x22d256(-0x147,-0xb5)]['beginPath'](),this['canvasContext']['lineWidth']=this['lineWidth'],this[_0x22d256(-0x8e,-0xb5)]['strokeStyle']=this['color'];for(let _0x17db23=0x0,_0x1ff235=_0x40fd90['length'];_0x17db23<_0x1ff235;_0x17db23++){const _0x34b74e=_0x40fd90[_0x17db23],_0x49e49e=this[_0x22d256(-0x57,0x1b)](_0x34b74e,_0x34b74e['lng'],_0x34b74e[_0x22d256(0x53,-0x2b)],_0x34b74e['alt']),_0x13f102=this['_tomap'](_0x34b74e,_0x34b74e['tlng'],_0x34b74e['tlat'],_0x34b74e['talt']);if(!_0x49e49e||!_0x13f102)continue;if(_0x298882&&Math[_0x22d256(-0x22,-0x1b)](_0x49e49e[0x0]-_0x13f102[0x0])>=_0x5e7ed4)continue;this['canvasContext']['moveTo'](_0x49e49e[0x0],_0x49e49e[0x1]),this[_0x375bbd(-0x24d,-0x28b)][_0x22d256(-0x6a,-0x47)](_0x13f102[0x0],_0x13f102[0x1]);}this[_0x22d256(-0x7d,-0xb5)][_0x22d256(0x43,0x4b)]();}}[_0x5ac86e(0x72,-0x1f)](_0x38546f,_0x19d56b,_0x1d838e,_0x33bdc1){const _0x520ecd=Cesium['Cartesian3']['fromDegrees'](_0x19d56b,_0x1d838e,_0x33bdc1??this[_0x3c4d31(0x2d4,0x296)]),_0x576f86=this[_0x1e9f2a(0x24c,0x1ed)][_0x1e9f2a(0x223,0x24c)];if(_0x576f86[_0x3c4d31(0x284,0x277)]===Cesium['SceneMode'][_0x3c4d31(0x1f2,0x1f0)]){const _0x437473=new Cesium['EllipsoidalOccluder'](_0x576f86[_0x1e9f2a(0x317,0x285)]['ellipsoid'],_0x576f86['camera']['positionWC']),_0x23ba22=_0x437473[_0x1e9f2a(0x1b0,0x1ad)](_0x520ecd);if(!_0x23ba22)return _0x38546f['age']=0x0,null;}const _0x53aaad=mars3d__namespace[_0x3c4d31(0x219,0x25e)]['toWindowCoordinates'](this['_map']['scene'],_0x520ecd);function _0x3c4d31(_0x21357a,_0x506e71){return _0x5ac86e(_0x21357a,_0x506e71-0x2e1);}function _0x1e9f2a(_0xd5ecc0,_0x237bfe){return _0x444c46(_0x237bfe- -0x6c,_0xd5ecc0);}return _0x53aaad?[_0x53aaad['x'],_0x53aaad['y']]:null;}[_0x444c46(0x250,0x260)](){function _0xd1cd3e(_0x45acd5,_0x2ea9b7){return _0x444c46(_0x2ea9b7-0x24e,_0x45acd5);}this[_0xd1cd3e(0x52b,0x546)][_0x4713ed(-0x42,-0x3c)]();function _0x4713ed(_0x22c6d1,_0x19cee5){return _0x444c46(_0x19cee5- -0x28c,_0x22c6d1);}delete this['windData'];}['initWorker'](){this[_0xaa7621(0x57f,0x593)]=new Worker(this['options']['worker']);function _0xaa7621(_0x2b7705,_0x2bc3ae){return _0x5ac86e(_0x2bc3ae,_0x2b7705-0x568);}this[_0xaa7621(0x57f,0x4fa)]['onmessage']=_0x1c252d=>{this['_drawLines'](_0x1c252d[_0x190802(0x3bc,0x445)]['particles']);function _0x190802(_0x84cbb1,_0x19a78b){return _0xaa7621(_0x84cbb1- -0x146,_0x19a78b);}this['_updateIng2']=![];};function _0x2de98b(_0x1147be,_0x1733a4){return _0x5ac86e(_0x1147be,_0x1733a4-0x1e6);}this[_0xaa7621(0x574,0x58c)]={'init':_0x45b56d=>{const _0x382571={};_0x382571['type']=_0x6b6694(0x4bc,0x53f);function _0x44b008(_0x3d6120,_0x31825f){return _0xaa7621(_0x3d6120- -0x138,_0x31825f);}_0x382571['options']=_0x45b56d;function _0x6b6694(_0x187677,_0x488b0f){return _0xaa7621(_0x488b0f-0x65,_0x187677);}this[_0x44b008(0x447,0x476)][_0x6b6694(0x565,0x570)](_0x382571);},'setOptions':_0x145c0d=>{function _0x2c78d1(_0x4c0e4a,_0x2f4173){return _0x2de98b(_0x4c0e4a,_0x2f4173-0x3c5);}const _0x153c57={};_0x153c57[_0x2c78d1(0x48f,0x4f8)]=_0x2c78d1(0x551,0x543);function _0x4a9c4a(_0x3f2cf8,_0x1921d9){return _0xaa7621(_0x3f2cf8- -0x2d6,_0x1921d9);}_0x153c57['options']=_0x145c0d,this['worker']['postMessage'](_0x153c57);},'setDate':_0x100539=>{const _0x52c973={};_0x52c973['type']='setDate',_0x52c973['data']=_0x100539,this['worker']['postMessage'](_0x52c973);},'update':()=>{if(this['_updateIng2'])return;this['_updateIng2']=!![];const _0x2f42b5={};function _0x16cdb5(_0x67c397,_0x158e34){return _0xaa7621(_0x158e34- -0x1dd,_0x67c397);}_0x2f42b5['type']='update',this[_0x16cdb5(0x386,0x3a2)]['postMessage'](_0x2f42b5);},'clear':()=>{function _0x5363fa(_0x54cab9,_0x17e42f){return _0x2de98b(_0x54cab9,_0x17e42f-0x3bb);}const _0x37d7d8={};_0x37d7d8['type']='clear',this['worker'][_0x5363fa(0x544,0x544)](_0x37d7d8);}},this['windField'][_0xaa7621(0x4da,0x47e)](this[_0xaa7621(0x535,0x537)]);}}mars3d__namespace['LayerUtil']['register']('canvasWind',CanvasWindLayer),mars3d__namespace['layer'][_0x5ac86e(0x17,-0x41)]=CanvasWindLayer;function _0x444c46(_0x348fa6,_0xde61fd){return _0x3a9e(_0x348fa6-0x80,_0xde61fd);}mars3d__namespace[_0x444c46(0x200,0x200)]=CanvasWindField,mars3d__namespace[_0x5ac86e(-0x51,-0x76)]=WindUtil,exports['CanvasWindField']=CanvasWindField,exports['CanvasWindLayer']=CanvasWindLayer,exports[_0x444c46(0x308,0x394)]=WindLayer,exports['WindUtil']=WindUtil;const _0x1c55ec={};function _0x3a9e(_0x39698a,_0x29b3cc){const _0xde27ee=_0xde27();return _0x3a9e=function(_0x3a9edf,_0x454d22){_0x3a9edf=_0x3a9edf-0x161;let _0x4f7f17=_0xde27ee[_0x3a9edf];return _0x4f7f17;},_0x3a9e(_0x39698a,_0x29b3cc);}_0x1c55ec['value']=!![],Object['defineProperty'](exports,'__esModule',_0x1c55ec);
}));
