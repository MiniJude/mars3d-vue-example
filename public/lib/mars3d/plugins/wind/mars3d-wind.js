/**
 * Mars3D平台插件,支持气象 风向图 功能插件  mars3d-wind
 *
 * 版本信息：v3.8.8
 * 编译日期：2024-11-24 22:54
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-08-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-wind"] = {}, global.mars3d));
})(this, (function (exports, mars3d) { 
'use strict';(function(_0x220f14,_0xdfcb08){function _0x44b583(_0x502c2b,_0x3e1ef4){return _0x2bb5(_0x3e1ef4-0x369,_0x502c2b);}function _0x10e92e(_0x172992,_0x56c0c6){return _0x2bb5(_0x56c0c6-0x3b,_0x172992);}const _0x4ce8a7=_0x220f14();while(!![]){try{const _0x565306=parseInt(_0x44b583(0x50d,0x478))/0x1+parseInt(_0x10e92e(0xe2,0x10c))/0x2*(-parseInt(_0x44b583(0x468,0x4f5))/0x3)+parseInt(_0x44b583(0x3d4,0x45a))/0x4*(-parseInt(_0x44b583(0x4a5,0x4e0))/0x5)+parseInt(_0x10e92e(0x16d,0x1df))/0x6+parseInt(_0x44b583(0x4e7,0x46e))/0x7*(-parseInt(_0x44b583(0x4c6,0x4d1))/0x8)+parseInt(_0x44b583(0x4b5,0x463))/0x9+parseInt(_0x10e92e(0x16a,0x187))/0xa*(parseInt(_0x44b583(0x452,0x452))/0xb);if(_0x565306===_0xdfcb08)break;else _0x4ce8a7['push'](_0x4ce8a7['shift']());}catch(_0x4bdbef){_0x4ce8a7['push'](_0x4ce8a7['shift']());}}}(_0x1076,0x91943));function _interopNamespace(_0xdb1383){function _0x14916e(_0x294505,_0x768215){return _0x2bb5(_0x294505- -0x20e,_0x768215);}if(_0xdb1383&&_0xdb1383['__esModule'])return _0xdb1383;var _0x5b4a4c=Object[_0x14916e(-0x14e,-0x1a7)](null);return _0xdb1383&&Object['keys'](_0xdb1383)['forEach'](function(_0x4e2791){function _0x26d3d8(_0x43fe2e,_0x59ff5b){return _0x14916e(_0x43fe2e-0x1cf,_0x59ff5b);}function _0x499363(_0x498edb,_0x423611){return _0x14916e(_0x423611- -0xdf,_0x498edb);}if(_0x4e2791!==_0x26d3d8(0xd2,0x57)){var _0x1c8ca5=Object[_0x499363(-0x1e6,-0x1da)](_0xdb1383,_0x4e2791);Object['defineProperty'](_0x5b4a4c,_0x4e2791,_0x1c8ca5['get']?_0x1c8ca5:{'enumerable':!![],'get':function(){return _0xdb1383[_0x4e2791];}});}}),_0x5b4a4c['default']=_0xdb1383,_0x5b4a4c;}var mars3d__namespace=_interopNamespace(mars3d);const Cesium$7=mars3d__namespace[_0x4bed4d(0x40c,0x3be)];function getU(_0x1ac6fc,_0x39e731){const _0x4322d7=_0x1ac6fc*Math['cos'](Cesium$7['Math']['toRadians'](_0x39e731));return _0x4322d7;}function getV(_0x12cde8,_0x10f6db){const _0x45e02e=_0x12cde8*Math['sin'](Cesium$7['Math']['toRadians'](_0x10f6db));return _0x45e02e;}function getSpeed(_0x2de082,_0x3750b9){const _0x591293=Math[_0x2e7a7f(0x1a,-0x2b)](Math['pow'](_0x2de082,0x2)+Math['pow'](_0x3750b9,0x2));function _0x2e7a7f(_0x460eb0,_0x57296b){return _0x4bed4d(_0x460eb0,_0x57296b- -0x47b);}return _0x591293;}function getDirection(_0x4916f1,_0x238893){function _0x108b1c(_0x162516,_0x34be15){return _0x4bed4d(_0x162516,_0x34be15-0xed);}let _0x11780e=Cesium$7['Math'][_0x108b1c(0x51e,0x4cd)](Math['atan2'](_0x238893,_0x4916f1));return _0x11780e+=_0x11780e<0x0?0x168:0x0,_0x11780e;}const _0x2a9adb={};_0x2a9adb[_0x276d6c(0x261,0x22a)]=null,_0x2a9adb['getU']=getU,_0x2a9adb['getV']=getV,_0x2a9adb[_0x4bed4d(0x414,0x423)]=getSpeed,_0x2a9adb[_0x276d6c(0x239,0x1b8)]=getDirection;var WindUtil=_0x2a9adb;const Cesium$6=mars3d__namespace['Cesium'];class CustomPrimitive{constructor(_0x55d485){this['commandType']=_0x55d485[_0x238b72(0x9e,0x87)],this[_0x134c3b(-0x1ac,-0x17f)]=_0x55d485['geometry'],this[_0x238b72(0x161,0x16e)]=_0x55d485['attributeLocations'],this['primitiveType']=_0x55d485['primitiveType'],this['uniformMap']=_0x55d485[_0x238b72(0xf0,0xeb)],this['vertexShaderSource']=_0x55d485['vertexShaderSource'],this['fragmentShaderSource']=_0x55d485[_0x238b72(0x53,0xc9)],this['rawRenderState']=_0x55d485[_0x134c3b(-0x1c9,-0x212)],this[_0x238b72(0x5d,0xe5)]=_0x55d485['framebuffer'],this[_0x134c3b(-0xcd,-0x14d)]=_0x55d485[_0x238b72(0x180,0x161)],this[_0x134c3b(-0x19b,-0x122)]=_0x55d485['autoClear']??![],this[_0x134c3b(-0x128,-0xc0)]=_0x55d485['preExecute'],this[_0x238b72(0x138,0x166)]=!![];function _0x238b72(_0x35d8d9,_0xae35eb){return _0x4bed4d(_0x35d8d9,_0xae35eb- -0x2f8);}function _0x134c3b(_0x4b20fc,_0x50e39a){return _0x276d6c(_0x4b20fc- -0x334,_0x50e39a);}this['commandToExecute']=undefined,this['clearCommand']=undefined,this[_0x238b72(0x128,0x93)]&&(this['clearCommand']=new Cesium$6['ClearCommand']({'color':new Cesium$6['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x134c3b(-0x149,-0xf1)],'pass':Cesium$6[_0x238b72(0xff,0xe7)][_0x238b72(0x3d,0xbe)]}));}['createCommand'](_0x3e6dd8){function _0x1a9afc(_0x3f599a,_0x129d2a){return _0x4bed4d(_0x3f599a,_0x129d2a- -0x13e);}function _0x5c9939(_0x1d9b63,_0x3c761b){return _0x276d6c(_0x3c761b- -0x23e,_0x1d9b63);}switch(this['commandType']){case'Draw':{const _0x38be2b=Cesium$6['VertexArray']['fromGeometry']({'context':_0x3e6dd8,'geometry':this['geometry'],'attributeLocations':this['attributeLocations'],'bufferUsage':Cesium$6['BufferUsage']['STATIC_DRAW']}),_0x2f0eee={};_0x2f0eee['context']=_0x3e6dd8,_0x2f0eee['attributeLocations']=this['attributeLocations'],_0x2f0eee['vertexShaderSource']=this['vertexShaderSource'],_0x2f0eee[_0x5c9939(-0x2d,-0x6f)]=this['fragmentShaderSource'];const _0x100d90=Cesium$6[_0x5c9939(-0x4c,-0x1a)][_0x5c9939(0x35,-0x2a)](_0x2f0eee),_0x24f838=Cesium$6['RenderState']['fromCache'](this[_0x5c9939(-0xb4,-0xd3)]);return new Cesium$6[(_0x1a9afc(0x32a,0x2bd))]({'owner':this,'vertexArray':_0x38be2b,'primitiveType':this['primitiveType'],'uniformMap':this['uniformMap'],'modelMatrix':Cesium$6['Matrix4']['IDENTITY'],'shaderProgram':_0x100d90,'framebuffer':this['framebuffer'],'renderState':_0x24f838,'pass':Cesium$6['Pass']['OPAQUE']});}case'Compute':{const _0x33d3b8={};return _0x33d3b8[_0x1a9afc(0x2ba,0x337)]=this,_0x33d3b8[_0x1a9afc(0x22c,0x283)]=this[_0x5c9939(-0x21,-0x6f)],_0x33d3b8['uniformMap']=this['uniformMap'],_0x33d3b8['outputTexture']=this[_0x1a9afc(0x2fb,0x31b)],_0x33d3b8[_0x1a9afc(0x30d,0x323)]=!![],new Cesium$6[(_0x1a9afc(0x291,0x327))](_0x33d3b8);}}}['setGeometry'](_0x3c7a84,_0x222969){this[_0x5329de(0x191,0x1c0)]=_0x222969;function _0x1751ed(_0x15bb98,_0x477011){return _0x276d6c(_0x15bb98-0x261,_0x477011);}function _0x5329de(_0x1af88a,_0x2ad8c6){return _0x4bed4d(_0x1af88a,_0x2ad8c6- -0x1ba);}const _0x337041=Cesium$6[_0x1751ed(0x483,0x489)][_0x5329de(0x2c0,0x2ae)]({'context':_0x3c7a84,'geometry':this['geometry'],'attributeLocations':this[_0x1751ed(0x4d5,0x473)],'bufferUsage':Cesium$6['BufferUsage'][_0x1751ed(0x4e9,0x557)]});this[_0x1751ed(0x4f2,0x525)]['vertexArray']=_0x337041;}[_0x4bed4d(0x4db,0x44f)](_0x16852d){if(!this['show'])return;if(_0x16852d[_0x61fb80(-0x1b3,-0x159)]!==Cesium$6[_0x61fb80(-0x298,-0x2cb)]['SCENE3D'])return;function _0x61fb80(_0x50f2ff,_0x3a5783){return _0x4bed4d(_0x3a5783,_0x50f2ff- -0x62e);}!Cesium$6['defined'](this['commandToExecute'])&&(this['commandToExecute']=this[_0x61fb80(-0x1c7,-0x1d3)](_0x16852d[_0x23fa1b(0x2e7,0x341)]));function _0x23fa1b(_0x534537,_0xa65ab1){return _0x4bed4d(_0x534537,_0xa65ab1- -0x83);}Cesium$6['defined'](this['preExecute'])&&this[_0x23fa1b(0x33e,0x37b)](),Cesium$6[_0x61fb80(-0x2ca,-0x30b)](this['clearCommand'])&&_0x16852d['commandList'][_0x23fa1b(0x3a5,0x3d7)](this[_0x23fa1b(0x3b9,0x395)]),_0x16852d[_0x61fb80(-0x229,-0x23f)][_0x61fb80(-0x1d4,-0x189)](this[_0x23fa1b(0x3e6,0x400)]);}['isDestroyed'](){return![];}['destroy'](){function _0x43fd2a(_0x4fa542,_0x25c1eb){return _0x276d6c(_0x25c1eb-0x1b7,_0x4fa542);}if(this[_0x305ef2(-0x51,-0x38)]){var _0x5d700c,_0x1843d1;(_0x5d700c=this[_0x305ef2(-0x51,-0x93)])!==null&&_0x5d700c!==void 0x0&&_0x5d700c['vertexArray']&&this[_0x305ef2(-0x51,-0x59)][_0x43fd2a(0x45e,0x3ff)]['destroy'](),(_0x1843d1=this['clearCommand'])!==null&&_0x1843d1!==void 0x0&&_0x1843d1[_0x305ef2(-0x100,-0xa7)]&&this[_0x43fd2a(0x3bd,0x3dd)]['shaderProgram'][_0x43fd2a(0x2ac,0x32a)](),delete this[_0x43fd2a(0x449,0x3dd)];}this[_0x305ef2(0x1a,-0x41)]&&(this['commandToExecute']['vertexArray']&&this['commandToExecute']['vertexArray'][_0x305ef2(-0x104,-0xb8)](),this[_0x43fd2a(0x482,0x448)][_0x43fd2a(0x300,0x32e)]&&this['commandToExecute']['shaderProgram'][_0x43fd2a(0x2e4,0x32a)](),delete this['commandToExecute']);function _0x305ef2(_0x20ec03,_0x492f1b){return _0x276d6c(_0x20ec03- -0x277,_0x492f1b);}return Cesium$6[_0x305ef2(-0xe6,-0xaa)](this);}}const Cesium$5=mars3d__namespace[_0x4bed4d(0x3eb,0x3be)],Util=(function(){const _0x42737f=function(){const _0x5712a5=new Cesium$5['Geometry']({'attributes':new Cesium$5['GeometryAttributes']({'position':new Cesium$5['GeometryAttribute']({'componentDatatype':Cesium$5['ComponentDatatype']['FLOAT'],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new Cesium$5['GeometryAttribute']({'componentDatatype':Cesium$5[_0x5264b1(0x25,0x53)][_0x119f08(0x494,0x501)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});function _0x119f08(_0x130890,_0x2b0fc9){return _0x2bb5(_0x2b0fc9-0x3bc,_0x130890);}function _0x5264b1(_0xd5dd44,_0x27b780){return _0x2bb5(_0xd5dd44- -0x183,_0x27b780);}return _0x5712a5;},_0x27acc9=function(_0x2876a8,_0x4c0317){if(Cesium$5[_0x22f719(-0x142,-0xb9)](_0x4c0317)){const _0x2593e0={};_0x2593e0[_0x49824f(0x4b5,0x4bb)]=_0x4c0317,_0x2876a8['source']=_0x2593e0;}function _0x49824f(_0x53a879,_0x4ca1fe){return _0x2bb5(_0x4ca1fe-0x312,_0x53a879);}function _0x22f719(_0x366b04,_0x1a7e40){return _0x2bb5(_0x1a7e40- -0x140,_0x366b04);}const _0x4db9e9=new Cesium$5['Texture'](_0x2876a8);return _0x4db9e9;},_0x77f20b=function(_0x1ed105,_0x528692,_0x45fd1c){const _0x108c13={};_0x108c13['context']=_0x1ed105;function _0x436e98(_0x14d8b8,_0x2148d1){return _0x2bb5(_0x2148d1- -0x278,_0x14d8b8);}_0x108c13['colorTextures']=[_0x528692],_0x108c13[_0x436e98(-0x15e,-0x19b)]=_0x45fd1c;const _0x2a56d7=new Cesium$5['Framebuffer'](_0x108c13);return _0x2a56d7;};function _0xae760f(_0x32ade0,_0x348ad9){return _0x276d6c(_0x32ade0-0x268,_0x348ad9);}const _0x14cc14=function(_0x25f28a){const _0x50891d=!![],_0xe63d2=![],_0x224197={};_0x224197[_0x259621(-0x19f,-0x188)]=_0x25f28a['viewport'];function _0x38835c(_0x5f0add,_0x42ddd7){return _0x2bb5(_0x42ddd7-0x118,_0x5f0add);}_0x224197['depthTest']=_0x25f28a[_0x38835c(0x2d3,0x243)],_0x224197['depthMask']=_0x25f28a['depthMask'],_0x224197['blending']=_0x25f28a[_0x38835c(0x345,0x2b7)];const _0x3475ea=_0x224197,_0x4dcf72=Cesium$5['Appearance']['getDefaultRenderState'](_0x50891d,_0xe63d2,_0x3475ea);function _0x259621(_0x3815f2,_0x2d2f15){return _0x2bb5(_0x3815f2- -0x2dc,_0x2d2f15);}return _0x4dcf72;},_0x17e928=function(_0x440271){const _0x593795={},_0x20133e=Cesium$5['Math'][_0x38abfe(0x341,0x2c9)](_0x440271['west'],Cesium$5['Math']['TWO_PI']),_0x118b2e=Cesium$5[_0x4fe769(0x279,0x2cb)]['mod'](_0x440271['east'],Cesium$5['Math'][_0x38abfe(0x3de,0x472)]);function _0x38abfe(_0x53bd75,_0x511f6a){return _0x2bb5(_0x53bd75-0x25c,_0x511f6a);}const _0x9f4ffe=_0x440271['width'];let _0x58824b;function _0x4fe769(_0x4784b8,_0x1f02aa){return _0x2bb5(_0x1f02aa-0x1ca,_0x4784b8);}let _0x56d228;_0x9f4ffe>Cesium$5['Math']['THREE_PI_OVER_TWO']?(_0x58824b=0x0,_0x56d228=Cesium$5['Math'][_0x38abfe(0x3de,0x386)]):_0x118b2e-_0x20133e<_0x9f4ffe?(_0x58824b=_0x20133e,_0x56d228=_0x20133e+_0x9f4ffe):(_0x58824b=_0x20133e,_0x56d228=_0x118b2e);_0x593795['lon']={'min':Cesium$5['Math']['toDegrees'](_0x58824b),'max':Cesium$5['Math'][_0x4fe769(0x23b,0x2cd)](_0x56d228)};const _0x18d9ff=_0x440271['south'],_0x5f2035=_0x440271['north'],_0x5a3f0f=_0x440271['height'],_0x573be8=_0x5a3f0f>Cesium$5[_0x4fe769(0x2ee,0x2cb)]['PI']/0xc?_0x5a3f0f/0x2:0x0;let _0x5622c2=Cesium$5[_0x4fe769(0x28e,0x2cb)]['clampToLatitudeRange'](_0x18d9ff-_0x573be8),_0x22d6ee=Cesium$5['Math']['clampToLatitudeRange'](_0x5f2035+_0x573be8);return _0x5622c2<-Cesium$5[_0x4fe769(0x26c,0x2cb)]['PI_OVER_THREE']&&(_0x5622c2=-Cesium$5['Math']['PI_OVER_TWO']),_0x22d6ee>Cesium$5['Math']['PI_OVER_THREE']&&(_0x22d6ee=Cesium$5['Math']['PI_OVER_TWO']),_0x593795[_0x38abfe(0x34f,0x38f)]={'min':Cesium$5['Math']['toDegrees'](_0x5622c2),'max':Cesium$5['Math']['toDegrees'](_0x22d6ee)},_0x593795;},_0x2a6df1={};_0x2a6df1[_0xae760f(0x410,0x3d5)]=_0x42737f;function _0x14d74f(_0x3ba21a,_0x378f51){return _0x276d6c(_0x3ba21a-0x1f6,_0x378f51);}return _0x2a6df1[_0x14d74f(0x377,0x35c)]=_0x27acc9,_0x2a6df1[_0xae760f(0x4c4,0x4d5)]=_0x77f20b,_0x2a6df1['createRawRenderState']=_0x14cc14,_0x2a6df1['viewRectangleToLonLatRange']=_0x17e928,_0x2a6df1;}());var fullscreenVert='#version\x20300\x20es\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec2\x20st;\x0a\x0aout\x20vec2\x20textureCoordinate;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20textureCoordinate\x20=\x20st;\x0a\x20\x20gl_Position\x20=\x20vec4(position,\x201.0f);\x0a}\x0a',screenDrawFrag=_0x4bed4d(0x3f9,0x40e),segmentDrawFrag='#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20colorTable;\x0auniform\x20bool\x20colour;\x0a\x0ain\x20float\x20heightNormalization;\x0ain\x20float\x20speedNormalization;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20const\x20float\x20zero\x20=\x200.0f;\x0a\x20\x20if(speedNormalization\x20>\x20zero)\x20{\x0a\x20\x20\x20\x20if(colour)\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(heightNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(speedNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(zero);\x0a\x20\x20}\x0a}\x0a',segmentDrawVert='#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20lines\x20drawing\x0ain\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0auniform\x20vec2\x20hRange;\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0a\x0auniform\x20sampler2D\x20previousParticlesPosition;\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0astruct\x20adjacentPoints\x20{\x0a\x20\x20vec4\x20previous;\x0a\x20\x20vec4\x20current;\x0a\x20\x20vec4\x20next;\x0a};\x0a\x0aout\x20float\x20heightNormalization;\x0aout\x20float\x20speedNormalization;\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20read\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x0a\x20\x20float\x20a\x20=\x206378137.0f;\x20//\x20Semi-major\x20axis\x0a\x20\x20float\x20b\x20=\x206356752.3142f;\x20//\x20Semi-minor\x20axis\x0a\x20\x20float\x20e2\x20=\x206.69437999014e-3f;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0f\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20float\x20h\x20=\x20particleHeight\x20+\x20lonLatLev.z;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0f);\x0a\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calculateProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0f,\x20360.0f)\x20-\x20180.0f;\x0a\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0f);\x0a\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calculateOffsetOnNormalDirection(vec4\x20pointA,\x20vec4\x20pointB,\x20float\x20offsetSign)\x20{\x0a\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0f);\x0a\x20\x20vec2\x20pointA_XY\x20=\x20(pointA.xy\x20/\x20pointA.w)\x20*\x20aspectVec2;\x0a\x20\x20vec2\x20pointB_XY\x20=\x20(pointB.xy\x20/\x20pointB.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0f;\x0a\x20\x20vec2\x20direction\x20=\x20normalize(pointB_XY\x20-\x20pointA_XY);\x0a\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0f,\x200.0f);\x0a\x20\x20return\x20offset;\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(speed.z\x20-\x20wSpeedRange.x)\x20/\x20(wSpeedRange.y\x20-\x20wSpeedRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20vec3\x20previousPosition\x20=\x20texture(previousParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20currentPosition\x20=\x20texture(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20nextPosition\x20=\x20texture(postProcessingPosition,\x20particleIndex).rgb;\x0a\x0a\x20\x20float\x20isAnyRandomPointUsed\x20=\x20texture(postProcessingPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(currentParticlesPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(previousParticlesPosition,\x20particleIndex).a;\x0a\x0a\x20\x20adjacentPoints\x20projectedCoordinates;\x0a\x20\x20if(isAnyRandomPointUsed\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20projectedCoordinates.previous;\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20projectedCoordinates.previous;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20calculateProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20calculateProjectedCoordinate(nextPosition);\x0a\x20\x20}\x0a\x0a\x20\x20int\x20pointToUse\x20=\x20int(normal.x);\x0a\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x20\x20vec4\x20offset\x20=\x20vec4(0.0f);\x0a\x20\x20\x20\x20//\x20render\x20lines\x20with\x20triangles\x20and\x20miter\x20joint\x0a\x20\x20\x20\x20//\x20read\x20https://blog.scottlogic.com/2019/11/18/drawing-lines-with-webgl.html\x20for\x20detail\x0a\x20\x20if(pointToUse\x20==\x20-1)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.previous,\x20projectedCoordinates.current,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.previous\x20+\x20offset;\x0a\x20\x20}\x20else\x20if(pointToUse\x20==\x201)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.current,\x20projectedCoordinates.next,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.next\x20+\x20offset;\x0a\x20\x20}\x0a\x0a\x20\x20heightNormalization\x20=\x20(currentPosition.z\x20-\x20hRange.x)\x20/\x20(hRange.y\x20-\x20hRange.x);\x0a\x0a\x20\x20speedNormalization\x20=\x20texture(particlesSpeed,\x20particleIndex).a;\x0a}\x0a',trailDrawFrag='#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0a\x0auniform\x20sampler2D\x20segmentsColorTexture;\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0a\x0auniform\x20sampler2D\x20currentTrailsColor;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0auniform\x20float\x20fadeOpacity;\x0a\x0aout\x20vec4\x20fragColor;\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20pointsColor\x20=\x20texture(segmentsColorTexture,\x20textureCoordinate);\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(currentTrailsColor,\x20textureCoordinate);\x0a\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0f\x20*\x20trailsColor)\x20/\x20255.0f;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0a\x0a\x20\x20float\x20pointsDepth\x20=\x20texture(segmentsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20if(pointsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20pointsColor;\x0a\x20\x20}\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20trailsColor;\x0a\x20\x20}\x0a\x20\x20gl_FragDepth\x20=\x20min(pointsDepth,\x20trailsDepth);\x0a}\x0a';function _0x4bed4d(_0x121ce4,_0x565198){return _0x2bb5(_0x565198-0x2dd,_0x121ce4);}const Cesium$4=mars3d__namespace['Cesium'];class ParticlesRendering{constructor(_0x11a937,_0xafe54b,_0x48bf0f,_0xb48fd,_0x33d741){this['colour']=_0x48bf0f['colors']==='height';function _0x16d0a1(_0x3e63cc,_0x3fdc0e){return _0x4bed4d(_0x3fdc0e,_0x3e63cc- -0x8);}this[_0x301eba(-0x225,-0x246)](_0x11a937,_0xafe54b,_0x48bf0f[_0x16d0a1(0x3eb,0x448)]);function _0x301eba(_0x1b388e,_0x2f9ef4){return _0x276d6c(_0x2f9ef4- -0x441,_0x1b388e);}this[_0x16d0a1(0x3ea,0x3cd)](_0x11a937),this[_0x301eba(-0x2b3,-0x2a1)](_0x11a937,_0xafe54b,_0x48bf0f,_0xb48fd,_0x33d741);}[_0x276d6c(0x1fb,0x1f7)](_0x46021b,_0x51acca,_0x509602){const _0x404bbd={};_0x404bbd['context']=_0x46021b,_0x404bbd[_0x6fb2f6(-0x2bb,-0x297)]=_0x46021b[_0x6fb2f6(-0x259,-0x227)];function _0x6fb2f6(_0x2f2216,_0x3d33ad){return _0x276d6c(_0x3d33ad- -0x4a6,_0x2f2216);}_0x404bbd[_0x6fb2f6(-0x1c9,-0x24b)]=_0x46021b[_0x6fb2f6(-0x214,-0x22a)],_0x404bbd[_0x438e60(0x63,0xf0)]=Cesium$4['PixelFormat']['RGBA'],_0x404bbd['pixelDatatype']=Cesium$4['PixelDatatype']['UNSIGNED_BYTE'];const _0xb21430=_0x404bbd,_0x23433b={};function _0x438e60(_0x576ed2,_0x2ae14c){return _0x276d6c(_0x576ed2- -0x208,_0x2ae14c);}_0x23433b['context']=_0x46021b,_0x23433b['width']=_0x46021b[_0x438e60(0x77,0xa9)],_0x23433b['height']=_0x46021b['drawingBufferHeight'],_0x23433b[_0x438e60(0x63,0xf1)]=Cesium$4[_0x438e60(0x5c,0x5)]['DEPTH_COMPONENT'],_0x23433b['pixelDatatype']=Cesium$4[_0x6fb2f6(-0x319,-0x2ae)]['UNSIGNED_INT'];const _0x430f95=_0x23433b,_0x13249b=_0x509602['length'],_0x45bb7d=new Float32Array(_0x13249b*0x3);for(let _0x1f8976=0x0;_0x1f8976<_0x13249b;_0x1f8976++){const _0x57c827=Cesium$4['Color'][_0x438e60(-0x6,0x7b)](_0x509602[_0x1f8976]);_0x45bb7d[0x3*_0x1f8976]=_0x57c827['red'],_0x45bb7d[0x3*_0x1f8976+0x1]=_0x57c827[_0x6fb2f6(-0x21f,-0x220)],_0x45bb7d[0x3*_0x1f8976+0x2]=_0x57c827['blue'];}const _0x5efe13={'context':_0x46021b,'width':_0x13249b,'height':0x1,'pixelFormat':Cesium$4['PixelFormat']['RGB'],'pixelDatatype':Cesium$4['PixelDatatype']['FLOAT'],'sampler':new Cesium$4[(_0x438e60(0x8,0x31))]({'minificationFilter':Cesium$4['TextureMinificationFilter'][_0x438e60(0x27,-0x43)],'magnificationFilter':Cesium$4['TextureMagnificationFilter']['LINEAR']})};this['textures']={'segmentsColor':Util['createTexture'](_0xb21430),'segmentsDepth':Util[_0x6fb2f6(-0x3b8,-0x325)](_0x430f95),'currentTrailsColor':Util[_0x6fb2f6(-0x376,-0x325)](_0xb21430),'currentTrailsDepth':Util[_0x438e60(-0x87,-0x52)](_0x430f95),'nextTrailsColor':Util[_0x438e60(-0x87,-0x7b)](_0xb21430),'nextTrailsDepth':Util['createTexture'](_0x430f95),'colorTable':Util['createTexture'](_0x5efe13,_0x45bb7d)};}['createRenderingFramebuffers'](_0x4a8821){function _0x45626c(_0x2b6745,_0x4b20a6){return _0x4bed4d(_0x2b6745,_0x4b20a6-0xe8);}function _0x159daf(_0x3f621d,_0xc7ddd4){return _0x4bed4d(_0xc7ddd4,_0x3f621d- -0x34f);}this['framebuffers']={'segments':Util['createFramebuffer'](_0x4a8821,this['textures'][_0x159daf(0x64,0x4b)],this['textures']['segmentsDepth']),'currentTrails':Util['createFramebuffer'](_0x4a8821,this['textures'][_0x45626c(0x5a0,0x554)],this['textures']['currentTrailsDepth']),'nextTrails':Util['createFramebuffer'](_0x4a8821,this['textures']['nextTrailsColor'],this['textures']['nextTrailsDepth'])};}[_0x4bed4d(0x3c2,0x3bf)](_0x52dddb){const _0x246219=0x4;let _0x40734e=[];for(let _0x39886f=0x0;_0x39886f<_0x52dddb['particlesTextureSize'];_0x39886f++){for(let _0x47180e=0x0;_0x47180e<_0x52dddb[_0x353c67(-0xa2,-0x16)];_0x47180e++){for(let _0x547760=0x0;_0x547760<_0x246219;_0x547760++){_0x40734e['push'](_0x39886f/_0x52dddb['particlesTextureSize']),_0x40734e[_0x353c67(-0xb2,-0x82)](_0x47180e/_0x52dddb['particlesTextureSize']);}}}_0x40734e=new Float32Array(_0x40734e);let _0x2dbda0=[];for(let _0x4c88a4=0x0;_0x4c88a4<_0x52dddb[_0x48ab22(0x411,0x3f2)];_0x4c88a4++){_0x2dbda0[_0x353c67(-0xb2,-0x144)](-0x1,-0x1,0x0,-0x1,0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0);}function _0x48ab22(_0x8630de,_0x435d59){return _0x4bed4d(_0x8630de,_0x435d59-0x4c);}_0x2dbda0=new Float32Array(_0x2dbda0);let _0x8cfd30=[];function _0x353c67(_0x11d36f,_0x4c630a){return _0x4bed4d(_0x4c630a,_0x11d36f- -0x50c);}for(let _0x687032=0x0,_0x5a68e5=0x0;_0x687032<_0x52dddb['maxParticles'];_0x687032++){_0x8cfd30[_0x48ab22(0x499,0x4a6)](_0x5a68e5+0x0,_0x5a68e5+0x1,_0x5a68e5+0x2,_0x5a68e5+0x2,_0x5a68e5+0x1,_0x5a68e5+0x3),_0x5a68e5+=_0x246219;}_0x8cfd30=new Uint32Array(_0x8cfd30);const _0x53606b=new Cesium$4[(_0x48ab22(0x356,0x3d9))]({'attributes':new Cesium$4['GeometryAttributes']({'st':new Cesium$4[(_0x48ab22(0x4bb,0x453))]({'componentDatatype':Cesium$4['ComponentDatatype'][_0x48ab22(0x495,0x46e)],'componentsPerAttribute':0x2,'values':_0x40734e}),'normal':new Cesium$4[(_0x48ab22(0x3e7,0x453))]({'componentDatatype':Cesium$4[_0x353c67(-0x87,-0xc4)][_0x48ab22(0x49c,0x46e)],'componentsPerAttribute':0x3,'values':_0x2dbda0})}),'indices':_0x8cfd30});return _0x53606b;}['createRenderingPrimitives'](_0x5a7ff8,_0x1e799f,_0x4777a4,_0x1baa29,_0x19278c){function _0x78f6e9(_0x9ba50d,_0x3a60eb){return _0x4bed4d(_0x9ba50d,_0x3a60eb-0x1);}const _0x5e0dc3=this,_0xe6b26d={};_0xe6b26d['st']=0x0,_0xe6b26d['normal']=0x1;const _0x511210={};_0x511210[_0x188502(0x3cf,0x462)]=[segmentDrawVert];const _0x481cfa={};_0x481cfa[_0x78f6e9(0x456,0x3d5)]=[segmentDrawFrag];const _0x33f3bb={};_0x33f3bb[_0x188502(0x428,0x427)]=!![];const _0x595ed1={};_0x595ed1[_0x188502(0x415,0x3d8)]=undefined,_0x595ed1['depthTest']=_0x33f3bb,_0x595ed1['depthMask']=!![];const _0x6c0fb={};_0x6c0fb[_0x78f6e9(0x2eb,0x373)]=0x0,_0x6c0fb['st']=0x1;const _0x238db7={};_0x238db7[_0x188502(0x3e2,0x439)]=[_0x78f6e9(0x2fd,0x37e)],_0x238db7['sources']=[fullscreenVert];const _0x16ccb1={};_0x16ccb1['defines']=['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],_0x16ccb1[_0x188502(0x3cf,0x3c7)]=[trailDrawFrag];const _0xcbaf7={};_0xcbaf7['position']=0x0,_0xcbaf7['st']=0x1;const _0x58c75b={};_0x58c75b['defines']=[_0x188502(0x378,0x40a)],_0x58c75b['sources']=[fullscreenVert];const _0x46b28c={};_0x46b28c['defines']=['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],_0x46b28c['sources']=[screenDrawFrag];const _0x5d9d3c={};_0x5d9d3c['enabled']=![];const _0x90f150={};function _0x188502(_0x41f142,_0x41af48){return _0x276d6c(_0x41f142-0x1ed,_0x41af48);}_0x90f150[_0x188502(0x428,0x4a8)]=!![],this['primitives']={'segments':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0xe6b26d,'geometry':this['createSegmentsGeometry'](_0x4777a4),'primitiveType':Cesium$4[_0x78f6e9(0x32c,0x39f)]['TRIANGLES'],'uniformMap':{'previousParticlesPosition':function(){return _0x19278c['particlesTextures']['previousParticlesPosition'];},'currentParticlesPosition':function(){function _0x10dd56(_0x4c43ac,_0x2c814b){return _0x78f6e9(_0x4c43ac,_0x2c814b- -0x31d);}return _0x19278c['particlesTextures'][_0x10dd56(0xea,0x124)];},'postProcessingPosition':function(){return _0x19278c['particlesTextures']['postProcessingPosition'];},'particlesSpeed':function(){function _0xab03ec(_0x41b880,_0xa5404d){return _0x188502(_0x41b880- -0x640,_0xa5404d);}return _0x19278c[_0xab03ec(-0x2d9,-0x2eb)]['particlesSpeed'];},'colorTable':function(){function _0x368586(_0x313526,_0x3fe57a){return _0x188502(_0x3fe57a-0x77,_0x313526);}return _0x5e0dc3['textures'][_0x368586(0x492,0x4e2)];},'aspect':function(){function _0x521473(_0x8bad5,_0x530d0c){return _0x78f6e9(_0x530d0c,_0x8bad5- -0x401);}function _0x291e7d(_0x2027be,_0x2bf3c8){return _0x188502(_0x2027be-0xa8,_0x2bf3c8);}return _0x5a7ff8[_0x291e7d(0x514,0x4df)]/_0x5a7ff8[_0x521473(0x6e,0xfc)];},'H':function(){return _0x1e799f['H']['array'];},'hRange':function(){function _0x231183(_0xb5cd8,_0x3f0fd8){return _0x78f6e9(_0x3f0fd8,_0xb5cd8- -0x570);}function _0xfc79d9(_0x4e6715,_0x51691e){return _0x188502(_0x51691e-0x17,_0x4e6715);}return new Cesium$4['Cartesian2'](_0x1e799f['H'][_0xfc79d9(0x402,0x3b2)],_0x1e799f['H'][_0x231183(-0x1e9,-0x26d)]);},'uSpeedRange':function(){function _0xd4623a(_0x1d62cd,_0x48ad41){return _0x78f6e9(_0x1d62cd,_0x48ad41- -0x18a);}function _0x2546d8(_0x983d8c,_0x4993c1){return _0x78f6e9(_0x4993c1,_0x983d8c- -0x601);}return new Cesium$4[(_0x2546d8(-0x204,-0x1b8))](_0x1e799f['U'][_0x2546d8(-0x260,-0x1fe)],_0x1e799f['U']['max']);},'vSpeedRange':function(){function _0x35e5a5(_0x12254a,_0x4ca5e3){return _0x78f6e9(_0x4ca5e3,_0x12254a-0x56);}function _0x5b9ce8(_0x260886,_0xc61990){return _0x188502(_0xc61990-0x33,_0x260886);}return new Cesium$4[(_0x5b9ce8(0x3cf,0x42a))](_0x1e799f['V']['min'],_0x1e799f['V'][_0x5b9ce8(0x445,0x3b4)]);},'wSpeedRange':function(){function _0x31f024(_0x3621fb,_0x1b30ab){return _0x78f6e9(_0x1b30ab,_0x3621fb- -0x12);}return new Cesium$4['Cartesian2'](_0x1e799f['W'][_0x31f024(0x38f,0x35d)],_0x1e799f['W']['max']);},'pixelSize':function(){function _0x16fd5d(_0x4ac715,_0x3638d0){return _0x188502(_0x3638d0- -0x68e,_0x4ac715);}return _0x1baa29[_0x16fd5d(-0x289,-0x2b7)];},'lineWidth':function(){function _0x391585(_0x47584d,_0x46361c){return _0x188502(_0x47584d- -0x640,_0x46361c);}return _0x4777a4[_0x391585(-0x26a,-0x2c6)];},'particleHeight':function(){function _0x23c202(_0x126580,_0x226a38){return _0x78f6e9(_0x126580,_0x226a38-0xc6);}return _0x4777a4[_0x23c202(0x4ce,0x544)];},'colour':function(){function _0x6e2135(_0x1eef69,_0x275919){return _0x188502(_0x275919- -0x4d4,_0x1eef69);}return _0x5e0dc3[_0x6e2135(-0xcf,-0x135)];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0x511210),'fragmentShaderSource':new Cesium$4[(_0x188502(0x379,0x3e7))](_0x481cfa),'rawRenderState':Util['createRawRenderState'](_0x595ed1),'framebuffer':this['framebuffers']['segments'],'autoClear':!![]}),'trails':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x6c0fb,'geometry':Util[_0x188502(0x395,0x31c)](),'primitiveType':Cesium$4[_0x188502(0x399,0x345)]['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){function _0x3a220c(_0xb7addf,_0x2422e4){return _0x188502(_0xb7addf- -0x1b5,_0x2422e4);}function _0x8339c6(_0x62142e,_0x335cd8){return _0x78f6e9(_0x335cd8,_0x62142e- -0x683);}return _0x5e0dc3[_0x8339c6(-0x27f,-0x313)][_0x8339c6(-0x2cf,-0x28c)];},'segmentsDepthTexture':function(){function _0x32de7f(_0x2671de,_0x122d43){return _0x188502(_0x2671de- -0x50f,_0x122d43);}function _0x43afb4(_0x22bce3,_0x4a486d){return _0x188502(_0x22bce3-0x5f,_0x4a486d);}return _0x5e0dc3[_0x32de7f(-0x111,-0x7c)][_0x43afb4(0x4bd,0x506)];},'currentTrailsColor':function(){function _0x1fa307(_0xc58999,_0x251121){return _0x188502(_0x251121- -0x26d,_0xc58999);}return _0x5e0dc3['framebuffers']['currentTrails'][_0x1fa307(0x118,0xf6)](0x0);},'trailsDepthTexture':function(){function _0x585846(_0xb9c77c,_0xad40ce){return _0x78f6e9(_0xb9c77c,_0xad40ce- -0x464);}return _0x5e0dc3[_0x585846(-0x23,-0x12)]['currentTrails']['depthTexture'];},'fadeOpacity':function(){return _0x4777a4['fadeOpacity'];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0x238db7),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x16ccb1),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':{'enabled':!![],'func':Cesium$4[_0x188502(0x392,0x345)]['ALWAYS']},'depthMask':!![]}),'framebuffer':this['framebuffers']['nextTrails'],'autoClear':!![],'preExecute':function(){function _0x4e8519(_0x251371,_0x5e9242){return _0x78f6e9(_0x251371,_0x5e9242- -0x555);}if(_0x4777a4['dynamic']){const _0xbf6500=_0x5e0dc3[_0x4e8519(-0xb7,-0x103)][_0x856973(0xd8,0x163)];_0x5e0dc3['framebuffers'][_0x4e8519(-0x13b,-0x123)]=_0x5e0dc3[_0x4e8519(-0x12d,-0x103)]['nextTrails'],_0x5e0dc3[_0x4e8519(-0xa6,-0x103)]['nextTrails']=_0xbf6500;}_0x5e0dc3['primitives'][_0x856973(0xea,0xb1)]['commandToExecute']['framebuffer']=_0x5e0dc3['framebuffers']['nextTrails'];function _0x856973(_0x7262b1,_0x4bff18){return _0x188502(_0x7262b1- -0x354,_0x4bff18);}_0x5e0dc3['primitives'][_0x856973(0xea,0x8e)][_0x856973(0xbf,0x34)]['framebuffer']=_0x5e0dc3['framebuffers']['nextTrails'];}}),'screen':new CustomPrimitive({'commandType':_0x188502(0x429,0x41a),'attributeLocations':_0xcbaf7,'geometry':Util[_0x78f6e9(0x403,0x39b)](),'primitiveType':Cesium$4[_0x78f6e9(0x39d,0x39f)]['TRIANGLES'],'uniformMap':{'trailsColorTexture':function(){function _0x1691a8(_0xf84789,_0x5ac8ac){return _0x78f6e9(_0xf84789,_0x5ac8ac- -0xc1);}return _0x5e0dc3[_0x1691a8(0x31d,0x391)]['nextTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){function _0x569db5(_0x23319c,_0x4bb60e){return _0x78f6e9(_0x4bb60e,_0x23319c- -0x4c);}function _0x3c6eee(_0x2da861,_0x305c85){return _0x188502(_0x305c85- -0x38b,_0x2da861);}return _0x5e0dc3[_0x3c6eee(0x12a,0xc1)][_0x569db5(0x3e7,0x3de)][_0x3c6eee(0x87,0x2a)];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0x58c75b),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x46b28c),'rawRenderState':Util[_0x188502(0x42e,0x3c5)]({'viewport':undefined,'depthTest':_0x5d9d3c,'depthMask':!![],'blending':_0x90f150}),'framebuffer':undefined})};}}function _0x1076(){const _0xa7278c=['options','Geometry','getUVByPoint','speedFactor','_map','color','createRenderingPrimitives','canvasWind','nextParticlesPosition','maxAge','SceneMode','DepthFunction','getExtent','visibility','getFullscreenQuad','_setOptionsHook','setDate','create','PrimitiveType','particles','min','lonRange','particlesNumber','RGBA','colour','globe','maxParticles','calculateSpeed','clear','lighter','NEAREST','tlng','speed','CanvasWindField','2WPzSFk','minimumRadius','lng','wind','updatePosition','segmentsColor','applyViewerParameters','PointTrans','OPAQUE','destroyParticlesTextures','_removedHook','fill','depthTexture','umin','updateViewerParameters','preRender','Cesium','createSegmentsGeometry','getColor','fragmentShaderSource','mod','TextureMagnificationFilter','context','resize','742093cjuUai','dynamic','canvasContext','particlesRendering','mouse_move','particleSystem','_drawLines','_addedHook','8AXvBaA','left','lat','_onMapWhellEvent','udata','data','sources','ceil','dropRateBump','3772827YWBhOu','ellipsoid','_bilinearInterpolation','clientHeight','lineWidth','pixelSize','framebuffer','Math','Pass','toDegrees','none','483TAkHqW','uniformMap','canvas','primitives','randomBetween','defines','SCENE3D','_randomParticle','PixelDatatype','stroke','240559UEfHQc','createRenderingTextures','default','camera','getOwnPropertyDescriptor','wheel','createRenderingFramebuffers','colors','fromCssColorString','windData','#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x20Unit\x20converted\x20to\x20degrees\x20of\x20longitude\x20and\x20latitude\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20speed;\x0a\x20\x20if(length(speed.rgb)\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a','_pointerEvents','setOptions','frameTime','keys','DrawCommand','Cartesian2','WindLayer','preExecute','length','fadeOpacity','width','Sampler','textures','#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x0a\x0auniform\x20sampler2D\x20H;\x20//\x20particles\x20height\x20textures\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0auniform\x20vec2\x20viewerLonRange;\x0auniform\x20vec2\x20viewerLatRange;\x0a\x0aconst\x20float\x20randomCoefficient\x20=\x200.1f;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0aconst\x20float\x20dropRate\x20=\x200.1f;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0aconst\x20float\x20dropRateBump\x20=\x200.1f;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0avec4\x20getTextureValue(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20vec4\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D);\x0a\x20\x20return\x20result;\x0a}\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898f,\x2078.233f,\x204375.85453f);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0f,\x201.0f);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0abool\x20particleNoSpeed(vec3\x20particle)\x20{\x0a\x20\x20vec4\x20speed\x20=\x20getTextureValue(particlesSpeed,\x20particle);\x0a\x20\x20return\x20speed.r\x20==\x200.0f\x20&&\x20speed.g\x20==\x200.0f;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0f);\x0a\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20float\x20height\x20=\x20getTextureValue(H,\x20vec3(randomLon,\x20randomLat,\x20lev)).r;\x0a\x0a\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20height);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20return\x20particle.y\x20<\x20viewerLatRange.x\x20||\x20particle.y\x20>\x20viewerLatRange.y\x20||\x20particle.x\x20<\x20viewerLonRange.x\x20||\x20particle.x\x20>\x20viewerLonRange.y;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20nextParticle\x20=\x20texture(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec4\x20nextSpeed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20float\x20speedNorm\x20=\x20nextSpeed.a;\x0a\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20speedNorm;\x0a\x0a\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20if(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(randomParticle,\x201.0f);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x0a}\x0a','commandList','fromCache','GeometryAttribute','depthTest','vdata','ZERO','alt','redraw','worker','#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20trailsColorTexture;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(trailsColorTexture,\x20textureCoordinate);\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20trailsColor;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a','levmin','type','xmax','positionWC','EventType','VertexArray','_tomap','ShaderProgram','postMessage','clearCommand','mouse_down','viewport','rgb(206,255,255)','scene','getRandomLatLng','levmax','_animateFrame','tlat','LINEAR','FLOAT','getSpeed','refreshTimer','container','speedRate','abs','LayerUtil','210aIOKFg','getUVByXY','getDirection','particlesSpeed','enabled','Draw','canvasResize','absolute','currentTrails','nextTrails','createRawRenderState','dimensions','_updateIng','_mountedHook','#ffffff','_canvasParticles','bind','vertexArray','hidden','_data','_onMouseUpEvent','defineProperty','floor','currentParticlesPosition','vSpeedRange','ymax','trails','reverseY','57272IjEBWy','isPointVisible','Cartesian3','fromDegrees','top','ClearCommand','postProcessingPosition','now','height','createFramebuffer','update','sqrt','framebuffers','random','__proto__','1682305cKpxXl','clientWidth','PixelFormat','WindUtil','latRange','outputTexture','push','mouseMove','segments','pixelFormat','show','TWO_PI','init','persists','pointer-events','segmentsDepth','windTextures','ComputeCommand','attributeLocations','createCommand','fromGeometry','2448867tyVJFs','particlesTextureSize','array','currentTrailsColor','add','drawingBufferHeight','pointerEvents','colorTable','drawingBufferWidth','_maxAge','rows','particlesComputing','owner','ymin','xmin','green','viewerParameters','STATIC_DRAW','mode','blending','particleHeight','unbindEvent','cols','getOptions','3017928IrasDj','forEach','commandToExecute','style','ComponentDatatype','arrayBufferView','remove','lev','Compute','Ellipsoid','age','rawRenderState','clearFramebuffers','fixedHeight','computeViewRectangle','globalCompositeOperation','off','execute','defined','destroy','dropRate','minimum','getColorTexture','shaderProgram','_createCanvas','addEventListener','particlesTextures','refreshParticles','CanvasWindLayer','moveTo','_onMouseDownEvent','interval','position','createTexture','_colorRamp','removeEventListener','BaseLayer','isInExtent','windField','_onMap_preRenderEvent','geometry','Rectangle','grid','DISABLE_GL_POSITION_LOG_DEPTH','ShaderSource','commandType','_calc_speedRate','createComputingPrimitives','reverse','destroyObject','layer','lon','max','lineTo','_speedRate','umax','mouseHidden','autoClear'];_0x1076=function(){return _0xa7278c;};return _0x1076();}var CalculateSpeedShader='#version\x20300\x20es\x0a\x0a//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0auniform\x20sampler2D\x20W;\x20//\x20upward\x20wind\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0auniform\x20float\x20speedScaleFactor;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20//\x20map\x20the\x20z-axis\x20value\x20to\x20the\x20nearest\x20bit\x20plane\x20to\x20ensure\x20that\x20the\x20result\x20is\x20an\x20integer\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205,\x207,\x208,\x209],\x20width\x20=\x202,\x20height\x20=\x202,\x20level\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x206\x207\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x202\x203\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWindComponent(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20float\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D).r;\x0a\x20\x20return\x20result;\x0a}\x0a\x0afloat\x20interpolateTexture(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20float\x20lon0\x20=\x20floor(lon\x20/\x20interval.x)\x20*\x20interval.x;\x0a\x20\x20float\x20lon1\x20=\x20lon0\x20+\x201.0f\x20*\x20interval.x;\x0a\x20\x20float\x20lat0\x20=\x20floor(lat\x20/\x20interval.y)\x20*\x20interval.y;\x0a\x20\x20float\x20lat1\x20=\x20lat0\x20+\x201.0f\x20*\x20interval.y;\x0a\x0a\x20\x20float\x20lon0_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon1_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon0_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat1,\x20lev));\x0a\x20\x20float\x20lon1_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat1,\x20lev));\x0a\x0a\x20\x20float\x20lon_lat0\x20=\x20mix(lon0_lat0,\x20lon1_lat0,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat1\x20=\x20mix(lon0_lat1,\x20lon1_lat1,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat\x20=\x20mix(lon_lat0,\x20lon_lat1,\x20lat\x20-\x20lat0);\x0a\x20\x20return\x20lon_lat;\x0a}\x0a\x0avec3\x20linearInterpolation(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bilinear_interpolation\x0a\x20\x20float\x20u\x20=\x20interpolateTexture(U,\x20lonLatLev);\x0a\x20\x20float\x20v\x20=\x20interpolateTexture(V,\x20lonLatLev);\x0a\x20\x20float\x20w\x20=\x20interpolateTexture(W,\x20lonLatLev);\x0a\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20float\x20term1\x20=\x20111132.92f;\x0a\x20\x20float\x20term2\x20=\x20559.82f\x20*\x20cos(2.0f\x20*\x20latitude);\x0a\x20\x20float\x20term3\x20=\x201.175f\x20*\x20cos(4.0f\x20*\x20latitude);\x0a\x20\x20float\x20term4\x20=\x200.0023f\x20*\x20cos(6.0f\x20*\x20latitude);\x0a\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20float\x20term5\x20=\x20111412.84f\x20*\x20cos(latitude);\x0a\x20\x20float\x20term6\x20=\x2093.5f\x20*\x20cos(3.0f\x20*\x20latitude);\x0a\x20\x20float\x20term7\x20=\x200.118f\x20*\x20cos(5.0f\x20*\x20latitude);\x0a\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avec3\x20convertSpeedUnitToLonLat(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20float\x20w\x20=\x20speed.z;\x0a\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20return\x20windVectorInLonLatLev;\x0a}\x0a\x0avec3\x20calculateSpeedByRungeKutta2(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods#Second-order_methods_with_two_stages\x20for\x20detail\x0a\x20\x20const\x20float\x20h\x20=\x200.5f;\x0a\x0a\x20\x20vec3\x20y_n\x20=\x20lonLatLev;\x0a\x20\x20vec3\x20f_n\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20midpoint\x20=\x20y_n\x20+\x200.5f\x20*\x20h\x20*\x20convertSpeedUnitToLonLat(y_n,\x20f_n)\x20*\x20speedScaleFactor;\x0a\x20\x20vec3\x20speed\x20=\x20h\x20*\x20linearInterpolation(midpoint)\x20*\x20speedScaleFactor;\x0a\x0a\x20\x20return\x20speed;\x0a}\x0a\x0avec2\x20getRange(vec2\x20range)\x20{\x0a\x20\x20float\x20x1\x20=\x200.0f\x20-\x20range.x;\x0a\x20\x20float\x20x2\x20=\x20range.y\x20-\x200.0f;\x0a\x20\x20if(x1\x20<\x200.0f\x20||\x20x2\x20<\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x20vec2(abs(x1),\x20abs(x2));\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20return\x20vec2(0.0f,\x20abs(max(x1,\x20x2)));\x0a\x20\x20}\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20vec2\x20uRange\x20=\x20getRange(uSpeedRange);\x0a\x20\x20vec2\x20vRange\x20=\x20getRange(vSpeedRange);\x0a\x20\x20vec2\x20wRange\x20=\x20getRange(wSpeedRange);\x0a\x20\x20if(length(speed.xyz)\x20==\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x200.0f;\x0a\x20\x20}\x0a\x0a\x20\x20percent.x\x20=\x20(abs(speed.x)\x20-\x20uRange.x)\x20/\x20(uRange.y\x20-\x20uRange.x);\x0a\x20\x20percent.y\x20=\x20(abs(speed.y)\x20-\x20vRange.x)\x20/\x20(vRange.y\x20-\x20vRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(abs(speed.z)\x20-\x20wRange.x)\x20/\x20(wRange.y\x20-\x20wRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speedOrigin\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20speed\x20=\x20calculateSpeedByRungeKutta2(lonLatLev);\x0a\x20\x20vec3\x20speedInLonLat\x20=\x20convertSpeedUnitToLonLat(lonLatLev,\x20speed);\x0a\x0a\x20\x20vec4\x20particleSpeed\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speed\x20/\x20speedScaleFactor));\x0a\x20\x20\x20\x20//\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20fragColor\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speedOrigin));\x0a}\x0a',PostProcessingPositionShader=_0x276d6c(0x212,0x243),UpdatePositionShader=_0x276d6c(0x204,0x1fc);const Cesium$3=mars3d__namespace['Cesium'];function _0x2bb5(_0x150704,_0x1a2b29){const _0x107669=_0x1076();return _0x2bb5=function(_0x2bb536,_0x212f2c){_0x2bb536=_0x2bb536-0x7f;let _0x2e317c=_0x107669[_0x2bb536];return _0x2e317c;},_0x2bb5(_0x150704,_0x1a2b29);}class ParticlesComputing{constructor(_0x4396c9,_0x5202ae,_0x40c7d4,_0x3ec267){function _0x213cca(_0x5de072,_0xcec718){return _0x4bed4d(_0x5de072,_0xcec718- -0x1b7);}this['data']=_0x5202ae,this['createWindTextures'](_0x4396c9,_0x5202ae),this['createParticlesTextures'](_0x4396c9,_0x40c7d4,_0x3ec267),this[_0x213cca(0x242,0x1ca)](_0x5202ae,_0x40c7d4,_0x3ec267);}['createWindTextures'](_0xcd1545,_0x5863ed){var _0x19ae2f;const _0x4e6920={'context':_0xcd1545,'width':_0x5863ed[_0x5ce8e8(0x240,0x2d4)]['lon'],'height':_0x5863ed['dimensions']['lat']*(_0x5863ed[_0x26a282(-0x24f,-0x22b)]['lev']||0x1),'pixelFormat':Cesium$3['PixelFormat']['RED'],'pixelDatatype':Cesium$3[_0x26a282(-0x299,-0x31f)][_0x26a282(-0x261,-0x206)],'flipY':![],'sampler':new Cesium$3['Sampler']({'minificationFilter':Cesium$3['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium$3['TextureMagnificationFilter']['NEAREST']})};function _0x5ce8e8(_0x257f15,_0x422852){return _0x276d6c(_0x257f15- -0x2,_0x422852);}function _0x26a282(_0x957d5e,_0x4a4d58){return _0x276d6c(_0x957d5e- -0x491,_0x4a4d58);}this['windTextures']={'U':Util['createTexture'](_0x4e6920,_0x5863ed['U']['array']),'V':Util[_0x5ce8e8(0x17f,0x1a5)](_0x4e6920,_0x5863ed['V']['array']),'W':Util['createTexture'](_0x4e6920,((_0x19ae2f=_0x5863ed['W'])===null||_0x19ae2f===void 0x0?void 0x0:_0x19ae2f[_0x26a282(-0x218,-0x1b4)])??_0x5863ed['U']['array']),'H':Util[_0x26a282(-0x310,-0x323)](_0x4e6920,_0x5863ed['H'][_0x26a282(-0x218,-0x26e)])};}['createParticlesTextures'](_0x3c5678,_0x2dbef0,_0x346104){const _0x4ac63a={'context':_0x3c5678,'width':_0x2dbef0['particlesTextureSize'],'height':_0x2dbef0['particlesTextureSize'],'pixelFormat':Cesium$3[_0x5176e8(0x458,0x41a)][_0x1e6fde(0x1b9,0x141)],'pixelDatatype':Cesium$3['PixelDatatype']['FLOAT'],'flipY':![],'sampler':new Cesium$3['Sampler']({'minificationFilter':Cesium$3['TextureMinificationFilter'][_0x1e6fde(0xda,0x148)],'magnificationFilter':Cesium$3[_0x1e6fde(0x1d2,0x161)]['NEAREST']})},_0x43fa22=this['randomizeParticles'](_0x2dbef0['maxParticles'],_0x346104);function _0x1e6fde(_0x36a828,_0x41d872){return _0x276d6c(_0x41d872- -0x70,_0x36a828);}function _0x5176e8(_0x7ce982,_0xc2e49c){return _0x4bed4d(_0x7ce982,_0xc2e49c- -0x3c);}const _0x4b116f=new Float32Array(0x4*_0x2dbef0[_0x5176e8(0x30e,0x36a)])[_0x5176e8(0x363,0x37d)](0x0);this['particlesTextures']={'previousParticlesPosition':Util['createTexture'](_0x4ac63a,_0x43fa22),'currentParticlesPosition':Util['createTexture'](_0x4ac63a,_0x43fa22),'nextParticlesPosition':Util[_0x5176e8(0x3ca,0x337)](_0x4ac63a,_0x43fa22),'postProcessingPosition':Util[_0x5176e8(0x334,0x337)](_0x4ac63a,_0x43fa22),'particlesSpeed':Util[_0x5176e8(0x381,0x337)](_0x4ac63a,_0x4b116f)};}['randomizeParticles'](_0x5d31f2,_0x982376){const _0x55adbf=new Float32Array(0x4*_0x5d31f2);function _0x26d1ea(_0x4e7bd9,_0x4a2b21){return _0x276d6c(_0x4e7bd9-0x1ec,_0x4a2b21);}for(let _0x35e1db=0x0;_0x35e1db<_0x5d31f2;_0x35e1db++){_0x55adbf[0x4*_0x35e1db]=Cesium$3[_0x78b267(-0x1ad,-0x205)]['randomBetween'](_0x982376['lonRange']['x'],_0x982376['lonRange']['y']),_0x55adbf[0x4*_0x35e1db+0x1]=Cesium$3['Math']['randomBetween'](_0x982376['latRange']['x'],_0x982376['latRange']['y']),_0x55adbf[0x4*_0x35e1db+0x2]=Cesium$3['Math'][_0x26d1ea(0x3e0,0x417)](this['data'][_0x26d1ea(0x482,0x402)]['min'],this[_0x78b267(-0x1b8,-0x1d4)]['lev'][_0x26d1ea(0x380,0x2ee)]),_0x55adbf[0x4*_0x35e1db+0x3]=0x0;}function _0x78b267(_0x1e4918,_0x54b530){return _0x276d6c(_0x1e4918- -0x399,_0x54b530);}return _0x55adbf;}['getValidRange'](_0x1525fb){const _0x3336fe=[_0x1525fb['dimensions'][_0x49d4c3(0x2f0,0x2f0)],_0x1525fb[_0x49a86e(0x37,0x47)][_0x49a86e(0x10,-0x1d)],_0x1525fb['dimensions']['lev']],_0xb213a0=[_0x1525fb['lon']['min'],_0x1525fb['lat'][_0x49a86e(-0x90,-0x4d)],_0x1525fb['lev']['min']];function _0x49a86e(_0x15531a,_0x15b11d){return _0x4bed4d(_0x15531a,_0x15b11d- -0x3ed);}const _0x2ba8c7=[_0x1525fb['lon'][_0x49d4c3(0x361,0x2f1)],_0x1525fb['lat'][_0x49a86e(0x14,-0x67)],_0x1525fb[_0x49d4c3(0x42b,0x3f3)][_0x49a86e(-0x25,-0x67)]];function _0x49d4c3(_0x245bdc,_0x48e00e){return _0x276d6c(_0x48e00e-0x15d,_0x245bdc);}const _0x2b90e7=[(_0x2ba8c7[0x0]-_0xb213a0[0x0])/(_0x3336fe[0x0]-0x1),(_0x2ba8c7[0x1]-_0xb213a0[0x1])/(_0x3336fe[0x1]-0x1),_0x3336fe[0x2]>0x1?(_0x2ba8c7[0x2]-_0xb213a0[0x2])/(_0x3336fe[0x2]-0x1):0x1],_0x3326d8=Math[_0x49a86e(-0x43,0x52)](Math[_0x49d4c3(0x3fe,0x3bd)]()*_0x1525fb['U']['array']['length']),_0x24e84f=_0x3326d8%(_0x3336fe[0x0]*_0x3336fe[0x1]),_0x51dee2=Math['floor'](_0x24e84f/_0x3336fe[0x0]),_0x33380e=_0x24e84f%_0x3336fe[0x0],_0x54bc8b=Cesium$3['Math']['randomBetween'](_0xb213a0[0x0]+_0x33380e*_0x2b90e7[0x0],_0xb213a0[0x0]+(_0x33380e+0x1)*_0x2b90e7[0x0]),_0x35cb48=Cesium$3[_0x49d4c3(0x3a6,0x349)][_0x49a86e(-0x81,-0x7)](_0xb213a0[0x1]+(_0x51dee2-0x1)*_0x2b90e7[0x1],_0xb213a0[0x1]+_0x51dee2*_0x2b90e7[0x1]),_0x50c39e=_0x1525fb['H'][_0x49a86e(0x46,0x7e)][_0x3326d8]||0x0;return[_0x54bc8b,_0x35cb48,_0x50c39e];}[_0x276d6c(0x1c5,0x1eb)](){function _0x1f5671(_0x1307f5,_0x1bfc04){return _0x4bed4d(_0x1307f5,_0x1bfc04- -0x3ea);}function _0x5326cd(_0x52ee1f,_0xe06477){return _0x4bed4d(_0x52ee1f,_0xe06477- -0xef);}Object[_0x5326cd(0x366,0x30b)](this['particlesTextures'])[_0x1f5671(0xfb,0x98)](_0x5c0fa0=>{function _0x569fe8(_0x2585e9,_0x26d786){return _0x1f5671(_0x2585e9,_0x26d786-0x3ef);}this[_0x569fe8(0x358,0x371)][_0x5c0fa0]['destroy']();});}[_0x276d6c(0x18f,0x209)](_0x21374d,_0x4f4af7,_0xce6a2d){const _0x24a2f5=new Cesium$3[(_0x46e06e(0x304,0x32b))](_0x21374d['dimensions']['lon'],_0x21374d['dimensions'][_0x4f906e(-0x22a,-0x262)],_0x21374d['dimensions']['lev']),_0x6edd30=new Cesium$3[(_0x4f906e(-0x219,-0x1eb))](_0x21374d['lon']['min'],_0x21374d['lat']['min'],_0x21374d['lev'][_0x4f906e(-0x2df,-0x292)]),_0xdef2ae=new Cesium$3[(_0x4f906e(-0x1b1,-0x1eb))](_0x21374d['lon']['max'],_0x21374d[_0x4f906e(-0x215,-0x262)]['max'],_0x21374d['lev']['max']),_0x6e2fc6=new Cesium$3['Cartesian3']((_0xdef2ae['x']-_0x6edd30['x'])/(_0x24a2f5['x']-0x1),(_0xdef2ae['y']-_0x6edd30['y'])/(_0x24a2f5['y']-0x1),_0x24a2f5['z']>0x1?(_0xdef2ae['z']-_0x6edd30['z'])/(_0x24a2f5['z']-0x1):0x1);function _0x46e06e(_0x54c776,_0x1cfa7e){return _0x4bed4d(_0x54c776,_0x1cfa7e- -0x11c);}const _0x19f2b3=new Cesium$3[(_0x4f906e(-0x2b7,-0x236))](_0x21374d[_0x4f906e(-0x26d,-0x2ad)][_0x46e06e(0x2dd,0x284)],_0x21374d['lon']['max']),_0x374adc=new Cesium$3['Cartesian2'](_0x21374d['lat']['min'],_0x21374d[_0x4f906e(-0x22e,-0x262)][_0x4f906e(-0x222,-0x2ac)]),_0x50dc64=new Cesium$3['Cartesian2'](_0x21374d['U']['min'],_0x21374d['U']['max']),_0x509aa3=new Cesium$3[(_0x4f906e(-0x20d,-0x236))](_0x21374d['V']['min'],_0x21374d['V']['max']),_0x484675=new Cesium$3[(_0x4f906e(-0x220,-0x236))](_0x21374d['W']['min'],_0x21374d['W'][_0x4f906e(-0x2d5,-0x2ac)]),_0x2c0997=this,_0x34640a={};_0x34640a['U']=function(){function _0x139e28(_0x41e9ba,_0x4a478b){return _0x4f906e(_0x4a478b,_0x41e9ba-0x263);}return _0x2c0997[_0x139e28(0x95,0x73)]['U'];},_0x34640a['V']=function(){return _0x2c0997['windTextures']['V'];},_0x34640a['W']=function(){return _0x2c0997['windTextures']['W'];},_0x34640a['currentParticlesPosition']=function(){return _0x2c0997['particlesTextures']['currentParticlesPosition'];},_0x34640a['dimension']=function(){return _0x24a2f5;},_0x34640a[_0x46e06e(0x296,0x24b)]=function(){return _0x6edd30;};function _0x4f906e(_0x2ce91e,_0x5afc54){return _0x276d6c(_0x5afc54- -0x440,_0x2ce91e);}_0x34640a['maximum']=function(){return _0xdef2ae;},_0x34640a[_0x4f906e(-0x2ed,-0x2c1)]=function(){return _0x6e2fc6;},_0x34640a['uSpeedRange']=function(){return _0x50dc64;},_0x34640a[_0x4f906e(-0x260,-0x1f1)]=function(){return _0x509aa3;},_0x34640a['wSpeedRange']=function(){return _0x484675;},_0x34640a['speedScaleFactor']=function(){function _0x480da0(_0x38ce3b,_0x277463){return _0x4f906e(_0x38ce3b,_0x277463-0xb7);}return _0xce6a2d['pixelSize']*_0x4f4af7[_0x480da0(-0x234,-0x1ec)];};const _0x2f771f={};_0x2f771f[_0x46e06e(0x223,0x2b8)]=[CalculateSpeedShader];const _0x20814b={};_0x20814b[_0x4f906e(-0x28f,-0x25e)]=[UpdatePositionShader];const _0x3486d5={};_0x3486d5[_0x46e06e(0x2db,0x2b8)]=[PostProcessingPositionShader],this['primitives']={'calculateSpeed':new CustomPrimitive({'commandType':_0x4f906e(-0x1df,-0x1a9),'uniformMap':_0x34640a,'fragmentShaderSource':new Cesium$3['ShaderSource'](_0x2f771f),'outputTexture':this[_0x46e06e(0x1fd,0x250)]['particlesSpeed'],'preExecute':function(){function _0x31579d(_0x4af0c0,_0x40fdab){return _0x46e06e(_0x4af0c0,_0x40fdab-0x1ff);}function _0x489212(_0x569b0f,_0x3ff126){return _0x46e06e(_0x569b0f,_0x3ff126-0x16a);}if(_0x4f4af7!==undefined&&_0x4f4af7['dynamic']){const _0x2d283d=_0x2c0997['particlesTextures']['previousParticlesPosition'];_0x2c0997['particlesTextures']['previousParticlesPosition']=_0x2c0997['particlesTextures'][_0x31579d(0x4de,0x523)],_0x2c0997['particlesTextures'][_0x31579d(0x4c3,0x523)]=_0x2c0997['particlesTextures'][_0x31579d(0x544,0x52e)],_0x2c0997['particlesTextures'][_0x31579d(0x4e3,0x52e)]=_0x2d283d;}_0x2c0997[_0x31579d(0x4d9,0x4c8)]['calculateSpeed']['commandToExecute']['outputTexture']=_0x2c0997['particlesTextures'][_0x31579d(0x593,0x50f)];}}),'updatePosition':new CustomPrimitive({'commandType':_0x46e06e(0x366,0x36d),'uniformMap':{'currentParticlesPosition':function(){function _0x35b3c0(_0x4f5a9a,_0x19ec5b){return _0x4f906e(_0x19ec5b,_0x4f5a9a-0x6ef);}function _0x54e63c(_0x29139e,_0x26a6a1){return _0x4f906e(_0x29139e,_0x26a6a1-0x4dd);}return _0x2c0997[_0x54e63c(0x24b,0x217)][_0x35b3c0(0x4fd,0x4a7)];},'particlesSpeed':function(){return _0x2c0997['particlesTextures']['particlesSpeed'];}},'fragmentShaderSource':new Cesium$3['ShaderSource'](_0x20814b),'outputTexture':this[_0x4f906e(-0x244,-0x2c6)][_0x4f906e(-0x2aa,-0x29e)],'preExecute':function(){function _0x97d5d4(_0xd7835f,_0x2d6466){return _0x4f906e(_0xd7835f,_0x2d6466-0x51);}function _0x4de4f9(_0x206288,_0x283b1d){return _0x4f906e(_0x206288,_0x283b1d-0x2ba);}_0x2c0997[_0x97d5d4(-0x260,-0x1fc)][_0x4de4f9(0x23,0x3a)]['commandToExecute'][_0x4de4f9(0x156,0xe1)]=_0x2c0997['particlesTextures']['nextParticlesPosition'];}}),'postProcessingPosition':new CustomPrimitive({'commandType':'Compute','uniformMap':{'nextParticlesPosition':function(){function _0x32d3e2(_0xb0528c,_0xf27d12){return _0x46e06e(_0xf27d12,_0xb0528c-0x21);}return _0x2c0997[_0x32d3e2(0x271,0x2ca)]['nextParticlesPosition'];},'particlesSpeed':function(){function _0x2be58e(_0x5687b8,_0x39f8e9){return _0x46e06e(_0x5687b8,_0x39f8e9- -0x14a);}return _0x2c0997[_0x2be58e(0xfb,0x106)]['particlesSpeed'];},'viewerLonRange':function(){function _0x38e32f(_0x166246,_0x51b3b8){return _0x46e06e(_0x166246,_0x51b3b8- -0x574);}return _0xce6a2d[_0x38e32f(-0x36f,-0x2ef)];},'viewerLatRange':function(){return _0xce6a2d['latRange'];},'lonRange':function(){return _0x19f2b3;},'latRange':function(){return _0x374adc;},'dimension':function(){return _0x24a2f5;},'minimum':function(){return _0x6edd30;},'maximum':function(){return _0xdef2ae;},'interval':function(){return _0x6e2fc6;},'H':function(){function _0xcf1b57(_0x1f7968,_0x15782f){return _0x4f906e(_0x15782f,_0x1f7968-0xe2);}return _0x2c0997[_0xcf1b57(-0xec,-0x12c)]['H'];},'randomCoefficient':function(){const _0x59a271=Math['random']();return _0x59a271;},'dropRate':function(){return _0x4f4af7['dropRate'];},'dropRateBump':function(){return _0x4f4af7['dropRateBump'];}},'fragmentShaderSource':new Cesium$3['ShaderSource'](_0x3486d5),'outputTexture':this[_0x4f906e(-0x34d,-0x2c6)]['postProcessingPosition'],'preExecute':function(){function _0x4aa101(_0x2c8a95,_0x38dd7c){return _0x4f906e(_0x2c8a95,_0x38dd7c-0x642);}function _0x4f4459(_0x10453c,_0xbb9beb){return _0x46e06e(_0xbb9beb,_0x10453c- -0x50f);}_0x2c0997[_0x4aa101(0x363,0x3f5)][_0x4aa101(0x43a,0x45b)]['commandToExecute'][_0x4aa101(0x494,0x469)]=_0x2c0997['particlesTextures'][_0x4f4459(-0x1e0,-0x233)];}})};}}const Cesium$2=mars3d__namespace['Cesium'];class ParticleSystem{constructor(_0x49de10,_0x1a31bb,_0x121e8c,_0x178e9b){this[_0x1bb133(0x3fb,0x46f)]=_0x49de10;function _0x1bb133(_0x51d5ee,_0x2dd803){return _0x4bed4d(_0x51d5ee,_0x2dd803-0xab);}_0x1a31bb={..._0x1a31bb};function _0x31ca36(_0x4f9dc3,_0x12ebde){return _0x4bed4d(_0x4f9dc3,_0x12ebde- -0x109);}_0x1a31bb[_0x31ca36(0x28e,0x2c9)]&&_0x1a31bb[_0x1bb133(0x545,0x4b4)]&&(_0x1a31bb['dimensions']={},_0x1a31bb['dimensions'][_0x1bb133(0x3db,0x430)]=_0x1a31bb['cols'],_0x1a31bb[_0x1bb133(0x458,0x4df)][_0x1bb133(0x4c0,0x47b)]=_0x1a31bb[_0x1bb133(0x52d,0x51e)],_0x1a31bb[_0x1bb133(0x4bd,0x4df)][_0x1bb133(0x5b7,0x533)]=_0x1a31bb['lev']||0x1,_0x1a31bb['lon']={},_0x1a31bb[_0x31ca36(0x2fb,0x27c)]['min']=_0x1a31bb['xmin'],_0x1a31bb[_0x31ca36(0x2ac,0x27c)][_0x31ca36(0x276,0x27d)]=_0x1a31bb['xmax'],_0x1a31bb['lat']={},_0x1a31bb['lat']['min']=_0x1a31bb['ymin'],_0x1a31bb['lat']['max']=_0x1a31bb['ymax'],_0x1a31bb['lev']={},_0x1a31bb['lev']['min']=_0x1a31bb[_0x1bb133(0x45b,0x4ba)]??0x1,_0x1a31bb[_0x31ca36(0x322,0x37f)][_0x1bb133(0x47a,0x431)]=_0x1a31bb[_0x1bb133(0x4e5,0x4c9)]??0x1,_0x1a31bb['U']={},_0x1a31bb['U']['array']=new Float32Array(_0x1a31bb['udata']),_0x1a31bb['U']['min']=_0x1a31bb[_0x1bb133(0x4e2,0x466)]??Math['min'](..._0x1a31bb['udata']),_0x1a31bb['U'][_0x31ca36(0x25b,0x27d)]=_0x1a31bb[_0x1bb133(0x497,0x434)]??Math['max'](..._0x1a31bb[_0x1bb133(0x4b9,0x47d)]),_0x1a31bb['V']={},_0x1a31bb['V']['array']=new Float32Array(_0x1a31bb['vdata']),_0x1a31bb['V'][_0x1bb133(0x482,0x44b)]=_0x1a31bb['vmin']??Math['min'](..._0x1a31bb[_0x31ca36(0x38d,0x300)]),_0x1a31bb['V']['max']=_0x1a31bb['vmax']??Math['max'](..._0x1a31bb['vdata']));!_0x1a31bb['W']&&(_0x1a31bb['W']={'array':new Float32Array(_0x1a31bb['U']['array']['length']),'min':0x0,'max':0x0});if(!_0x1a31bb['H']){var _0x4c42ca;_0x1a31bb['H']={'array':new Float32Array(_0x1a31bb['U'][_0x31ca36(0x322,0x362)][_0x1bb133(0x49b,0x4aa)]),'min':0x0,'max':0x0};if((_0x4c42ca=_0x1a31bb['lev'])!==null&&_0x4c42ca!==void 0x0&&_0x4c42ca['array']){const {lon:_0x4d5fe5,lat:_0x5b078c,lev:_0xfbbf1d}=_0x1a31bb['dimensions'];for(let _0xf4984=0x0;_0xf4984<_0xfbbf1d;_0xf4984++){for(let _0x401dda=0x0;_0x401dda<_0x5b078c;_0x401dda++){for(let _0x24e9aa=0x0;_0x24e9aa<_0x4d5fe5;_0x24e9aa++){const _0x4eba15=_0xf4984*(_0x4d5fe5*_0x5b078c)+_0x401dda*_0x4d5fe5+_0x24e9aa;_0x1a31bb['H']['array'][_0x4eba15]=_0x1a31bb['lev']['array'][_0xf4984];}}}_0x1a31bb['H']['min']=Math['min'](..._0x1a31bb['lev']['array']),_0x1a31bb['H']['max']=Math[_0x31ca36(0x2d5,0x27d)](..._0x1a31bb['lev']['array']);}}this['data']=_0x1a31bb,this['options']=_0x121e8c,this[_0x1bb133(0x529,0x524)]=_0x178e9b,this[_0x1bb133(0x577,0x51f)]=new ParticlesComputing(this['context'],this[_0x1bb133(0x4a7,0x47e)],this['options'],this[_0x31ca36(0x2ff,0x370)]),this[_0x31ca36(0x283,0x2c0)]=new ParticlesRendering(this['context'],this['data'],this['options'],this['viewerParameters'],this['particlesComputing']);}[_0x276d6c(0x23d,0x2b9)](_0x82269){this['particlesComputing'][_0x3f89ed(-0x62,-0x2a)]();function _0xb7734c(_0x47adf1,_0x3b4e0b){return _0x276d6c(_0x47adf1-0x37,_0x3b4e0b);}Object['keys'](this[_0xb7734c(0x2b9,0x2c8)][_0x3f89ed(0x4b,0x50)])['forEach'](_0x54ff15=>{function _0x1d35a7(_0x40297f,_0x48a7f5){return _0xb7734c(_0x48a7f5- -0x3a2,_0x40297f);}this['particlesComputing']['windTextures'][_0x54ff15][_0x1d35a7(-0x1b4,-0x1f8)]();}),this['particlesRendering'][_0x3f89ed(-0x16,0x17)]['colorTable']['destroy'](),Object[_0x3f89ed(-0x1f,-0x53)](this[_0x3f89ed(-0x50,-0x44)]['framebuffers'])['forEach'](_0x405f57=>{this['particlesRendering']['framebuffers'][_0x405f57]['destroy']();}),this[_0x3f89ed(-0x55,-0xe6)]=_0x82269,this['particlesComputing']=new ParticlesComputing(this[_0xb7734c(0x209,0x188)],this[_0x3f89ed(-0x46,0x43)],this['options'],this[_0x3f89ed(0x60,0x2c)]);function _0x3f89ed(_0x2860ff,_0x16ded4){return _0x276d6c(_0x2860ff- -0x227,_0x16ded4);}this['particlesRendering']=new ParticlesRendering(this[_0x3f89ed(-0x55,-0xa6)],this[_0xb7734c(0x218,0x296)],this['options'],this['viewerParameters'],this['particlesComputing']);}[_0x4bed4d(0x3b1,0x35e)](){function _0x556da7(_0x4aff63,_0x217501){return _0x4bed4d(_0x217501,_0x4aff63- -0x5d9);}function _0x2af287(_0x28b162,_0x4492df){return _0x276d6c(_0x28b162- -0x2da,_0x4492df);}const _0x59c287=new Cesium$2[(_0x2af287(-0x82,-0x43))]({'color':new Cesium$2['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':undefined,'pass':Cesium$2['Pass'][_0x2af287(-0x116,-0x9f)]});Object['keys'](this['particlesRendering']['framebuffers'])[_0x2af287(-0x4a,-0xca)](_0x4e5a7=>{function _0x2f8278(_0x357c0b,_0x151af0){return _0x556da7(_0x357c0b-0x678,_0x151af0);}function _0x353dc4(_0x4613d7,_0x59b7bf){return _0x556da7(_0x4613d7-0x460,_0x59b7bf);}_0x59c287[_0x353dc4(0x264,0x2eb)]=this[_0x353dc4(0x250,0x216)]['framebuffers'][_0x4e5a7],_0x59c287[_0x2f8278(0x402,0x47e)](this[_0x2f8278(0x463,0x4c6)]);});}['refreshParticles'](_0x16cca9,_0x23bdd2=!![]){function _0x2ffc82(_0x21f49f,_0x44d79e){return _0x4bed4d(_0x21f49f,_0x44d79e-0xf7);}_0x23bdd2&&(this['clearFramebuffers'](),this['particlesComputing'][_0x3885cb(0x3a0,0x30e)](),this[_0x3885cb(0x45d,0x4b4)]['createParticlesTextures'](this['context'],this[_0x2ffc82(0x48c,0x483)],this['viewerParameters']));function _0x3885cb(_0x659e88,_0x483ea6){return _0x276d6c(_0x659e88-0x1db,_0x483ea6);}if(_0x16cca9){var _0x556e6a;const _0x15d9c1=this[_0x2ffc82(0x428,0x4c0)][_0x2ffc82(0x4ca,0x4b6)](this['options']);this[_0x3885cb(0x3b2,0x3d1)][_0x2ffc82(0x49a,0x4dc)]['segments']['geometry']=_0x15d9c1;const _0x2eb688=Cesium$2['VertexArray'][_0x3885cb(0x451,0x3c6)]({'context':this['context'],'geometry':_0x15d9c1,'attributeLocations':this['particlesRendering']['primitives'][_0x3885cb(0x445,0x3be)][_0x2ffc82(0x519,0x55d)],'bufferUsage':Cesium$2['BufferUsage']['STATIC_DRAW']});(_0x556e6a=this[_0x2ffc82(0x44b,0x4c0)][_0x3885cb(0x3ce,0x41e)])!==null&&_0x556e6a!==void 0x0&&(_0x556e6a=_0x556e6a['segments'])!==null&&_0x556e6a!==void 0x0&&_0x556e6a['commandToExecute']&&(this['particlesRendering'][_0x2ffc82(0x519,0x4dc)]['segments']['commandToExecute'][_0x2ffc82(0x581,0x531)]=_0x2eb688);}}['setOptions'](_0x469ada){let _0x22b1b1=![];this['options']['maxParticles']!==_0x469ada[_0x44c025(0x3ed,0x39e)]&&(_0x22b1b1=!![]);Object[_0x44c025(0x441,0x4ac)](_0x469ada)['forEach'](_0xca1595=>{function _0x571da4(_0xb3dbcb,_0x3a2707){return _0x50fd1e(_0x3a2707,_0xb3dbcb-0x63d);}this[_0x571da4(0x36a,0x373)][_0xca1595]=_0x469ada[_0xca1595];});function _0x44c025(_0x4a7199,_0x3be74d){return _0x276d6c(_0x4a7199-0x239,_0x3be74d);}function _0x50fd1e(_0x526f4a,_0x310018){return _0x276d6c(_0x310018- -0x46d,_0x526f4a);}this['refreshParticles'](_0x22b1b1,_0x469ada[_0x50fd1e(-0x203,-0x298)]);}['applyViewerParameters'](_0xce00d1){function _0x49fbe0(_0x3bd3b5,_0xce712d){return _0x4bed4d(_0x3bd3b5,_0xce712d- -0x34d);}Object['keys'](_0xce00d1)['forEach'](_0x1c2991=>{function _0x3b681d(_0x1c29e8,_0xaba42c){return _0x2bb5(_0xaba42c- -0x208,_0x1c29e8);}this[_0x3b681d(-0x47,-0x6c)][_0x1c2991]=_0xce00d1[_0x1c2991];});function _0x4980f5(_0x4459e2,_0x444d09){return _0x4bed4d(_0x4459e2,_0x444d09-0x52);}this[_0x4980f5(0x3f7,0x3bf)](![]),!this[_0x49fbe0(-0x2d,0x3f)]['dynamic']&&(this[_0x49fbe0(0x17,0x3f)][_0x49fbe0(-0x10,0x7a)]=!![],this['setOptions'](this[_0x49fbe0(0x5,0x3f)]),setTimeout(()=>{this['options']['dynamic']=![],this['setOptions'](this['options']);},0x1f4));}[_0x276d6c(0x173,0x207)](){function _0x376052(_0x5659eb,_0x6ec3aa){return _0x4bed4d(_0x6ec3aa,_0x5659eb- -0x454);}function _0x4b41d9(_0x18c6af,_0x4003e5){return _0x276d6c(_0x4003e5-0x143,_0x18c6af);}clearTimeout(this['canrefresh']),this[_0x376052(0x20,-0x4e)]['destroyParticlesTextures'](),Object['keys'](this[_0x4b41d9(0x45b,0x3c5)][_0x376052(0x10,-0x3d)])['forEach'](_0x2d33fa=>{function _0x2a77d2(_0x332c11,_0x1b7032){return _0x376052(_0x1b7032-0x1fe,_0x332c11);}function _0x15f349(_0x4e8b97,_0x4ee14d){return _0x376052(_0x4e8b97-0x246,_0x4ee14d);}this[_0x15f349(0x266,0x1d8)]['windTextures'][_0x2d33fa][_0x15f349(0x157,0x1d8)]();}),this[_0x376052(-0x8b,-0x9e)]['textures']['colorTable'][_0x4b41d9(0x2ff,0x2b6)](),Object['keys'](this['particlesRendering'][_0x4b41d9(0x3c4,0x3a2)])['forEach'](_0x5bafe1=>{function _0x3264e7(_0x524546,_0xfd4e6a){return _0x4b41d9(_0x524546,_0xfd4e6a- -0x468);}function _0x447b0f(_0xbc38cd,_0x4b2752){return _0x376052(_0xbc38cd-0x406,_0x4b2752);}this[_0x447b0f(0x37b,0x3da)]['framebuffers'][_0x5bafe1][_0x447b0f(0x317,0x2a3)]();});for(const _0x14926d in this){delete this[_0x14926d];}}}const Cesium$1=mars3d__namespace['Cesium'],BaseLayer$1=mars3d__namespace['layer']['BaseLayer'],_0x5564d1={};_0x5564d1[_0x276d6c(0x1b0,0x121)]=0x1000,_0x5564d1['fixedHeight']=0x0,_0x5564d1[_0x276d6c(0x20e,0x225)]=0.996,_0x5564d1[_0x276d6c(0x174,0x108)]=0.003,_0x5564d1[_0x4bed4d(0x369,0x3d6)]=0.01,_0x5564d1[_0x4bed4d(0x360,0x38f)]=0.5,_0x5564d1[_0x4bed4d(0x375,0x3db)]=0x2,_0x5564d1[_0x4bed4d(0x365,0x3f3)]=[_0x276d6c(0x229,0x2a1)],_0x5564d1['dynamic']=!![];const DEF_OPTIONS=_0x5564d1;class WindLayer extends BaseLayer$1{constructor(_0x2f71f7={}){_0x2f71f7={...DEF_OPTIONS,..._0x2f71f7},super(_0x2f71f7),this['_setOptionsHook'](_0x2f71f7);}get[_0x4bed4d(0x3ce,0x384)](){return this['primitives'];}get[_0x276d6c(0x1e1,0x253)](){function _0x492c3f(_0x5951db,_0x3907f6){return _0x276d6c(_0x3907f6- -0x272,_0x5951db);}return this[_0x492c3f(0x40,-0x28)];}set['data'](_0x58c656){this['setData'](_0x58c656);}get['colors'](){function _0x329bd(_0x578a80,_0x5b840b){return _0x276d6c(_0x578a80- -0x2a,_0x5b840b);}return this[_0x329bd(0x170,0x18a)]['colors'];}set[_0x4bed4d(0x39b,0x3f3)](_0x31f674){this['options']['colors']=_0x31f674;if(this['particleSystem']){const _0x59ca67={};_0x59ca67[_0x56ad75(0x2af,0x315)]=_0x31f674,this['particleSystem']['setOptions'](_0x59ca67);}function _0x5862c8(_0x2ee068,_0x46735c){return _0x276d6c(_0x2ee068-0xf4,_0x46735c);}function _0x56ad75(_0x300190,_0x4f805d){return _0x276d6c(_0x4f805d-0x114,_0x300190);}this[_0x5862c8(0x2c7,0x26b)]();}[_0x276d6c(0x244,0x21d)](){}[_0x276d6c(0x1db,0x1f8)](){function _0x3ab3c0(_0x2fd7a1,_0x460d2b){return _0x4bed4d(_0x460d2b,_0x2fd7a1- -0x361);}this[_0x1c238a(0x36c,0x2d7)]=this[_0x3ab3c0(0x2f,0x51)]['scene'];function _0x1c238a(_0x11a2d9,_0x2883cb){return _0x4bed4d(_0x11a2d9,_0x2883cb- -0x145);}this['camera']=this['_map']['camera'],this[_0x3ab3c0(0x84,0xf4)]=new Cesium$1['PrimitiveCollection'](),this[_0x1c238a(0x2a8,0x24b)]['scene']['primitives'][_0x1c238a(0x397,0x328)](this[_0x3ab3c0(0x84,-0x12)]),this['viewerParameters']={'lonRange':new Cesium$1[(_0x1c238a(0x2c6,0x2b7))](),'latRange':new Cesium$1[(_0x3ab3c0(0x9b,0x7b))](),'pixelSize':0x0,'lonDisplayRange':new Cesium$1['Cartesian2'](),'latDisplayRange':new Cesium$1[(_0x3ab3c0(0x9b,0x16))]()},this['globeBoundingSphere']=new Cesium$1['BoundingSphere'](Cesium$1['Cartesian3'][_0x3ab3c0(0xa9,0x7f)],Cesium$1[_0x3ab3c0(0x129,0x10b)]['WGS84'][_0x3ab3c0(0x4e,0x56)]),this[_0x3ab3c0(0x5b,0x3d)](),window[_0x1c238a(0x241,0x226)](_0x1c238a(0x25e,0x280),this[_0x3ab3c0(0x64,0x31)]['bind'](this),![]),this['mouse_down']=![],this['mouse_move']=![],this['_map']['on'](mars3d__namespace['EventType']['wheel'],this[_0x3ab3c0(0x70,0xdd)],this),this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x1c238a(0x19c,0x22b)],this),this['_map']['on'](mars3d__namespace[_0x3ab3c0(0xb2,0x8b)]['mouseUp'],this['_onMouseUpEvent'],this),this[_0x1c238a(0x1e4,0x24b)]['on'](mars3d__namespace[_0x1c238a(0x279,0x2ce)]['mouseMove'],this['_onMouseMoveEvent'],this),this['_data']&&this['setData'](this[_0x1c238a(0x37f,0x2f7)]);}[_0x276d6c(0x1c6,0x147)](){window['removeEventListener']('resize',this['resize']),this['_map']['off'](mars3d__namespace['EventType']['preRender'],this[_0x45928a(0x236,0x1ec)],this);function _0x45928a(_0x2f9582,_0x4e4a97){return _0x276d6c(_0x2f9582-0xaf,_0x4e4a97);}this[_0x45928a(0x24d,0x21f)][_0x4cafa0(-0x13a,-0x1b0)](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this),this['_map'][_0x4cafa0(-0x13a,-0x10f)](mars3d__namespace['EventType']['mouseDown'],this['_onMouseDownEvent'],this),this[_0x45928a(0x24d,0x2de)]['off'](mars3d__namespace['EventType']['mouseUp'],this['_onMouseUpEvent'],this),this['_map']['off'](mars3d__namespace[_0x4cafa0(-0x89,-0xea)][_0x4cafa0(-0x41,-0xd6)],this['_onMouseMoveEvent'],this);function _0x4cafa0(_0x180924,_0x4db6b6){return _0x276d6c(_0x180924- -0x2aa,_0x4db6b6);}this['primitives']['removeAll'](),this['_map'][_0x45928a(0x2d9,0x31a)][_0x4cafa0(-0xb7,-0xcf)][_0x45928a(0x344,0x2ba)](this['primitives']);}['resize'](){function _0x594236(_0x529cb3,_0x3bd11f){return _0x4bed4d(_0x529cb3,_0x3bd11f- -0xbf);}if(!this['show']||!this['particleSystem'])return;this[_0x594236(0x2ca,0x326)][_0x594236(0x31a,0x39f)]=![];function _0x5b66ed(_0x3af69c,_0x112a9f){return _0x4bed4d(_0x3af69c,_0x112a9f- -0x1b1);}this['primitives']['removeAll'](),this['_map']['once'](mars3d__namespace['EventType'][_0x594236(0x26c,0x2fe)],this[_0x594236(0x284,0x2ba)],this);}['_onMap_preRenderEvent'](_0x3cf426){function _0x5dd43f(_0x5b2910,_0x170822){return _0x276d6c(_0x5b2910- -0x2a2,_0x170822);}this[_0x5dd43f(-0xc9,-0x107)][_0x5dd43f(-0x65,-0x75)](this[_0x5990ed(0x2b3,0x25e)]['context']);function _0x5990ed(_0x31ba5a,_0x4e8e15){return _0x276d6c(_0x4e8e15-0x34,_0x31ba5a);}this['addPrimitives'](),this[_0x5dd43f(-0xaf,-0x75)]['show']=!![];}['_onMapWhellEvent'](_0x136f7a){clearTimeout(this['refreshTimer']);function _0x286f2e(_0x2f6e65,_0x3a9ebd){return _0x4bed4d(_0x2f6e65,_0x3a9ebd- -0x167);}function _0x153ebf(_0x492228,_0x6da1e7){return _0x4bed4d(_0x492228,_0x6da1e7- -0x693);}if(!this[_0x286f2e(0x387,0x2f7)]||!this[_0x153ebf(-0x304,-0x2c8)])return;this['primitives']['show']=![],this['refreshTimer']=setTimeout(()=>{if(!this['show'])return;this['redraw']();},0xc8);}[_0x276d6c(0x17e,0x14f)](_0x18bb42){function _0x5f3c0a(_0xb6dd17,_0x194ab1){return _0x276d6c(_0xb6dd17- -0x411,_0x194ab1);}this[_0x5f3c0a(-0x1ea,-0x1c9)]=!![];}['_onMouseMoveEvent'](_0x3d8380){if(!this['show']||!this['particleSystem'])return;function _0x16ab3d(_0x2d7f55,_0x277ca7){return _0x276d6c(_0x2d7f55- -0x26d,_0x277ca7);}this['mouse_down']&&(this['primitives'][_0x16ab3d(-0x1,-0x5a)]=![],this['mouse_move']=!![]);}[_0x4bed4d(0x47b,0x43d)](_0x4902d7){if(!this[_0x2ac7de(0x2c7,0x26c)]||!this[_0x3826bd(-0x1ce,-0x13f)])return;this['mouse_down']&&this['mouse_move']&&this['redraw']();function _0x2ac7de(_0x4594dc,_0x5370a1){return _0x276d6c(_0x4594dc-0x5b,_0x5370a1);}this[_0x2ac7de(0x24e,0x281)]['show']=!![],this[_0x3826bd(-0x180,-0x124)]=![];function _0x3826bd(_0x15315e,_0x4ea679){return _0x4bed4d(_0x4ea679,_0x15315e- -0x599);}this[_0x3826bd(-0x1cf,-0x1ae)]=![];}['redraw'](){function _0x207ec0(_0x364d78,_0x215bc0){return _0x276d6c(_0x364d78-0x42,_0x215bc0);}if(!this[_0x207ec0(0x1e0,0x208)]||!this['show'])return;this['updateViewerParameters'](),this[_0x207ec0(0x21b,0x246)][_0x259640(0xa1,0x24)](this[_0x207ec0(0x2c9,0x317)]);function _0x259640(_0x149684,_0x5708f8){return _0x276d6c(_0x5708f8- -0x19e,_0x149684);}this[_0x259640(0xe0,0x55)]['show']=!![];}['setData'](_0x1d7974){function _0x5e4db5(_0x396a14,_0x22b1ec){return _0x4bed4d(_0x22b1ec,_0x396a14- -0x338);}this[_0x5e4db5(0x104,0xd9)]=_0x1d7974;function _0xdbe291(_0x4f2e17,_0x432b65){return _0x276d6c(_0x432b65-0x23c,_0x4f2e17);}this['particleSystem']&&this['particleSystem']['destroy'](),this[_0xdbe291(0x3a5,0x415)]=new ParticleSystem(this[_0xdbe291(0x4d5,0x466)][_0xdbe291(0x40a,0x40e)],_0x1d7974,this['getOptions'](),this[_0x5e4db5(0x141,0x16e)]),this['addPrimitives']();}[_0x4bed4d(0x3c9,0x39b)](_0x5c83da,_0x557017){if(_0x5c83da)for(const _0x55a7a3 in _0x5c83da){this[_0x55a7a3]=_0x5c83da[_0x55a7a3];}this['particleSystem']&&this['particleSystem']['setOptions'](this['getOptions']());}[_0x4bed4d(0x4b5,0x480)](){const _0x4220ea=Math[_0x3b8e4d(0x328,0x3b5)](Math[_0x3b8e4d(0x3a3,0x350)](this[_0x3b8e4d(0x2f5,0x30a)]));this['particlesNumber']=_0x4220ea*_0x4220ea;const _0x445d69={};function _0x3b8e4d(_0x205388,_0x5dba97){return _0x276d6c(_0x205388-0x145,_0x5dba97);}_0x445d69['particlesTextureSize']=_0x4220ea,_0x445d69[_0x3b8e4d(0x2f9,0x315)]=this['particlesNumber'],_0x445d69[_0x3b8e4d(0x346,0x2e9)]=this[_0x5ce667(0x15f,0x11f)],_0x445d69[_0x3b8e4d(0x3d0,0x436)]=this['fixedHeight'],_0x445d69['fadeOpacity']=this['fadeOpacity'],_0x445d69[_0x3b8e4d(0x2b9,0x2cc)]=this[_0x3b8e4d(0x2b9,0x33f)],_0x445d69[_0x5ce667(0x142,0x175)]=this[_0x3b8e4d(0x329,0x34b)],_0x445d69['speedFactor']=this['speedFactor'],_0x445d69['lineWidth']=this['lineWidth'],_0x445d69[_0x5ce667(0x133,0x1ad)]=this[_0x3b8e4d(0x31a,0x2fe)];function _0x5ce667(_0x1af909,_0x2e9946){return _0x4bed4d(_0x2e9946,_0x1af909- -0x294);}return _0x445d69;}['addPrimitives'](){this[_0x258eb2(-0x9a,-0x120)]['add'](this['particleSystem']['particlesComputing'][_0x14a45b(0x133,0x1ab)][_0x258eb2(-0xd8,-0x4e)]),this['primitives'][_0x258eb2(-0x12,-0x58)](this[_0x258eb2(-0xb4,-0x9b)]['particlesComputing']['primitives']['updatePosition']),this[_0x14a45b(0x23d,0x1ab)][_0x14a45b(0x1b9,0x233)](this['particleSystem']['particlesComputing'][_0x258eb2(-0x9a,-0xfc)]['postProcessingPosition']),this['primitives']['add'](this['particleSystem']['particlesRendering']['primitives']['segments']);function _0x258eb2(_0x5b8552,_0x12274d){return _0x276d6c(_0x5b8552- -0x28d,_0x12274d);}function _0x14a45b(_0x5d9e8d,_0x20f4dd){return _0x4bed4d(_0x5d9e8d,_0x20f4dd- -0x23a);}this[_0x14a45b(0x14d,0x1ab)][_0x258eb2(-0x12,-0x94)](this['particleSystem']['particlesRendering']['primitives']['trails']),this[_0x14a45b(0x17e,0x1ab)][_0x258eb2(-0x12,-0x16)](this[_0x258eb2(-0xb4,-0x92)]['particlesRendering']['primitives']['screen']);}['updateViewerParameters'](){let _0x394e7b=this[_0x38800f(0x33,0x4)][_0x154ad7(-0x2fd,-0x303)](this['scene'][_0x154ad7(-0x254,-0x2be)][_0x154ad7(-0x21e,-0x28b)]);function _0x38800f(_0x404871,_0x27d16d){return _0x276d6c(_0x27d16d- -0x1f9,_0x404871);}if(!_0x394e7b){const _0xce8573=this['_map'][_0x38800f(0x3d,-0x53)]();_0x394e7b=Cesium$1['Rectangle']['fromDegrees'](_0xce8573['xmin'],_0xce8573['ymin'],_0xce8573['xmax'],_0xce8573['ymax']);}const _0x46a5bb=Util['viewRectangleToLonLatRange'](_0x394e7b);this['_data']?(this[_0x154ad7(-0x241,-0x1ea)][_0x38800f(0x1e,-0x4a)]['x']=Math['max'](_0x46a5bb['lon'][_0x38800f(-0xdc,-0x4b)],this[_0x38800f(0x1,0x51)]['xmin']),this[_0x38800f(0xa8,0x8e)][_0x154ad7(-0x31d,-0x2c2)]['y']=Math[_0x38800f(-0x72,-0x4b)](_0x46a5bb[_0x38800f(0x2,-0x66)][_0x154ad7(-0x2e6,-0x2dd)],this['_data']['xmax']),this[_0x38800f(0xef,0x8e)]['latRange']['x']=Math[_0x154ad7(-0x31e,-0x2dd)](_0x46a5bb['lat']['min'],this['_data'][_0x154ad7(-0x232,-0x1ed)]),this['viewerParameters']['latRange']['y']=Math['min'](_0x46a5bb['lat']['max'],this[_0x154ad7(-0x2a3,-0x227)]['ymax'])):(this[_0x38800f(0x123,0x8e)]['lonRange']['x']=_0x46a5bb[_0x154ad7(-0x359,-0x2de)][_0x154ad7(-0x33d,-0x2c3)],this['viewerParameters']['lonRange']['y']=_0x46a5bb[_0x38800f(-0x6a,-0x66)]['max'],this[_0x154ad7(-0x217,-0x1ea)][_0x154ad7(-0x1d2,-0x20b)]['x']=_0x46a5bb[_0x154ad7(-0x27d,-0x293)][_0x154ad7(-0x351,-0x2c3)],this['viewerParameters']['latRange']['y']=_0x46a5bb['lat']['max']);function _0x154ad7(_0x361cb3,_0x1f4d71){return _0x4bed4d(_0x361cb3,_0x1f4d71- -0x663);}let _0x81d7f4=this[_0x38800f(-0x54,0x4)]['getPixelSize'](this['globeBoundingSphere'],this['scene']['drawingBufferWidth'],this['scene']['drawingBufferHeight']);const _0x193880=this[_0x154ad7(-0x2a6,-0x247)][_0x154ad7(-0x28c,-0x1f5)]*0.3;_0x81d7f4<_0x193880&&(_0x81d7f4=_0x193880),this[_0x154ad7(-0x1ef,-0x1ea)][_0x154ad7(-0x28e,-0x287)]=_0x81d7f4;}}mars3d__namespace['LayerUtil']['register'](_0x276d6c(0x1bf,0x166),WindLayer),mars3d__namespace[_0x4bed4d(0x40d,0x384)]['WindLayer']=WindLayer;class CanvasParticle{constructor(){this[_0x4d7638(0x7a,-0x8)]=null;function _0x4d7638(_0x298b30,_0x43b1bc){return _0x4bed4d(_0x298b30,_0x43b1bc- -0x3b8);}this[_0x1e81d4(-0x165,-0x1c1)]=null,this[_0x1e81d4(-0x18a,-0x19b)]=null;function _0x1e81d4(_0x2e8c31,_0x4a6fa6){return _0x276d6c(_0x2e8c31- -0x343,_0x4a6fa6);}this[_0x4d7638(0x69,0x68)]=null,this['age']=null,this['speed']=null;}['destroy'](){for(const _0x298207 in this){delete this[_0x298207];}}}class CanvasWindField{constructor(_0x2ebb31){this['setOptions'](_0x2ebb31);}get['speedRate'](){return this['_speedRate'];}set['speedRate'](_0x14b2d8){function _0x1be63e(_0x41a7b6,_0x563cd1){return _0x4bed4d(_0x563cd1,_0x41a7b6- -0x330);}function _0x531e26(_0x23e72c,_0x574802){return _0x276d6c(_0x574802-0x189,_0x23e72c);}this[_0x531e26(0x335,0x31f)]=(0x64-(_0x14b2d8>0x63?0x63:_0x14b2d8))*0x64,this['_calc_speedRate']=[(this['xmax']-this[_0x1be63e(0x147,0x13f)])/this[_0x531e26(0x390,0x31f)],(this['ymax']-this['ymin'])/this[_0x1be63e(0x58,0x7d)]];}get[_0x4bed4d(0x3bd,0x395)](){return this['_maxAge'];}set[_0x4bed4d(0x352,0x395)](_0x2dbe06){function _0x123e52(_0x4aad44,_0x4b6b66){return _0x4bed4d(_0x4b6b66,_0x4aad44- -0x1e2);}this[_0x123e52(0x290,0x31c)]=_0x2dbe06;}['setOptions'](_0x17157e){this[_0x32ce75(-0x23f,-0x1d5)]=_0x17157e;function _0x34945d(_0x3918ac,_0x1e460c){return _0x276d6c(_0x3918ac- -0xe7,_0x1e460c);}this['maxAge']=_0x17157e['maxAge']||0x78,this['speedRate']=_0x17157e['speedRate']||0x32,this['particles']=[];function _0x32ce75(_0x90bd20,_0x26d637){return _0x276d6c(_0x26d637- -0x36f,_0x90bd20);}const _0x5bd25e=_0x17157e['particlesNumber']||0x1000;for(let _0x30a3a5=0x0;_0x30a3a5<_0x5bd25e;_0x30a3a5++){const _0x285c90=this[_0x32ce75(-0x1d1,-0x178)](new CanvasParticle());this['particles'][_0x32ce75(-0x8c,-0x107)](_0x285c90);}}[_0x276d6c(0x1aa,0x209)](_0xca810d){this[_0x1a2f9e(0x302,0x308)]=_0xca810d['rows'],this['cols']=_0xca810d['cols'],this['xmin']=_0xca810d['xmin'],this[_0x210f76(0x5d,0xbd)]=_0xca810d[_0x210f76(0x5d,0x9a)],this[_0x1a2f9e(0x33f,0x30b)]=_0xca810d[_0x1a2f9e(0x2f1,0x30b)],this['ymax']=_0xca810d['ymax'],this['grid']=[];function _0x1a2f9e(_0x5c5302,_0x143d24){return _0x4bed4d(_0x5c5302,_0x143d24- -0x16b);}const _0x412cb2=_0xca810d[_0x1a2f9e(0x1e5,0x267)],_0x3f3868=_0xca810d[_0x1a2f9e(0x22a,0x29e)];let _0x3ff421=![];function _0x210f76(_0x37f636,_0x38a8be){return _0x276d6c(_0x37f636- -0x1c2,_0x38a8be);}_0x412cb2['length']===this['rows']&&_0x412cb2[0x0]['length']===this['cols']&&(_0x3ff421=!![]);let _0x2fcf43=0x0,_0x19e043=null,_0x18eaf8=null;for(let _0x325a29=0x0;_0x325a29<this['rows'];_0x325a29++){_0x19e043=[];for(let _0x4ea06c=0x0;_0x4ea06c<this['cols'];_0x4ea06c++,_0x2fcf43++){_0x3ff421?_0x18eaf8=this['_calcUV'](_0x412cb2[_0x325a29][_0x4ea06c],_0x3f3868[_0x325a29][_0x4ea06c]):_0x18eaf8=this['_calcUV'](_0x412cb2[_0x2fcf43],_0x3f3868[_0x2fcf43]),_0x19e043['push'](_0x18eaf8);}this[_0x1a2f9e(0x1f9,0x211)][_0x1a2f9e(0x311,0x2ef)](_0x19e043);}this[_0x1a2f9e(0x20a,0x221)]['reverseY']&&this['grid'][_0x1a2f9e(0x1bc,0x217)]();}[_0x4bed4d(0x3f1,0x3a8)](){delete this[_0x20eb7d(0x26a,0x263)],delete this[_0x2f0076(-0xf2,-0xa8)],delete this[_0x2f0076(-0xfa,-0x16f)],delete this['xmax'];function _0x2f0076(_0x585df3,_0x4a94a2){return _0x276d6c(_0x585df3- -0x37f,_0x4a94a2);}delete this['ymin'];function _0x20eb7d(_0x26a560,_0x2fc713){return _0x4bed4d(_0x26a560,_0x2fc713- -0x210);}delete this[_0x20eb7d(0x255,0x232)],delete this['grid'],delete this[_0x2f0076(-0x1d2,-0x1b8)];}['toGridXY'](_0x242487,_0x80660b){const _0x244985=(_0x242487-this[_0x59aebf(-0x1d5,-0x1bc)])/(this[_0x5c6689(0x336,0x333)]-this[_0x59aebf(-0x1ca,-0x1bc)])*(this[_0x59aebf(-0x1f3,-0x1b4)]-0x1);function _0x59aebf(_0x3f21a3,_0x709b4a){return _0x276d6c(_0x709b4a- -0x441,_0x3f21a3);}function _0x5c6689(_0x2eb60f,_0x3bad17){return _0x276d6c(_0x3bad17-0x114,_0x2eb60f);}const _0x43355f=(this[_0x59aebf(-0x277,-0x1f1)]-_0x80660b)/(this['ymax']-this['ymin'])*(this[_0x5c6689(0x343,0x395)]-0x1);return[_0x244985,_0x43355f];}[_0x4bed4d(0x3aa,0x42a)](_0x43e02d,_0x53b5a5){function _0x463b1f(_0x10dff7,_0x24dd80){return _0x276d6c(_0x24dd80- -0x49,_0x10dff7);}if(_0x43e02d<0x0||_0x43e02d>=this['cols']||_0x53b5a5>=this[_0x463b1f(0x236,0x238)])return[0x0,0x0,0x0];const _0x7166b9=Math['floor'](_0x43e02d),_0xf13fa2=Math[_0x463b1f(0x220,0x204)](_0x53b5a5);if(_0x7166b9===_0x43e02d&&_0xf13fa2===_0x53b5a5)return this[_0x2e8d03(0x40,0x0)][_0x53b5a5][_0x43e02d];const _0x675a8=_0x7166b9+0x1,_0x4f7f2d=_0xf13fa2+0x1,_0x3c8bc2=this[_0x463b1f(0x216,0x1ef)](_0x7166b9,_0xf13fa2),_0x4b113c=this[_0x2e8d03(0xee,0x145)](_0x675a8,_0xf13fa2);function _0x2e8d03(_0x3fa78a,_0x22af39){return _0x276d6c(_0x3fa78a- -0x14a,_0x22af39);}const _0x3f63d6=this['getUVByXY'](_0x7166b9,_0x4f7f2d),_0x200227=this[_0x463b1f(0x185,0x1ef)](_0x675a8,_0x4f7f2d);let _0x19559a=null;try{_0x19559a=this[_0x2e8d03(0x9d,0xe8)](_0x43e02d-_0x7166b9,_0x53b5a5-_0xf13fa2,_0x3c8bc2,_0x4b113c,_0x3f63d6,_0x200227);}catch(_0x3fee45){console['log'](_0x43e02d,_0x53b5a5);}return _0x19559a;}['_bilinearInterpolation'](_0x14f189,_0x2f0de1,_0x1956e8,_0x5ae93d,_0xc5b28b,_0x4b6fa4){const _0x362a9b=0x1-_0x14f189,_0x15b43f=0x1-_0x2f0de1,_0x21a897=_0x362a9b*_0x15b43f,_0x12c93f=_0x14f189*_0x15b43f,_0x2439fc=_0x362a9b*_0x2f0de1,_0x3b1b2f=_0x14f189*_0x2f0de1,_0x25e644=_0x1956e8[0x0]*_0x21a897+_0x5ae93d[0x0]*_0x12c93f+_0xc5b28b[0x0]*_0x2439fc+_0x4b6fa4[0x0]*_0x3b1b2f,_0x419d7b=_0x1956e8[0x1]*_0x21a897+_0x5ae93d[0x1]*_0x12c93f+_0xc5b28b[0x1]*_0x2439fc+_0x4b6fa4[0x1]*_0x3b1b2f;return this['_calcUV'](_0x25e644,_0x419d7b);}['_calcUV'](_0x524461,_0x59a40c){return[+_0x524461,+_0x59a40c,Math['sqrt'](_0x524461*_0x524461+_0x59a40c*_0x59a40c)];}[_0x4bed4d(0x341,0x38e)](_0x344341,_0x317707){if(!this[_0x167ef6(-0xd4,-0x106)](_0x344341,_0x317707))return null;const _0x19b97f=this['toGridXY'](_0x344341,_0x317707);function _0x167ef6(_0x440979,_0x1edce3){return _0x4bed4d(_0x440979,_0x1edce3- -0x47d);}const _0x293655=this['getUVByXY'](_0x19b97f[0x0],_0x19b97f[0x1]);return _0x293655;}['isInExtent'](_0x4fb197,_0x230b90){function _0x5b2f82(_0x30bc06,_0x496052){return _0x276d6c(_0x30bc06- -0x1a1,_0x496052);}return _0x4fb197>=this['xmin']&&_0x4fb197<=this['xmax']&&_0x230b90>=this[_0x5b2f82(0xe3,0x59)]&&_0x230b90<=this['ymax']?!![]:![];}[_0x4bed4d(0x3c0,0x41d)](){function _0x1b5968(_0x237508,_0x1881b4){return _0x4bed4d(_0x237508,_0x1881b4- -0x22);}function _0x4e72b4(_0x2ad37c,_0x2b4dcd){return _0x276d6c(_0x2ad37c- -0x34d,_0x2b4dcd);}const _0x540c66=fRandomByfloat(this[_0x1b5968(0x459,0x455)],this['xmax']),_0x5bc41c=fRandomByfloat(this['ymin'],this[_0x4e72b4(-0xfd,-0x7d)]),_0x5c6f9c={};return _0x5c6f9c['lat']=_0x5bc41c,_0x5c6f9c['lng']=_0x540c66,_0x5c6f9c;}['getParticles'](){let _0x357d50,_0x186ccb,_0x11201d;function _0x5b0de0(_0x52e6b1,_0x127c55){return _0x276d6c(_0x52e6b1- -0x28b,_0x127c55);}for(let _0xb8c459=0x0,_0x373967=this['particles']['length'];_0xb8c459<_0x373967;_0xb8c459++){let _0x1755e3=this['particles'][_0xb8c459];_0x1755e3['age']<=0x0&&(_0x1755e3=this[_0x5b0de0(-0x94,-0x113)](_0x1755e3));if(_0x1755e3[_0x5b0de0(-0x121,-0x113)]>0x0){const _0x55845e=_0x1755e3['tlng'],_0x28f4e4=_0x1755e3[_0x5b0de0(-0x5d,-0x49)];_0x11201d=this['getUVByPoint'](_0x55845e,_0x28f4e4),_0x11201d?(_0x357d50=_0x55845e+this['_calc_speedRate'][0x0]*_0x11201d[0x0],_0x186ccb=_0x28f4e4+this['_calc_speedRate'][0x1]*_0x11201d[0x1],_0x1755e3['lng']=_0x55845e,_0x1755e3['lat']=_0x28f4e4,_0x1755e3[_0x50b32e(0x211,0x1ba)]=_0x357d50,_0x1755e3[_0x5b0de0(-0x5d,0x2)]=_0x186ccb,_0x1755e3['speed']=_0x11201d[0x2],_0x1755e3[_0x50b32e(0x1c2,0x247)]--):_0x1755e3['age']=0x0;}}function _0x50b32e(_0x87d4d8,_0xb59d81){return _0x276d6c(_0x87d4d8-0x58,_0xb59d81);}return this['particles'];}['_randomParticle'](_0x184d3b){let _0x309e25,_0x27d542;for(let _0x3f5f4d=0x0;_0x3f5f4d<0x1e;_0x3f5f4d++){_0x309e25=this[_0x3161e5(0x487,0x4ff)](),_0x27d542=this[_0x3161e5(0x3f8,0x453)](_0x309e25[_0x3161e5(0x41a,0x46d)],_0x309e25['lat']);if(_0x27d542&&_0x27d542[0x2]>0x0)break;}if(!_0x27d542)return _0x184d3b;const _0x5c3641=_0x309e25['lng']+this[_0x514264(0x43a,0x401)][0x0]*_0x27d542[0x0],_0x5259ea=_0x309e25['lat']+this[_0x3161e5(0x3ea,0x37d)][0x1]*_0x27d542[0x1];_0x184d3b[_0x514264(0x454,0x431)]=_0x309e25[_0x514264(0x3a2,0x431)],_0x184d3b['lat']=_0x309e25['lat'];function _0x3161e5(_0xc9fde1,_0x25095f){return _0x276d6c(_0xc9fde1-0x25c,_0x25095f);}function _0x514264(_0x3e1605,_0x3a58e0){return _0x276d6c(_0x3a58e0-0x273,_0x3e1605);}return _0x184d3b['tlng']=_0x5c3641,_0x184d3b[_0x3161e5(0x48a,0x4c1)]=_0x5259ea,_0x184d3b['age']=Math['round'](Math[_0x514264(0x511,0x4d3)]()*this[_0x514264(0x3ec,0x416)]),_0x184d3b[_0x514264(0x483,0x42d)]=_0x27d542[0x2],_0x184d3b;}[_0x4bed4d(0x2db,0x365)](){for(const _0x8a6d25 in this){delete this[_0x8a6d25];}}}function fRandomByfloat(_0xabbae7,_0x1e69f7){return _0xabbae7+Math['random']()*(_0x1e69f7-_0xabbae7);}const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace[_0x4bed4d(0x36c,0x384)][_0x276d6c(0x184,0x1bd)];class CanvasWindLayer extends BaseLayer{constructor(_0x330d10={}){function _0x6d748(_0x2a6767,_0x264e22){return _0x276d6c(_0x2a6767- -0x276,_0x264e22);}super(_0x330d10),this[_0x6d748(-0xcd,-0x144)](_0x330d10);function _0xdc20ef(_0x5b074b,_0x1a12a7){return _0x4bed4d(_0x5b074b,_0x1a12a7- -0x35);}this[_0x6d748(-0x84,0x1)]=null,_0x330d10[_0xdc20ef(0x451,0x3be)]&&_0x330d10['steps']&&(this[_0x6d748(-0xf4,-0x6f)]=new mars3d__namespace['ColorRamp'](_0x330d10));}[_0x4bed4d(0x396,0x39b)](_0x228607,_0x1a91de){this[_0x1c06ff(-0x200,-0x1d1)]=0x3e8/(_0x228607['frameRate']||0xa),this[_0x2a6694(0x2fe,0x299)]=this['options']['pointerEvents']??![];function _0x1c06ff(_0x4989bb,_0x52b1d5){return _0x4bed4d(_0x52b1d5,_0x4989bb- -0x5f9);}this[_0x2a6694(0x298,0x212)]=_0x228607['color']||_0x2a6694(0x33e,0x320),this['lineWidth']=_0x228607['lineWidth']||0x1,this[_0x2a6694(0x266,0x273)]=_0x228607['fixedHeight']??0x0;function _0x2a6694(_0x419fec,_0xa39045){return _0x276d6c(_0x419fec-0xf9,_0xa39045);}this[_0x2a6694(0x34b,0x2c6)]=_0x228607['reverseY']??![],this[_0x2a6694(0x27f,0x280)]&&this[_0x2a6694(0x27f,0x2ee)][_0x1c06ff(-0x201,-0x1c2)](_0x228607);}get[_0x4bed4d(0x2f9,0x384)](){return this['canvas'];}get['canvasWidth'](){function _0x53e4ed(_0x46de3f,_0x3baca7){return _0x276d6c(_0x3baca7- -0x432,_0x46de3f);}function _0x3af893(_0x253d8e,_0x1b4fb4){return _0x4bed4d(_0x1b4fb4,_0x253d8e- -0x63a);}return this['_map'][_0x3af893(-0x21e,-0x25d)]['canvas'][_0x3af893(-0x1e5,-0x21b)];}get['canvasHeight'](){function _0xf3dcdf(_0x44236a,_0x3f31db){return _0x276d6c(_0x3f31db- -0x130,_0x44236a);}return this['_map'][_0xf3dcdf(0x8f,0xfa)]['canvas']['clientHeight'];}get[_0x276d6c(0x27d,0x21b)](){return this['_pointerEvents'];}set['pointerEvents'](_0x546514){this['_pointerEvents']=_0x546514;if(!this[_0xe14d6a(-0xcd,-0x6e)])return;function _0xe14d6a(_0x5dd03a,_0x371fd0){return _0x276d6c(_0x5dd03a- -0x2bf,_0x371fd0);}function _0x4c0f5c(_0x3e60ca,_0x5680b7){return _0x276d6c(_0x3e60ca- -0x24e,_0x5680b7);}_0x546514?this[_0xe14d6a(-0xcd,-0x55)][_0xe14d6a(-0x2d,-0xa2)][_0xe14d6a(-0x4f,-0xcc)]='all':this['canvas']['style']['pointer-events']=_0xe14d6a(-0xd0,-0xf5);}get['particlesNumber'](){function _0x36e2b4(_0x4424f6,_0x2f88){return _0x276d6c(_0x4424f6- -0xbf,_0x2f88);}return this['options'][_0x36e2b4(0xf1,0x107)];}set[_0x4bed4d(0x391,0x3a2)](_0x2830ad){this['options']['particlesNumber']=_0x2830ad,clearTimeout(this['_canrefresh']),this['_canrefresh']=setTimeout(()=>{this['redraw']();},0x1f4);}get[_0x4bed4d(0x48f,0x426)](){function _0x393e7b(_0x312123,_0x4fae79){return _0x4bed4d(_0x312123,_0x4fae79- -0x39b);}return this['options'][_0x393e7b(0x58,0x8b)];}set['speedRate'](_0x1c7dc7){this[_0x10d4d2(0x189,0x196)][_0x10d4d2(0x217,0x230)]=_0x1c7dc7;function _0x10d4d2(_0x549d87,_0x4c65bf){return _0x276d6c(_0x4c65bf- -0x4,_0x549d87);}function _0x1dc019(_0x568b19,_0x23052b){return _0x276d6c(_0x568b19- -0x25c,_0x23052b);}this['windField']&&(this[_0x10d4d2(0x171,0x182)]['speedRate']=_0x1c7dc7);}get[_0x4bed4d(0x413,0x395)](){function _0x408021(_0x149843,_0x404a60){return _0x4bed4d(_0x149843,_0x404a60- -0x607);}return this[_0x408021(-0x20a,-0x27b)]['maxAge'];}set[_0x4bed4d(0x3c8,0x395)](_0x2791a7){function _0x3e7719(_0x183a32,_0x3dddd3){return _0x276d6c(_0x3dddd3- -0x2d5,_0x183a32);}function _0x271c40(_0x2ec8fb,_0x4eeeba){return _0x276d6c(_0x2ec8fb- -0x1ea,_0x4eeeba);}this[_0x271c40(-0x50,0x32)]['maxAge']=_0x2791a7,this['windField']&&(this['windField'][_0x271c40(-0x47,-0x37)]=_0x2791a7);}get[_0x4bed4d(0x427,0x3d3)](){return this['windData'];}set[_0x4bed4d(0x41a,0x3d3)](_0x5c754d){this['setData'](_0x5c754d);}get['rectangle'](){let _0x33e90c=this[_0x26057(-0x81,-0xdb)]['xmin'],_0xf92326=this['windData'][_0xae5f00(0x25e,0x2f3)],_0x24caf2=this['windData']['ymin'];function _0x26057(_0x3a1022,_0x51bb73){return _0x4bed4d(_0x51bb73,_0x3a1022- -0x476);}let _0x324e29=this[_0xae5f00(0x242,0x1af)][_0x26057(-0x34,-0x9b)];_0xf92326>=0x167&&_0x33e90c===0x0&&(_0x33e90c=-0xb4,_0xf92326=0xb4);_0x33e90c=Math[_0x26057(-0xf0,-0x134)](_0x33e90c,-0xb4),_0xf92326=Math['min'](_0xf92326,0xb4),_0x24caf2=Math['max'](_0x24caf2,-0x5a),_0x324e29=Math[_0x26057(-0xd6,-0x82)](_0x324e29,0x5a);function _0xae5f00(_0x4ddc35,_0x136391){return _0x276d6c(_0x4ddc35-0x3f,_0x136391);}return Cesium[_0xae5f00(0x1c8,0x143)][_0xae5f00(0x295,0x2c1)](_0x33e90c,_0x24caf2,_0xf92326,_0x324e29);}['_showHook'](_0x184c3b){function _0x55fa44(_0x221d6c,_0x19f7bd){return _0x4bed4d(_0x221d6c,_0x19f7bd- -0xb7);}_0x184c3b?this['_addedHook']():(this['windData']&&(this['options']['data']=this['windData']),this[_0x55fa44(0x297,0x301)]());}[_0x276d6c(0x244,0x264)](){function _0x5d0f1a(_0x324778,_0x26677d){return _0x276d6c(_0x324778- -0xa6,_0x26677d);}function _0x2a8921(_0x343e7e,_0x25ef8d){return _0x4bed4d(_0x25ef8d,_0x343e7e- -0x47a);}this[_0x2a8921(-0xee,-0x17f)]['worker']?this['initWorker']():this[_0x5d0f1a(0xe0,0x159)]=new CanvasWindField(this['options']);}[_0x276d6c(0x1db,0x20d)](){this['canvas']=this[_0x45cb89(-0x268,-0x1ea)]();const _0x25f0e1={};_0x25f0e1['willReadFrequently']=!![];function _0x45cb89(_0x1f4f5e,_0x713a7){return _0x4bed4d(_0x713a7,_0x1f4f5e- -0x5d2);}this['canvasContext']=this[_0x45cb89(-0x1ee,-0x242)]['getContext']('2d',_0x25f0e1);function _0x11e497(_0x12bfee,_0x272529){return _0x4bed4d(_0x12bfee,_0x272529- -0x47c);}this['bindEvent'](),this['options'][_0x45cb89(-0x1ff,-0x1b7)]&&this['setData'](this[_0x45cb89(-0x246,-0x1df)][_0x45cb89(-0x1ff,-0x26d)]);}['_removedHook'](){function _0x4a18fe(_0x25d992,_0xc0562a){return _0x4bed4d(_0x25d992,_0xc0562a- -0x67b);}this['clear']();function _0x234c72(_0x18c152,_0x58039f){return _0x4bed4d(_0x58039f,_0x18c152- -0x3ad);}this[_0x234c72(0xd1,0x123)](),this[_0x4a18fe(-0x311,-0x297)]&&(this['_map']['container']['removeChild'](this[_0x234c72(0x37,0x35)]),delete this['canvas']);}[_0x276d6c(0x178,0xf4)](){function _0x165fd8(_0x232ee2,_0x18af6c){return _0x276d6c(_0x232ee2-0x91,_0x18af6c);}const _0x573011=mars3d__namespace['DomUtil']['create'](_0x5d3cdb(-0x185,-0xf3),'mars3d-canvasWind',this[_0x165fd8(0x22f,0x2b4)][_0x5d3cdb(-0x46,-0xb2)]);_0x573011[_0x165fd8(0x323,0x387)]['position']=_0x165fd8(0x2cf,0x245),_0x573011['style'][_0x5d3cdb(-0x25,-0x8e)]='0px',_0x573011[_0x5d3cdb(0x44,-0x53)][_0x165fd8(0x26e,0x2b1)]='0px';function _0x5d3cdb(_0x5ec449,_0x2d139c){return _0x4bed4d(_0x5ec449,_0x2d139c- -0x4d7);}return _0x573011[_0x165fd8(0x323,0x319)]['width']=this['_map'][_0x165fd8(0x2bb,0x2e8)][_0x5d3cdb(-0x9d,-0xf3)]['clientWidth']+'px',_0x573011[_0x165fd8(0x323,0x322)][_0x5d3cdb(-0x16,-0x8a)]=this['_map']['scene']['canvas'][_0x5d3cdb(-0xf4,-0xfd)]+'px',_0x573011['style'][_0x165fd8(0x30e,0x29f)]=this[_0x5d3cdb(-0x55,-0xe0)]?'auto':'none',_0x573011[_0x165fd8(0x323,0x2f5)]['zIndex']=this['options']['zIndex']??0x9,_0x573011[_0x5d3cdb(-0x115,-0xd6)]=this['_map']['scene']['canvas'][_0x5d3cdb(-0x6f,-0x82)],_0x573011['height']=this['_map']['scene'][_0x165fd8(0x283,0x303)]['clientHeight'],_0x573011;}['resize'](){function _0x4af318(_0x165676,_0x4df056){return _0x4bed4d(_0x4df056,_0x165676- -0x446);}function _0x1bda67(_0x17b969,_0xe99cf){return _0x276d6c(_0xe99cf-0x16c,_0x17b969);}this['canvas']&&(this[_0x4af318(-0x62,-0x8a)][_0x4af318(0x3e,0x4)]['width']=this[_0x1bda67(0x312,0x30a)]['scene']['canvas']['clientWidth']+'px',this[_0x1bda67(0x385,0x35e)][_0x1bda67(0x3f5,0x3fe)][_0x4af318(0x7,0x9e)]=this[_0x1bda67(0x339,0x30a)]['scene']['canvas']['clientHeight']+'px',this['canvas']['width']=this[_0x4af318(-0xb6,-0x131)][_0x4af318(-0x2a,-0xbe)]['canvas'][_0x1bda67(0x390,0x3cf)],this[_0x1bda67(0x352,0x35e)][_0x4af318(0x7,-0x62)]=this[_0x1bda67(0x393,0x30a)]['scene']['canvas']['clientHeight']);}['bindEvent'](){function _0x428c7a(_0x2a6935,_0xdd06ee){return _0x4bed4d(_0x2a6935,_0xdd06ee- -0x63f);}const _0x1e2258=this;let _0x302bd9=Date[_0x2b3190(0x457,0x4d1)]();(function _0x2d3ce7(){if(_0x1e2258['isDestroy'])return;function _0x16c080(_0x38becf,_0x3a9b1f){return _0x2b3190(_0x38becf- -0x323,_0x3a9b1f);}function _0x38778f(_0x1adb8d,_0x65eeb5){return _0x2b3190(_0x1adb8d- -0x240,_0x65eeb5);}_0x1e2258[_0x38778f(0x1ea,0x231)]=window['requestAnimationFrame'](_0x2d3ce7);if(_0x1e2258['show']&&_0x1e2258['windField']){const _0x39d08f=Date['now'](),_0x32e416=_0x39d08f-_0x302bd9;_0x32e416>_0x1e2258[_0x16c080(0xe1,0x118)]&&(_0x302bd9=_0x39d08f-_0x32e416%_0x1e2258['frameTime'],_0x1e2258['update']());}}(),window['addEventListener']('resize',this['resize'][_0x428c7a(-0x23e,-0x206)](this),![]));function _0x2b3190(_0x32f78c,_0x4332c6){return _0x4bed4d(_0x4332c6,_0x32f78c-0xb);}this['mouse_down']=![],this[_0x428c7a(-0x255,-0x275)]=![],this['options'][_0x2b3190(0x395,0x33c)]&&(this['_map']['on'](mars3d__namespace[_0x428c7a(-0x293,-0x22c)][_0x428c7a(-0x1f4,-0x24e)],this['_onMapWhellEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x428c7a(-0x2d0,-0x2cf)],this),this['_map']['on'](mars3d__namespace[_0x2b3190(0x41e,0x470)]['mouseUp'],this['_onMouseUpEvent'],this));}['unbindEvent'](){window['cancelAnimationFrame'](this[_0x3e51e3(-0x43,-0x7a)]),delete this[_0x17178b(-0x44,-0x6c)],window[_0x3e51e3(-0xaa,-0x124)](_0x17178b(-0x107,-0xc6),this['resize']);function _0x17178b(_0x7694e0,_0x377679){return _0x276d6c(_0x377679- -0x299,_0x7694e0);}function _0x3e51e3(_0x1631fd,_0xa3acae){return _0x4bed4d(_0x1631fd,_0xa3acae- -0x499);}this['options'][_0x3e51e3(-0x14e,-0x10f)]&&(this['_map']['off'](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['mouseDown'],this[_0x3e51e3(-0x135,-0x129)],this),this['_map'][_0x17178b(-0x117,-0x129)](mars3d__namespace[_0x17178b(0xd,-0x78)]['mouseUp'],this[_0x3e51e3(-0x8b,-0x5c)],this),this['_map']['off'](mars3d__namespace['EventType'][_0x3e51e3(-0x7a,-0x3e)],this['_onMouseMoveEvent'],this));}['_onMapWhellEvent'](_0x549af0){function _0x38c3dc(_0x1a7136,_0x351a1c){return _0x4bed4d(_0x351a1c,_0x1a7136- -0x2cf);}clearTimeout(this[_0xb1dee8(0x50,0x5c)]);if(!this['show']||!this['canvas'])return;this[_0xb1dee8(0x10,-0xf)][_0x38c3dc(0x1b5,0x1c1)][_0x38c3dc(0xca,0x91)]=_0x38c3dc(0x16c,0x1e3);function _0xb1dee8(_0x52cfc1,_0x204261){return _0x4bed4d(_0x204261,_0x52cfc1- -0x3d4);}this['refreshTimer']=setTimeout(()=>{if(!this['show'])return;this['redraw'](),this['canvas']['style']['visibility']='visible';},0xc8);}[_0x276d6c(0x17e,0x1b6)](_0x59e2fa){this['mouse_down']=!![];function _0x22600f(_0xc51caf,_0xd52f93){return _0x276d6c(_0xc51caf- -0x4c3,_0xd52f93);}function _0x40b113(_0x352578,_0x3246a7){return _0x276d6c(_0x352578- -0x169,_0x3246a7);}this['_map']['off'](mars3d__namespace[_0x22600f(-0x2a2,-0x246)]['mouseMove'],this['_onMouseMoveEvent'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x22600f(-0x25a,-0x216)],this['_onMouseMoveEvent'],this);}['_onMouseMoveEvent'](_0x50296e){function _0x3860de(_0x494beb,_0x2bd2c6){return _0x276d6c(_0x2bd2c6- -0xff,_0x494beb);}if(!this[_0x3860de(0x143,0x16d)]||!this[_0x2e90d6(-0x20b,-0x288)])return;function _0x2e90d6(_0x497c18,_0x2b97e0){return _0x4bed4d(_0x2b97e0,_0x497c18- -0x5ef);}this['mouse_down']&&(this['canvas']['style']['visibility']='hidden',this['mouse_move']=!![]);}[_0x276d6c(0x24b,0x282)](_0x7ef8a0){if(!this['show']||!this[_0x61f724(0x44e,0x4b4)])return;function _0x37269b(_0x233a3b,_0x2f49ae){return _0x276d6c(_0x233a3b-0xec,_0x2f49ae);}function _0x61f724(_0x48bb01,_0x3e5018){return _0x4bed4d(_0x48bb01,_0x3e5018-0xd0);}this[_0x61f724(0x44e,0x460)][_0x37269b(0x25c,0x284)](mars3d__namespace[_0x61f724(0x4f7,0x4e3)][_0x37269b(0x355,0x3b9)],this['_onMouseMoveEvent'],this),this['mouse_down']&&this['mouse_move']&&this[_0x61f724(0x471,0x4dc)](),this['canvas']['style']['visibility']='visible',this['mouse_down']=![],this['mouse_move']=![];}['setData'](_0x53fac7){function _0x2c30d5(_0x234267,_0x4de3e7){return _0x276d6c(_0x234267-0x87,_0x4de3e7);}this[_0x2c30d5(0x23d,0x27e)](),this['windData']=_0x53fac7,this['windField']['setDate'](_0x53fac7),this['redraw']();}['redraw'](){function _0x1804b6(_0x1d8d08,_0x5c684f){return _0x276d6c(_0x1d8d08-0x25c,_0x5c684f);}function _0x42915c(_0x147db1,_0x390239){return _0x4bed4d(_0x147db1,_0x390239- -0x527);}if(!this[_0x42915c(-0x11a,-0xc9)])return;this[_0x1804b6(0x3e2,0x3a2)]['setOptions'](this[_0x42915c(-0x1cb,-0x19b)]),this[_0x42915c(-0x95,-0xd8)]();}['update'](){if(this[_0x55d263(0x308,0x2df)])return;this['_updateIng']=!![];function _0x5b734a(_0x443a2a,_0x1a7264){return _0x4bed4d(_0x1a7264,_0x443a2a- -0xa6);}function _0x55d263(_0xfe8b6e,_0x418f4c){return _0x276d6c(_0xfe8b6e-0xc5,_0x418f4c);}if(this['worker'])this['windField']['update']();else{const _0x28d844=this['windField']['getParticles']();this[_0x5b734a(0x326,0x2b0)](_0x28d844);}this[_0x5b734a(0x38f,0x401)]=![];}['_drawLines'](_0x423fcf){this[_0x282bca(0x4b9,0x52f)]=_0x423fcf,this[_0x5c9d34(-0xcf,-0xc8)][_0x282bca(0x3e2,0x3b1)]='destination-in',this[_0x282bca(0x449,0x3fc)]['fillRect'](0x0,0x0,this['canvasWidth'],this['canvasHeight']),this[_0x5c9d34(-0xcf,-0xe7)][_0x5c9d34(-0x136,-0x13b)]=_0x5c9d34(-0xee,-0x7b);function _0x282bca(_0x2ed3c5,_0x5a934e){return _0x276d6c(_0x2ed3c5-0x273,_0x5a934e);}this[_0x5c9d34(-0xcf,-0xa9)]['globalAlpha']=0.9;const _0x56746f=this['_map'][_0x282bca(0x49d,0x45b)]['mode']!==Cesium['SceneMode'][_0x5c9d34(-0xaf,-0x26)],_0x264d5a=this['canvasWidth']*0.25;function _0x5c9d34(_0x44da76,_0x29dd54){return _0x4bed4d(_0x29dd54,_0x44da76- -0x497);}if(this['_colorRamp'])for(let _0x504797=0x0,_0x5a9986=_0x423fcf[_0x282bca(0x480,0x4d9)];_0x504797<_0x5a9986;_0x504797++){const _0x592ec0=_0x423fcf[_0x504797],_0x4fea02=this['_tomap'](_0x592ec0,_0x592ec0[_0x282bca(0x431,0x420)],_0x592ec0['lat'],_0x592ec0[_0x282bca(0x48c,0x40d)]),_0x3e962d=this['_tomap'](_0x592ec0,_0x592ec0['tlng'],_0x592ec0['tlat'],_0x592ec0['talt']);if(!_0x4fea02||!_0x3e962d)continue;if(_0x56746f&&Math['abs'](_0x4fea02[0x0]-_0x3e962d[0x0])>=_0x264d5a)continue;this[_0x5c9d34(-0xcf,-0xd6)]['beginPath'](),this[_0x5c9d34(-0xcf,-0x89)]['lineWidth']=this['lineWidth'],this[_0x282bca(0x449,0x45e)]['strokeStyle']=this['_colorRamp'][_0x282bca(0x441,0x3f4)](_0x592ec0['speed']),this['canvasContext'][_0x5c9d34(-0x128,-0xb1)](_0x4fea02[0x0],_0x4fea02[0x1]),this['canvasContext']['lineTo'](_0x3e962d[0x0],_0x3e962d[0x1]),this['canvasContext'][_0x282bca(0x46c,0x3ec)]();}else{this['canvasContext']['beginPath'](),this['canvasContext']['lineWidth']=this[_0x5c9d34(-0xbc,-0xa4)],this[_0x5c9d34(-0xcf,-0x5a)]['strokeStyle']=this[_0x5c9d34(-0x106,-0x14c)];for(let _0x3c7bca=0x0,_0x613219=_0x423fcf['length'];_0x3c7bca<_0x613219;_0x3c7bca++){const _0x33ff62=_0x423fcf[_0x3c7bca],_0xd047d=this['_tomap'](_0x33ff62,_0x33ff62['lng'],_0x33ff62['lat'],_0x33ff62['alt']),_0x3cbd94=this[_0x282bca(0x496,0x488)](_0x33ff62,_0x33ff62['tlng'],_0x33ff62['tlat'],_0x33ff62['talt']);if(!_0xd047d||!_0x3cbd94)continue;if(_0x56746f&&Math[_0x282bca(0x4a8,0x434)](_0xd047d[0x0]-_0x3cbd94[0x0])>=_0x264d5a)continue;this['canvasContext'][_0x282bca(0x3f0,0x3ca)](_0xd047d[0x0],_0xd047d[0x1]),this['canvasContext'][_0x5c9d34(-0x110,-0x141)](_0x3cbd94[0x0],_0x3cbd94[0x1]);}this['canvasContext']['stroke']();}}['_tomap'](_0x461453,_0x3e1d75,_0x57f6b7,_0x27bc14){const _0x486b89=Cesium['Cartesian3']['fromDegrees'](_0x3e1d75,_0x57f6b7,_0x27bc14??this['fixedHeight']);function _0xc9fc81(_0x44f366,_0x47eea0){return _0x4bed4d(_0x44f366,_0x47eea0- -0x2d7);}function _0x484ba7(_0xb8640d,_0x28d159){return _0x276d6c(_0xb8640d- -0x3fa,_0x28d159);}const _0x492ac2=this['_map'][_0x484ba7(-0x1d0,-0x1cd)];if(_0x492ac2['mode']===Cesium[_0xc9fc81(0x104,0xbf)]['SCENE3D']){const _0x2d4024=new Cesium['EllipsoidalOccluder'](_0x492ac2[_0xc9fc81(0xc2,0xce)]['ellipsoid'],_0x492ac2[_0x484ba7(-0x1fd,-0x188)][_0x484ba7(-0x1da,-0x1e1)]),_0x2e7238=_0x2d4024[_0x484ba7(-0x1a6,-0x186)](_0x486b89);if(!_0x2e7238)return _0x461453['age']=0x0,null;}const _0x2b8fbf=mars3d__namespace[_0x484ba7(-0x237,-0x270)]['toWindowCoordinates'](this['_map']['scene'],_0x486b89);return _0x2b8fbf?[_0x2b8fbf['x'],_0x2b8fbf['y']]:null;}[_0x276d6c(0x1b6,0x13b)](){this['windField']['clear']();function _0x5f36fb(_0x2e4eee,_0x13ac19){return _0x4bed4d(_0x2e4eee,_0x13ac19-0xe2);}delete this[_0x5f36fb(0x4a9,0x4d7)];}['initWorker'](){this[_0x3441f8(0x3d0,0x3e0)]=new Worker(this['options']['worker']),this['worker']['onmessage']=_0x168949=>{function _0x4f73f4(_0x2b1651,_0x31970c){return _0x3441f8(_0x2b1651,_0x31970c- -0x538);}this[_0x4f73f4(-0x1f7,-0x199)](_0x168949['data']['particles']),this['_updateIng2']=![];};function _0x2745fb(_0x1540ce,_0x37c6c2){return _0x276d6c(_0x37c6c2- -0x289,_0x1540ce);}function _0x3441f8(_0x2a12f8,_0x2241a6){return _0x276d6c(_0x2241a6-0x1c5,_0x2a12f8);}this['windField']={'init':_0x3a60d7=>{const _0xb989eb={};_0xb989eb['type']=_0x275118(0x3c5,0x3db);function _0x275118(_0x4d3e95,_0x543cbd){return _0x3441f8(_0x543cbd,_0x4d3e95- -0x6e);}_0xb989eb['options']=_0x3a60d7,this['worker']['postMessage'](_0xb989eb);},'setOptions':_0x5675a4=>{function _0x414ff8(_0x1f3aea,_0x429727){return _0x3441f8(_0x1f3aea,_0x429727- -0x75);}const _0x432a9e={};_0x432a9e['type']=_0x369ac7(0x372,0x304);function _0x369ac7(_0x52130d,_0x5949ab){return _0x3441f8(_0x5949ab,_0x52130d- -0x59);}_0x432a9e[_0x414ff8(0x32d,0x2ea)]=_0x5675a4,this['worker'][_0x369ac7(0x391,0x399)](_0x432a9e);},'setDate':_0x29e7b6=>{function _0x165a99(_0x5b5f1c,_0x396fae){return _0x3441f8(_0x5b5f1c,_0x396fae- -0x24b);}function _0x5858aa(_0x1a0ff9,_0x581381){return _0x3441f8(_0x581381,_0x1a0ff9- -0x1e4);}const _0x3950cd={};_0x3950cd[_0x5858aa(0x1ff,0x23b)]='setDate',_0x3950cd[_0x165a99(0xdb,0x15b)]=_0x29e7b6,this[_0x5858aa(0x1fc,0x287)][_0x5858aa(0x206,0x1bc)](_0x3950cd);},'update':()=>{if(this['_updateIng2'])return;function _0x1bfcd5(_0x29f5a9,_0x34222c){return _0x3441f8(_0x34222c,_0x29f5a9-0x9f);}this['_updateIng2']=!![];const _0x2e7309={};_0x2e7309['type']='update',this['worker'][_0x1bfcd5(0x489,0x3f2)](_0x2e7309);},'clear':()=>{function _0x23aeba(_0x29d6c3,_0xffe033){return _0x3441f8(_0xffe033,_0x29d6c3- -0x43);}const _0x27d5a7={};function _0x4359be(_0x45c265,_0x16a168){return _0x3441f8(_0x45c265,_0x16a168-0x103);}_0x27d5a7[_0x23aeba(0x3a0,0x352)]='clear',this['worker'][_0x23aeba(0x3a7,0x3c6)](_0x27d5a7);}},this[_0x2745fb(-0x19a,-0x103)][_0x3441f8(0x432,0x433)](this['options']);}}mars3d__namespace[_0x4bed4d(0x499,0x428)]['register'](_0x4bed4d(0x339,0x393),CanvasWindLayer),mars3d__namespace['layer']['CanvasWindLayer']=CanvasWindLayer,mars3d__namespace[_0x276d6c(0x1bb,0x187)]=CanvasWindField,mars3d__namespace[_0x4bed4d(0x46a,0x457)]=WindUtil,exports['CanvasWindField']=CanvasWindField,exports[_0x4bed4d(0x392,0x36e)]=CanvasWindLayer;function _0x276d6c(_0x3e0b14,_0x49d416){return _0x2bb5(_0x3e0b14-0xeb,_0x49d416);}exports[_0x276d6c(0x20b,0x193)]=WindLayer,exports['WindUtil']=WindUtil;const _0x302c90={};_0x302c90['value']=!![],Object[_0x4bed4d(0x3ae,0x43e)](exports,'__esModule',_0x302c90);
}));
