/**
 * Mars3D平台插件,支持气象 风向图 功能插件  mars3d-wind
 *
 * 版本信息：v3.8.7
 * 编译日期：2024-11-14 19:05
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-08-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-wind"] = {}, global.mars3d));
})(this, (function (exports, mars3d) { 
'use strict';(function(_0x197ce3,_0x3b58cb){function _0x268327(_0x1c13fb,_0x3d725c){return _0x3bee(_0x3d725c- -0x58,_0x1c13fb);}const _0x3bd6e2=_0x197ce3();function _0x5560cb(_0x30af18,_0x228c70){return _0x3bee(_0x30af18- -0xe3,_0x228c70);}while(!![]){try{const _0x1febec=-parseInt(_0x5560cb(0x7c,0x59))/0x1*(-parseInt(_0x5560cb(0x83,0x2b))/0x2)+parseInt(_0x5560cb(0x2c,-0x1c))/0x3+parseInt(_0x5560cb(0x40,0xa6))/0x4*(parseInt(_0x5560cb(-0xe,-0x89))/0x5)+-parseInt(_0x5560cb(0x12,0x8a))/0x6+-parseInt(_0x268327(0x1b4,0x141))/0x7*(-parseInt(_0x5560cb(0x25,0xa6))/0x8)+parseInt(_0x268327(0x14f,0x146))/0x9+-parseInt(_0x5560cb(0xf3,0x74))/0xa*(parseInt(_0x5560cb(0x3f,0x69))/0xb);if(_0x1febec===_0x3b58cb)break;else _0x3bd6e2['push'](_0x3bd6e2['shift']());}catch(_0x542e90){_0x3bd6e2['push'](_0x3bd6e2['shift']());}}}(_0x3452,0x7fa52));function _0x3452(){const _0xb02ae5=['nextTrailsColor','wheel','TextureMinificationFilter','array','clear','refreshParticles','width','Sampler','dynamic','fadeOpacity','destroy','getOptions','_colorRamp','windField','context','off','attributeLocations','getColorTexture','alt','green','bindEvent','Compute','#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0a\x0auniform\x20sampler2D\x20segmentsColorTexture;\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0a\x0auniform\x20sampler2D\x20currentTrailsColor;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0auniform\x20float\x20fadeOpacity;\x0a\x0aout\x20vec4\x20fragColor;\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20pointsColor\x20=\x20texture(segmentsColorTexture,\x20textureCoordinate);\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(currentTrailsColor,\x20textureCoordinate);\x0a\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0f\x20*\x20trailsColor)\x20/\x20255.0f;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0a\x0a\x20\x20float\x20pointsDepth\x20=\x20texture(segmentsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20if(pointsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20pointsColor;\x0a\x20\x20}\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20trailsColor;\x0a\x20\x20}\x0a\x20\x20gl_FragDepth\x20=\x20min(pointsDepth,\x20trailsDepth);\x0a}\x0a','drawingBufferWidth','TextureMagnificationFilter','Cartesian2','createSegmentsGeometry','data','value','worker','BoundingSphere','rows','UNSIGNED_BYTE','xmax','left','reverseY','Framebuffer','depthTest','lon','all','105vmnYfn','auto','levmax','framebuffer','RGBA','4329567IhTOPy','destroyObject','commandList','isDestroy','_createCanvas','mars3d-canvasWind','_map','vmax','beginPath','trails','_pointerEvents','udata','dropRateBump','getPixelSize','_canrefresh','createWindTextures','createRenderingPrimitives','createTexture','commandToExecute','frameRate','vmin','postProcessingPosition','UNSIGNED_INT','keys','register','canvas','particleSystem','_removedHook','currentTrails','defined','push','currentTrailsColor','updateViewerParameters','autoClear','_animateFrame','_onMapWhellEvent','ComputeCommand','_addedHook','floor','Cartesian3','TRIANGLES','#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20lines\x20drawing\x0ain\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0auniform\x20vec2\x20hRange;\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0a\x0auniform\x20sampler2D\x20previousParticlesPosition;\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0astruct\x20adjacentPoints\x20{\x0a\x20\x20vec4\x20previous;\x0a\x20\x20vec4\x20current;\x0a\x20\x20vec4\x20next;\x0a};\x0a\x0aout\x20float\x20heightNormalization;\x0aout\x20float\x20speedNormalization;\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20read\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x0a\x20\x20float\x20a\x20=\x206378137.0f;\x20//\x20Semi-major\x20axis\x0a\x20\x20float\x20b\x20=\x206356752.3142f;\x20//\x20Semi-minor\x20axis\x0a\x20\x20float\x20e2\x20=\x206.69437999014e-3f;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0f\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20float\x20h\x20=\x20particleHeight\x20+\x20lonLatLev.z;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0f);\x0a\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calculateProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0f,\x20360.0f)\x20-\x20180.0f;\x0a\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0f);\x0a\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calculateOffsetOnNormalDirection(vec4\x20pointA,\x20vec4\x20pointB,\x20float\x20offsetSign)\x20{\x0a\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0f);\x0a\x20\x20vec2\x20pointA_XY\x20=\x20(pointA.xy\x20/\x20pointA.w)\x20*\x20aspectVec2;\x0a\x20\x20vec2\x20pointB_XY\x20=\x20(pointB.xy\x20/\x20pointB.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0f;\x0a\x20\x20vec2\x20direction\x20=\x20normalize(pointB_XY\x20-\x20pointA_XY);\x0a\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0f,\x200.0f);\x0a\x20\x20return\x20offset;\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(speed.z\x20-\x20wSpeedRange.x)\x20/\x20(wSpeedRange.y\x20-\x20wSpeedRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20vec3\x20previousPosition\x20=\x20texture(previousParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20currentPosition\x20=\x20texture(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20nextPosition\x20=\x20texture(postProcessingPosition,\x20particleIndex).rgb;\x0a\x0a\x20\x20float\x20isAnyRandomPointUsed\x20=\x20texture(postProcessingPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(currentParticlesPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(previousParticlesPosition,\x20particleIndex).a;\x0a\x0a\x20\x20adjacentPoints\x20projectedCoordinates;\x0a\x20\x20if(isAnyRandomPointUsed\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20projectedCoordinates.previous;\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20projectedCoordinates.previous;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20calculateProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20calculateProjectedCoordinate(nextPosition);\x0a\x20\x20}\x0a\x0a\x20\x20int\x20pointToUse\x20=\x20int(normal.x);\x0a\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x20\x20vec4\x20offset\x20=\x20vec4(0.0f);\x0a\x20\x20\x20\x20//\x20render\x20lines\x20with\x20triangles\x20and\x20miter\x20joint\x0a\x20\x20\x20\x20//\x20read\x20https://blog.scottlogic.com/2019/11/18/drawing-lines-with-webgl.html\x20for\x20detail\x0a\x20\x20if(pointToUse\x20==\x20-1)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.previous,\x20projectedCoordinates.current,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.previous\x20+\x20offset;\x0a\x20\x20}\x20else\x20if(pointToUse\x20==\x201)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.current,\x20projectedCoordinates.next,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.next\x20+\x20offset;\x0a\x20\x20}\x0a\x0a\x20\x20heightNormalization\x20=\x20(currentPosition.z\x20-\x20hRange.x)\x20/\x20(hRange.y\x20-\x20hRange.x);\x0a\x0a\x20\x20speedNormalization\x20=\x20texture(particlesSpeed,\x20particleIndex).a;\x0a}\x0a','_updateIng','particlesTextures','visible','drawingBufferHeight','nextTrailsDepth','framebuffers','pow','createFramebuffer','scene','fixedHeight','_bilinearInterpolation','dropRate','setOptions','Rectangle','8870yEPhmJ','CanvasWindLayer','globe','getSpeed','options','reverse','addPrimitives','FLOAT','north','particlesComputing','particlesRendering','blending','commandType','BaseLayer','VertexArray','Cesium','getDirection','canvasWidth','_setOptionsHook','segmentsColor','colors','age','update','STATIC_DRAW','maximum','toGridXY','particles','primitives','shaderProgram','viewRectangleToLonLatRange','IDENTITY','canvasHeight','xmin','depthMask','PixelDatatype','pixelFormat','mod','cols','speed','rgb(206,255,255)','viewerParameters','_randomParticle','windTextures','vdata','vSpeedRange','25aDgSjh','mouse_move','hidden','maxAge','_updateIng2','computeViewRectangle','ymax','type','lev','once','canvasResize','getFullscreenQuad','resize','_onMouseMoveEvent','Draw','colorTable','removeAll','lng','random','PixelFormat','fromCache','fillRect','dimensions','mode','updatePosition','visibility','clampToLatitudeRange','show','particleHeight','persists','zIndex','ymin','2539122GqPUXP','uniformMap','maxParticles','Geometry','pointer-events','redraw','min','fromGeometry','geometry','tlat','defines','randomBetween','ZERO','PI_OVER_TWO','max','Ellipsoid','nextTrails','canrefresh','__proto__','371312bwKvyh','particlesTextureSize','lat','color','umax','textures','position','3072066roPwpC','EventType','GeometryAttribute','destroyParticlesTextures','height','#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x0a\x0auniform\x20sampler2D\x20H;\x20//\x20particles\x20height\x20textures\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0auniform\x20vec2\x20viewerLonRange;\x0auniform\x20vec2\x20viewerLatRange;\x0a\x0aconst\x20float\x20randomCoefficient\x20=\x200.1f;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0aconst\x20float\x20dropRate\x20=\x200.1f;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0aconst\x20float\x20dropRateBump\x20=\x200.1f;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0avec4\x20getTextureValue(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20vec4\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D);\x0a\x20\x20return\x20result;\x0a}\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898f,\x2078.233f,\x204375.85453f);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0f,\x201.0f);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0abool\x20particleNoSpeed(vec3\x20particle)\x20{\x0a\x20\x20vec4\x20speed\x20=\x20getTextureValue(particlesSpeed,\x20particle);\x0a\x20\x20return\x20speed.r\x20==\x200.0f\x20&&\x20speed.g\x20==\x200.0f;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0f);\x0a\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20float\x20height\x20=\x20getTextureValue(H,\x20vec3(randomLon,\x20randomLat,\x20lev)).r;\x0a\x0a\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20height);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20return\x20particle.y\x20<\x20viewerLatRange.x\x20||\x20particle.y\x20>\x20viewerLatRange.y\x20||\x20particle.x\x20<\x20viewerLonRange.x\x20||\x20particle.x\x20>\x20viewerLonRange.y;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20nextParticle\x20=\x20texture(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec4\x20nextSpeed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20float\x20speedNorm\x20=\x20nextSpeed.a;\x0a\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20speedNorm;\x0a\x0a\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20if(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(randomParticle,\x201.0f);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x0a}\x0a','_calcUV','sin','postMessage','colour','lineWidth','vertexShaderSource','container','enabled','viewport','fragmentShaderSource','addEventListener','rawRenderState','getUVByXY','23441HaNqdm','501320SADmDa','sources','ComponentDatatype','RGB','clearFramebuffers','DISABLE_GL_POSITION_LOG_DEPTH','WindUtil','fromCssColorString','camera','currentParticlesPosition','windData','clearCommand','_onMap_preRenderEvent','layer','pointerEvents','calculateSpeed','ColorRamp','WGS84','canvasContext','OPAQUE','applyViewerParameters','execute','particlesNumber','fromDegrees','sqrt','_maxAge','_onMouseDownEvent','getUVByPoint','speedFactor','TWO_PI','_onMouseUpEvent','setData','source','mouse_down','particlesSpeed','get','__esModule','lonRange','vertexArray','Pass','setGeometry','mouseUp','toDegrees','removeEventListener','ClearCommand','tlng','length','style','pixelSize','grid','0px','now','segments','latRange','pixelDatatype','getV','speedRate','ShaderSource','refreshTimer','Math','1uhNhxo','wSpeedRange','add','_speedRate','SceneMode','defineProperty','WindLayer','16546gpjKSD','_data','setDate','outputTexture','forEach','mouseMove','clientWidth','getOwnPropertyDescriptor','isInExtent','bind','default'];_0x3452=function(){return _0xb02ae5;};return _0x3452();}function _interopNamespace(_0x49d595){if(_0x49d595&&_0x49d595['__esModule'])return _0x49d595;var _0x196c26=Object['create'](null);_0x49d595&&Object['keys'](_0x49d595)[_0x29e705(0x4aa,0x52a)](function(_0x393b27){function _0x1042aa(_0x480d1b,_0x50089e){return _0x29e705(_0x480d1b-0xa,_0x50089e);}function _0x16254e(_0x4d2394,_0x489d6f){return _0x29e705(_0x4d2394- -0x1ca,_0x489d6f);}if(_0x393b27!=='default'){var _0x3760b5=Object[_0x16254e(0x2e3,0x334)](_0x49d595,_0x393b27);Object[_0x16254e(0x2da,0x32b)](_0x196c26,_0x393b27,_0x3760b5[_0x1042aa(0x490,0x410)]?_0x3760b5:{'enumerable':!![],'get':function(){return _0x49d595[_0x393b27];}});}});function _0x4f497a(_0x2c9ce7,_0xaff0ce){return _0x3bee(_0xaff0ce-0x1a9,_0x2c9ce7);}_0x196c26[_0x29e705(0x4b0,0x496)]=_0x49d595;function _0x29e705(_0x2eb056,_0x437baa){return _0x3bee(_0x2eb056-0x340,_0x437baa);}return _0x196c26;}var mars3d__namespace=_interopNamespace(mars3d);function _0x3bee(_0x4ad850,_0x38e37f){const _0x34524c=_0x3452();return _0x3bee=function(_0x3bee93,_0x42ae94){_0x3bee93=_0x3bee93-0xc2;let _0x89b168=_0x34524c[_0x3bee93];return _0x89b168;},_0x3bee(_0x4ad850,_0x38e37f);}const Cesium$7=mars3d__namespace['Cesium'];function getU(_0x204241,_0x5f2a99){const _0x4c9d2b=_0x204241*Math['cos'](Cesium$7['Math']['toRadians'](_0x5f2a99));return _0x4c9d2b;}function getV(_0x1016aa,_0x4292f0){function _0x2dad3d(_0x123b2a,_0x2a1aa0){return _0x3bee(_0x2a1aa0- -0x24c,_0x123b2a);}const _0xebc51a=_0x1016aa*Math[_0x2dad3d(-0x1b4,-0x136)](Cesium$7['Math']['toRadians'](_0x4292f0));return _0xebc51a;}function getSpeed(_0xe12402,_0x57cc0a){function _0x30f185(_0x3f8e26,_0x28e3ae){return _0x3bee(_0x3f8e26-0xe5,_0x28e3ae);}function _0x6c0bf3(_0x1e4664,_0x19dcab){return _0x3bee(_0x1e4664- -0x198,_0x19dcab);}const _0x5c26c9=Math[_0x30f185(0x220,0x26d)](Math[_0x6c0bf3(0x36,0x74)](_0xe12402,0x2)+Math[_0x6c0bf3(0x36,0xb)](_0x57cc0a,0x2));return _0x5c26c9;}function getDirection(_0x13a5fd,_0x3d10bc){let _0x412457=Cesium$7['Math']['toDegrees'](Math['atan2'](_0x3d10bc,_0x13a5fd));return _0x412457+=_0x412457<0x0?0x168:0x0,_0x412457;}const _0x41a1b2={};_0x41a1b2[_0x4f740b(0x1d0,0x203)]=null,_0x41a1b2['getU']=getU,_0x41a1b2[_0x4f740b(0x223,0x2a5)]=getV,_0x41a1b2[_0x37eccb(-0xd5,-0x116)]=getSpeed,_0x41a1b2[_0x37eccb(-0xc8,-0x78)]=getDirection;var WindUtil=_0x41a1b2;const Cesium$6=mars3d__namespace['Cesium'];class CustomPrimitive{constructor(_0x230d8e){this['commandType']=_0x230d8e[_0x4305bd(-0xb0,-0xec)],this['geometry']=_0x230d8e['geometry'],this[_0x4305bd(-0x111,-0x81)]=_0x230d8e[_0x5482a(0x9d,0xb5)],this['primitiveType']=_0x230d8e['primitiveType'],this['uniformMap']=_0x230d8e['uniformMap'],this['vertexShaderSource']=_0x230d8e[_0x4305bd(-0x178,-0xef)];function _0x5482a(_0x36c9ac,_0xf0fd61){return _0x37eccb(_0xf0fd61-0x1e2,_0x36c9ac);}function _0x4305bd(_0x3eebe3,_0x596e03){return _0x37eccb(_0x3eebe3-0x1c,_0x596e03);}this['fragmentShaderSource']=_0x230d8e['fragmentShaderSource'],this['rawRenderState']=_0x230d8e['rawRenderState'],this['framebuffer']=_0x230d8e[_0x4305bd(-0xf6,-0xd2)],this[_0x4305bd(-0x129,-0xc7)]=_0x230d8e[_0x4305bd(-0x129,-0x12e)],this['autoClear']=_0x230d8e[_0x5482a(0xb0,0xf3)]??![],this['preExecute']=_0x230d8e['preExecute'],this[_0x5482a(0x29,0x24)]=!![],this['commandToExecute']=undefined,this['clearCommand']=undefined,this['autoClear']&&(this['clearCommand']=new Cesium$6[(_0x5482a(0xb5,0x83))]({'color':new Cesium$6['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x5482a(0xf2,0xd0)],'pass':Cesium$6['Pass']['OPAQUE']}));}['createCommand'](_0x27c1df){function _0x264371(_0x48f6cc,_0x4982c4){return _0x37eccb(_0x48f6cc-0x200,_0x4982c4);}function _0x764471(_0x20f41b,_0x45699f){return _0x4f740b(_0x45699f-0x236,_0x20f41b);}switch(this[_0x764471(0x454,0x4e1)]){case _0x764471(0x40f,0x3e2):{const _0x3042a2=Cesium$6['VertexArray']['fromGeometry']({'context':_0x27c1df,'geometry':this['geometry'],'attributeLocations':this['attributeLocations'],'bufferUsage':Cesium$6['BufferUsage'][_0x764471(0x512,0x4ec)]}),_0x3de087={};_0x3de087[_0x764471(0x497,0x47e)]=_0x27c1df,_0x3de087['attributeLocations']=this['attributeLocations'],_0x3de087['vertexShaderSource']=this['vertexShaderSource'],_0x3de087['fragmentShaderSource']=this[_0x764471(0x397,0x41d)];const _0xa0ec4f=Cesium$6['ShaderProgram']['fromCache'](_0x3de087),_0x159380=Cesium$6['RenderState'][_0x264371(0x3b,-0x3d)](this[_0x764471(0x483,0x41f)]);return new Cesium$6['DrawCommand']({'owner':this,'vertexArray':_0x3042a2,'primitiveType':this['primitiveType'],'uniformMap':this[_0x764471(0x47b,0x3f5)],'modelMatrix':Cesium$6['Matrix4'][_0x264371(0x18,-0x5d)],'shaderProgram':_0xa0ec4f,'framebuffer':this[_0x764471(0x4d1,0x49b)],'renderState':_0x159380,'pass':Cesium$6[_0x764471(0x3f2,0x449)][_0x764471(0x449,0x435)]});}case _0x764471(0x401,0x485):{const _0x35b011={};return _0x35b011['owner']=this,_0x35b011['fragmentShaderSource']=this[_0x264371(0x70,0xad)],_0x35b011[_0x264371(0x48,0x12)]=this[_0x764471(0x389,0x3f5)],_0x35b011[_0x764471(0x48d,0x468)]=this[_0x764471(0x467,0x468)],_0x35b011[_0x764471(0x3b7,0x3f1)]=!![],new Cesium$6[(_0x264371(0x114,0xe6))](_0x35b011);}}}[_0x37eccb(-0x163,-0x1da)](_0x5e9e86,_0x52f7a5){function _0x5d9dbd(_0x1517cd,_0x14fa13){return _0x37eccb(_0x1517cd-0x252,_0x14fa13);}function _0x1c86d6(_0x9599bb,_0x3cb368){return _0x4f740b(_0x9599bb- -0x1f0,_0x3cb368);}this['geometry']=_0x52f7a5;const _0xdb1ef3=Cesium$6[_0x1c86d6(0xbd,0x115)][_0x5d9dbd(0xa0,0x13)]({'context':_0x5e9e86,'geometry':this['geometry'],'attributeLocations':this[_0x1c86d6(0x5a,0xb9)],'bufferUsage':Cesium$6['BufferUsage']['STATIC_DRAW']});this[_0x5d9dbd(0x154,0x104)]['vertexArray']=_0xdb1ef3;}['update'](_0x100440){if(!this['show'])return;if(_0x100440['mode']!==Cesium$6['SceneMode']['SCENE3D'])return;function _0x233d9c(_0x531e19,_0x586dd8){return _0x4f740b(_0x586dd8-0x173,_0x531e19);}!Cesium$6['defined'](this['commandToExecute'])&&(this['commandToExecute']=this['createCommand'](_0x100440['context']));function _0x35ffc7(_0x23c637,_0x2941be){return _0x37eccb(_0x23c637-0x626,_0x2941be);}Cesium$6['defined'](this['preExecute'])&&this['preExecute'](),Cesium$6['defined'](this['clearCommand'])&&_0x100440['commandList'][_0x233d9c(0x47b,0x3f8)](this[_0x35ffc7(0x4a6,0x41f)]),_0x100440[_0x233d9c(0x40e,0x3dc)]['push'](this['commandToExecute']);}['isDestroyed'](){return![];}[_0x37eccb(-0x133,-0x18c)](){if(this[_0x47b83d(-0xe1,-0x14d)]){var _0x96e865,_0x347553;(_0x96e865=this[_0x47b83d(-0xe1,-0x135)])!==null&&_0x96e865!==void 0x0&&_0x96e865['vertexArray']&&this['clearCommand'][_0x7eebfe(0x4f1,0x55e)]['destroy'](),(_0x347553=this['clearCommand'])!==null&&_0x347553!==void 0x0&&_0x347553[_0x7eebfe(0x46c,0x4cb)]&&this['clearCommand'][_0x47b83d(-0x14b,-0x1d6)][_0x7eebfe(0x523,0x5a6)](),delete this['clearCommand'];}this[_0x7eebfe(0x558,0x58d)]&&(this[_0x7eebfe(0x558,0x587)]['vertexArray']&&this['commandToExecute']['vertexArray']['destroy'](),this['commandToExecute']['shaderProgram']&&this[_0x7eebfe(0x558,0x599)][_0x7eebfe(0x46c,0x4d7)][_0x47b83d(-0x94,-0xcc)](),delete this[_0x7eebfe(0x558,0x537)]);function _0x47b83d(_0x24fbec,_0x32b370){return _0x4f740b(_0x24fbec- -0x2d8,_0x32b370);}function _0x7eebfe(_0x38aa9e,_0x4c161b){return _0x4f740b(_0x38aa9e-0x2df,_0x4c161b);}return Cesium$6[_0x7eebfe(0x547,0x54d)](this);}}const Cesium$5=mars3d__namespace['Cesium'],Util=(function(){const _0x151fc3=function(){function _0x422f73(_0x2cb905,_0x205b92){return _0x3bee(_0x205b92-0x38e,_0x2cb905);}const _0xe93417=new Cesium$5['Geometry']({'attributes':new Cesium$5['GeometryAttributes']({'position':new Cesium$5[(_0x422f73(0x518,0x49f))]({'componentDatatype':Cesium$5['ComponentDatatype']['FLOAT'],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new Cesium$5['GeometryAttribute']({'componentDatatype':Cesium$5[_0x245b8d(-0xb,0x4a)][_0x422f73(0x4f5,0x56b)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});function _0x245b8d(_0x50a6e4,_0x309ebc){return _0x3bee(_0x50a6e4- -0x130,_0x309ebc);}return _0xe93417;},_0x3845a2=function(_0x5883df,_0x2712c7){function _0x22cfec(_0x29ce1a,_0x491743){return _0x3bee(_0x491743-0x11c,_0x29ce1a);}if(Cesium$5[_0x589fbd(0x1a4,0x22c)](_0x2712c7)){const _0x7b0b0f={};_0x7b0b0f['arrayBufferView']=_0x2712c7,_0x5883df[_0x22cfec(0x2f6,0x25f)]=_0x7b0b0f;}const _0x163c93=new Cesium$5['Texture'](_0x5883df);function _0x589fbd(_0x21fa5d,_0x3b3bfd){return _0x3bee(_0x3b3bfd-0x71,_0x21fa5d);}return _0x163c93;};function _0x17d5cf(_0x1bcbcc,_0x40c388){return _0x4f740b(_0x1bcbcc-0x9,_0x40c388);}const _0x16aba8=function(_0x31260d,_0x1f8bea,_0x204141){const _0x3c8ac0={};_0x3c8ac0[_0x2a4e6b(0x2ba,0x313)]=_0x31260d,_0x3c8ac0['colorTextures']=[_0x1f8bea];function _0x2a4e6b(_0x397b10,_0x40550e){return _0x3bee(_0x397b10-0x13b,_0x40550e);}_0x3c8ac0['depthTexture']=_0x204141;const _0x413dcd=new Cesium$5[(_0x2a4e6b(0x2d0,0x32b))](_0x3c8ac0);function _0x380a37(_0x2e8f18,_0x1b7953){return _0x3bee(_0x1b7953- -0x32f,_0x2e8f18);}return _0x413dcd;},_0x2cc48e=function(_0x174b61){const _0x47f4dc=!![],_0x3a1e94=![];function _0x3877e3(_0x231769,_0xa5b9ce){return _0x3bee(_0x231769- -0x396,_0xa5b9ce);}const _0x5016d1={};_0x5016d1[_0x2647c2(0x9b,0xea)]=_0x174b61[_0x3877e3(-0x279,-0x2c2)],_0x5016d1['depthTest']=_0x174b61[_0x2647c2(0x114,0xbe)];function _0x2647c2(_0x2d58b7,_0x53b297){return _0x3bee(_0x2d58b7- -0x82,_0x53b297);}_0x5016d1[_0x3877e3(-0x2cd,-0x351)]=_0x174b61[_0x2647c2(0x47,0x5c)],_0x5016d1[_0x3877e3(-0x1b5,-0x202)]=_0x174b61[_0x3877e3(-0x1b5,-0x1f5)];const _0x15a8ef=_0x5016d1,_0x59b9d6=Cesium$5['Appearance']['getDefaultRenderState'](_0x47f4dc,_0x3a1e94,_0x15a8ef);return _0x59b9d6;},_0x4b5789=function(_0x38a3b4){function _0x17a97f(_0x3152ae,_0x118735){return _0x3bee(_0x118735- -0x3dc,_0x3152ae);}const _0x1addb4={},_0x16c383=Cesium$5[_0x590bb9(-0x94,-0x3)]['mod'](_0x38a3b4['west'],Cesium$5['Math'][_0x17a97f(-0x2ec,-0x29c)]),_0x1220d8=Cesium$5[_0x590bb9(-0x94,-0x59)][_0x590bb9(-0x126,-0xb4)](_0x38a3b4['east'],Cesium$5['Math'][_0x17a97f(-0x21b,-0x29c)]),_0x32c7e2=_0x38a3b4['width'];let _0x51a7ec,_0x5579a8;_0x32c7e2>Cesium$5['Math']['THREE_PI_OVER_TWO']?(_0x51a7ec=0x0,_0x5579a8=Cesium$5[_0x590bb9(-0x94,-0xd4)]['TWO_PI']):_0x1220d8-_0x16c383<_0x32c7e2?(_0x51a7ec=_0x16c383,_0x5579a8=_0x16c383+_0x32c7e2):(_0x51a7ec=_0x16c383,_0x5579a8=_0x1220d8);_0x1addb4['lon']={'min':Cesium$5['Math']['toDegrees'](_0x51a7ec),'max':Cesium$5[_0x590bb9(-0x94,-0x3d)]['toDegrees'](_0x5579a8)};const _0x328088=_0x38a3b4['south'],_0x4974cd=_0x38a3b4[_0x17a97f(-0x17f,-0x1fe)],_0x2564f9=_0x38a3b4['height'],_0x4fd690=_0x2564f9>Cesium$5['Math']['PI']/0xc?_0x2564f9/0x2:0x0;let _0x44d39e=Cesium$5[_0x590bb9(-0x94,-0x32)][_0x17a97f(-0x2d8,-0x2ed)](_0x328088-_0x4fd690),_0x2c1e23=Cesium$5[_0x17a97f(-0x21d,-0x27e)]['clampToLatitudeRange'](_0x4974cd+_0x4fd690);_0x44d39e<-Cesium$5['Math']['PI_OVER_THREE']&&(_0x44d39e=-Cesium$5[_0x17a97f(-0x1f6,-0x27e)]['PI_OVER_TWO']);function _0x590bb9(_0xb8df6c,_0x47ad36){return _0x3bee(_0xb8df6c- -0x1f2,_0x47ad36);}return _0x2c1e23>Cesium$5['Math']['PI_OVER_THREE']&&(_0x2c1e23=Cesium$5['Math'][_0x17a97f(-0x309,-0x2da)]),_0x1addb4[_0x590bb9(-0xe8,-0x129)]={'min':Cesium$5['Math']['toDegrees'](_0x44d39e),'max':Cesium$5['Math'][_0x17a97f(-0x2c1,-0x28f)](_0x2c1e23)},_0x1addb4;},_0x5a4623={};_0x5a4623[_0x105b49(-0x3b,-0x80)]=_0x151fc3,_0x5a4623[_0x105b49(0x94,0x85)]=_0x3845a2,_0x5a4623[_0x105b49(0xb4,0xd5)]=_0x16aba8,_0x5a4623['createRawRenderState']=_0x2cc48e;function _0x105b49(_0x26e55e,_0x23747e){return _0x37eccb(_0x26e55e-0x193,_0x23747e);}return _0x5a4623[_0x105b49(-0x56,-0x54)]=_0x4b5789,_0x5a4623;}());var fullscreenVert='#version\x20300\x20es\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec2\x20st;\x0a\x0aout\x20vec2\x20textureCoordinate;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20textureCoordinate\x20=\x20st;\x0a\x20\x20gl_Position\x20=\x20vec4(position,\x201.0f);\x0a}\x0a',screenDrawFrag='#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20trailsColorTexture;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(trailsColorTexture,\x20textureCoordinate);\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20trailsColor;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a',segmentDrawFrag='#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20colorTable;\x0auniform\x20bool\x20colour;\x0a\x0ain\x20float\x20heightNormalization;\x0ain\x20float\x20speedNormalization;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20const\x20float\x20zero\x20=\x200.0f;\x0a\x20\x20if(speedNormalization\x20>\x20zero)\x20{\x0a\x20\x20\x20\x20if(colour)\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(heightNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(speedNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(zero);\x0a\x20\x20}\x0a}\x0a',segmentDrawVert=_0x4f740b(0x290,0x1ff),trailDrawFrag=_0x4f740b(0x250,0x200);const Cesium$4=mars3d__namespace[_0x4f740b(0x2ae,0x259)];class ParticlesRendering{constructor(_0x528a7a,_0x3a853a,_0x238e91,_0x5cafae,_0x4dcf13){this['colour']=_0x238e91['colors']==='height',this['createRenderingTextures'](_0x528a7a,_0x3a853a,_0x238e91[_0xbdd994(0x6a,0x9e)]),this['createRenderingFramebuffers'](_0x528a7a);function _0xbdd994(_0x126795,_0x104e07){return _0x4f740b(_0x126795- -0x249,_0x104e07);}this['createRenderingPrimitives'](_0x528a7a,_0x3a853a,_0x238e91,_0x5cafae,_0x4dcf13);}['createRenderingTextures'](_0x533d5a,_0x2d921a,_0x4b77cd){const _0x4052a5={};_0x4052a5['context']=_0x533d5a,_0x4052a5[_0xd5e8d5(0x20e,0x255)]=_0x533d5a['drawingBufferWidth'],_0x4052a5[_0x45cb0d(0x1af,0x1da)]=_0x533d5a['drawingBufferHeight'],_0x4052a5['pixelFormat']=Cesium$4['PixelFormat']['RGBA'],_0x4052a5[_0xd5e8d5(0x297,0x237)]=Cesium$4['PixelDatatype'][_0xd5e8d5(0x2a1,0x26f)];const _0x314ba2=_0x4052a5,_0x3c66d6={};_0x3c66d6[_0xd5e8d5(0x1f7,0x25d)]=_0x533d5a,_0x3c66d6[_0x45cb0d(0x1ca,0x23e)]=_0x533d5a[_0x45cb0d(0x235,0x24f)],_0x3c66d6['height']=_0x533d5a['drawingBufferHeight'],_0x3c66d6[_0xd5e8d5(0x207,0x1a9)]=Cesium$4['PixelFormat']['DEPTH_COMPONENT'],_0x3c66d6['pixelDatatype']=Cesium$4['PixelDatatype'][_0x45cb0d(0x30c,0x27b)];const _0x318a53=_0x3c66d6;function _0xd5e8d5(_0x2c2ecd,_0xa68d05){return _0x4f740b(_0xa68d05-0x15,_0x2c2ecd);}const _0x41de61=_0x4b77cd[_0xd5e8d5(0x1bf,0x22f)];function _0x45cb0d(_0x45971d,_0x9df971){return _0x4f740b(_0x9df971- -0x2,_0x45971d);}const _0x7eb91b=new Float32Array(_0x41de61*0x3);for(let _0x1447f6=0x0;_0x1447f6<_0x41de61;_0x1447f6++){const _0x50810c=Cesium$4['Color'][_0xd5e8d5(0x296,0x208)](_0x4b77cd[_0x1447f6]);_0x7eb91b[0x3*_0x1447f6]=_0x50810c['red'],_0x7eb91b[0x3*_0x1447f6+0x1]=_0x50810c[_0x45cb0d(0x252,0x24b)],_0x7eb91b[0x3*_0x1447f6+0x2]=_0x50810c['blue'];}const _0x25d86c={'context':_0x533d5a,'width':_0x41de61,'height':0x1,'pixelFormat':Cesium$4['PixelFormat'][_0xd5e8d5(0x21b,0x204)],'pixelDatatype':Cesium$4['PixelDatatype'][_0xd5e8d5(0x23f,0x2bb)],'sampler':new Cesium$4['Sampler']({'minificationFilter':Cesium$4[_0x45cb0d(0x243,0x23a)]['LINEAR'],'magnificationFilter':Cesium$4[_0xd5e8d5(0x2f6,0x267)]['LINEAR']})};this['textures']={'segmentsColor':Util['createTexture'](_0x314ba2),'segmentsDepth':Util['createTexture'](_0x318a53),'currentTrailsColor':Util['createTexture'](_0x314ba2),'currentTrailsDepth':Util[_0xd5e8d5(0x224,0x28d)](_0x318a53),'nextTrailsColor':Util['createTexture'](_0x314ba2),'nextTrailsDepth':Util[_0xd5e8d5(0x2b5,0x28d)](_0x318a53),'colorTable':Util[_0xd5e8d5(0x25a,0x28d)](_0x25d86c,_0x7eb91b)};}['createRenderingFramebuffers'](_0x24b536){function _0x231201(_0x2ced98,_0x43959f){return _0x4f740b(_0x43959f- -0x27d,_0x2ced98);}function _0xee34bb(_0x21b055,_0xde4893){return _0x37eccb(_0xde4893-0x5e8,_0x21b055);}this['framebuffers']={'segments':Util['createFramebuffer'](_0x24b536,this['textures']['segmentsColor'],this[_0xee34bb(0x400,0x447)]['segmentsDepth']),'currentTrails':Util['createFramebuffer'](_0x24b536,this['textures'][_0x231201(0x7e,0x9)],this[_0xee34bb(0x440,0x447)]['currentTrailsDepth']),'nextTrails':Util[_0x231201(-0x3,0x1b)](_0x24b536,this[_0x231201(-0x65,-0xa7)][_0xee34bb(0x536,0x4ab)],this[_0xee34bb(0x460,0x447)][_0x231201(-0x28,0x18)])};}[_0x4f740b(0x254,0x200)](_0x4290af){const _0x2cc421=0x4;let _0x2b670e=[];for(let _0x2d2eac=0x0;_0x2d2eac<_0x4290af['particlesTextureSize'];_0x2d2eac++){for(let _0x143511=0x0;_0x143511<_0x4290af['particlesTextureSize'];_0x143511++){for(let _0x402bb6=0x0;_0x402bb6<_0x2cc421;_0x402bb6++){_0x2b670e[_0x2b415b(0x559,0x57f)](_0x2d2eac/_0x4290af[_0x2b415b(0x436,0x4cc)]),_0x2b670e['push'](_0x143511/_0x4290af['particlesTextureSize']);}}}function _0x134162(_0x1d128e,_0x3b4ead){return _0x4f740b(_0x1d128e-0x294,_0x3b4ead);}_0x2b670e=new Float32Array(_0x2b670e);let _0x462dd9=[];for(let _0x326f42=0x0;_0x326f42<_0x4290af['maxParticles'];_0x326f42++){_0x462dd9[_0x134162(0x519,0x4a5)](-0x1,-0x1,0x0,-0x1,0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0);}_0x462dd9=new Float32Array(_0x462dd9);let _0x1d29cf=[];for(let _0x4672cd=0x0,_0x2f173e=0x0;_0x4672cd<_0x4290af['maxParticles'];_0x4672cd++){_0x1d29cf['push'](_0x2f173e+0x0,_0x2f173e+0x1,_0x2f173e+0x2,_0x2f173e+0x2,_0x2f173e+0x1,_0x2f173e+0x3),_0x2f173e+=_0x2cc421;}_0x1d29cf=new Uint32Array(_0x1d29cf);function _0x2b415b(_0x4fee8a,_0x13e6e5){return _0x37eccb(_0x13e6e5-0x671,_0x4fee8a);}const _0x5f40b6=new Cesium$4[(_0x2b415b(0x522,0x4bb))]({'attributes':new Cesium$4['GeometryAttributes']({'st':new Cesium$4['GeometryAttribute']({'componentDatatype':Cesium$4['ComponentDatatype'][_0x2b415b(0x562,0x5a0)],'componentsPerAttribute':0x2,'values':_0x2b670e}),'normal':new Cesium$4['GeometryAttribute']({'componentDatatype':Cesium$4[_0x2b415b(0x4e8,0x4e8)]['FLOAT'],'componentsPerAttribute':0x3,'values':_0x462dd9})}),'indices':_0x1d29cf});return _0x5f40b6;}[_0x4f740b(0x277,0x2aa)](_0x1892f2,_0x4fd2ee,_0x2cda7a,_0x3a3725,_0x482e9d){const _0x14134e=this,_0x25180b={};_0x25180b['st']=0x0,_0x25180b['normal']=0x1;const _0x2dae2c={};_0x2dae2c[_0x317593(0x244,0x21e)]=[segmentDrawVert];function _0x38da1a(_0x5c8a79,_0x7c3719){return _0x4f740b(_0x7c3719- -0x4a0,_0x5c8a79);}const _0x2e4adc={};_0x2e4adc[_0x38da1a(-0x30b,-0x2b3)]=[segmentDrawFrag];const _0x2ccc98={};_0x2ccc98['enabled']=!![];const _0x149e9c={};_0x149e9c[_0x38da1a(-0x2ce,-0x2ba)]=undefined,_0x149e9c['depthTest']=_0x2ccc98,_0x149e9c['depthMask']=!![];const _0x559909={};_0x559909['position']=0x0,_0x559909['st']=0x1;const _0x558844={};_0x558844['defines']=[_0x317593(0x248,0x1fa)],_0x558844['sources']=[fullscreenVert];const _0x588dbc={};_0x588dbc['defines']=['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],_0x588dbc[_0x38da1a(-0x257,-0x2b3)]=[trailDrawFrag];function _0x317593(_0x1c06f0,_0x2972b8){return _0x4f740b(_0x1c06f0-0x57,_0x2972b8);}const _0x496216={};_0x496216[_0x38da1a(-0x260,-0x2c9)]=0x0,_0x496216['st']=0x1;const _0x5bb25f={};_0x5bb25f[_0x38da1a(-0x2d8,-0x2d8)]=[_0x38da1a(-0x2ab,-0x2af)],_0x5bb25f[_0x38da1a(-0x2ab,-0x2b3)]=[fullscreenVert];const _0x3f374f={};_0x3f374f[_0x38da1a(-0x30e,-0x2d8)]=['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],_0x3f374f[_0x317593(0x244,0x1e7)]=[screenDrawFrag];const _0x25a33c={};_0x25a33c[_0x38da1a(-0x27b,-0x2bb)]=![];const _0x21a76c={};_0x21a76c[_0x317593(0x23c,0x1cb)]=!![],this['primitives']={'segments':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x25180b,'geometry':this[_0x38da1a(-0x26f,-0x24c)](_0x2cda7a),'primitiveType':Cesium$4['PrimitiveType'][_0x317593(0x2e6,0x297)],'uniformMap':{'previousParticlesPosition':function(){return _0x482e9d['particlesTextures']['previousParticlesPosition'];},'currentParticlesPosition':function(){function _0x4b084c(_0x1a407a,_0x13f6de){return _0x317593(_0x1a407a-0x258,_0x13f6de);}return _0x482e9d['particlesTextures'][_0x4b084c(0x4a4,0x4f5)];},'postProcessingPosition':function(){function _0x5a54fb(_0x49a0e2,_0xf27bc3){return _0x38da1a(_0x49a0e2,_0xf27bc3-0x2ae);}return _0x482e9d['particlesTextures'][_0x5a54fb(0x4b,0x8a)];},'particlesSpeed':function(){return _0x482e9d['particlesTextures']['particlesSpeed'];},'colorTable':function(){function _0x30c737(_0x32167c,_0x6536a2){return _0x317593(_0x32167c- -0x2a6,_0x6536a2);}return _0x14134e['textures'][_0x30c737(-0xa2,-0xe3)];},'aspect':function(){function _0x1b78bc(_0x3c7c65,_0x29a05f){return _0x317593(_0x3c7c65- -0x14,_0x29a05f);}return _0x1892f2[_0x1b78bc(0x294,0x24b)]/_0x1892f2['drawingBufferHeight'];},'H':function(){return _0x4fd2ee['H']['array'];},'hRange':function(){function _0x359eed(_0x1638ab,_0x11a21c){return _0x38da1a(_0x11a21c,_0x1638ab-0x4c7);}return new Cesium$4['Cartesian2'](_0x4fd2ee['H'][_0x359eed(0x1eb,0x1c6)],_0x4fd2ee['H']['max']);},'uSpeedRange':function(){function _0x145e5d(_0x3fb06a,_0x2ec050){return _0x317593(_0x2ec050- -0x464,_0x3fb06a);}function _0x2be496(_0x39b0ad,_0x1abd02){return _0x38da1a(_0x39b0ad,_0x1abd02-0x754);}return new Cesium$4[(_0x2be496(0x4ca,0x507))](_0x4fd2ee['U'][_0x145e5d(-0x2aa,-0x249)],_0x4fd2ee['U']['max']);},'vSpeedRange':function(){function _0x30e19c(_0x50b513,_0x3b7148){return _0x38da1a(_0x50b513,_0x3b7148-0x57d);}return new Cesium$4['Cartesian2'](_0x4fd2ee['V']['min'],_0x4fd2ee['V'][_0x30e19c(0x32d,0x2a9)]);},'wSpeedRange':function(){function _0x26f6fe(_0x3e71fc,_0x3c1b2e){return _0x38da1a(_0x3c1b2e,_0x3e71fc-0x1ce);}function _0x487d71(_0x148631,_0x16d678){return _0x38da1a(_0x16d678,_0x148631-0x74e);}return new Cesium$4[(_0x487d71(0x501,0x590))](_0x4fd2ee['W']['min'],_0x4fd2ee['W'][_0x487d71(0x47a,0x401)]);},'pixelSize':function(){return _0x3a3725['pixelSize'];},'lineWidth':function(){function _0x222461(_0xfbe5c5,_0x13f63b){return _0x38da1a(_0xfbe5c5,_0x13f63b-0x695);}return _0x2cda7a[_0x222461(0x3f0,0x3d7)];},'particleHeight':function(){function _0xe5fd36(_0xc99874,_0x187c85){return _0x38da1a(_0x187c85,_0xc99874-0x4a0);}return _0x2cda7a[_0xe5fd36(0x1ba,0x218)];},'colour':function(){function _0x2ad09c(_0x4bdb01,_0x1907ba){return _0x317593(_0x4bdb01- -0x309,_0x1907ba);}return _0x14134e[_0x2ad09c(-0xd1,-0x165)];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0x2dae2c),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x2e4adc),'rawRenderState':Util['createRawRenderState'](_0x149e9c),'framebuffer':this['framebuffers']['segments'],'autoClear':!![]}),'trails':new CustomPrimitive({'commandType':_0x317593(0x203,0x23c),'attributeLocations':_0x559909,'geometry':Util[_0x38da1a(-0x26b,-0x2f7)](),'primitiveType':Cesium$4['PrimitiveType']['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){function _0xa02705(_0x53945b,_0xb86e38){return _0x317593(_0x53945b- -0xbe,_0xb86e38);}return _0x14134e['textures'][_0xa02705(0x24b,0x295)];},'segmentsDepthTexture':function(){return _0x14134e['textures']['segmentsDepth'];},'currentTrailsColor':function(){function _0xd0a831(_0x5bc5bf,_0x3aab04){return _0x38da1a(_0x5bc5bf,_0x3aab04-0x2e4);}return _0x14134e['framebuffers']['currentTrails'][_0xd0a831(0x4d,0x8f)](0x0);},'trailsDepthTexture':function(){function _0x4a5d09(_0x2c367e,_0x45d203){return _0x38da1a(_0x2c367e,_0x45d203-0x3bb);}return _0x14134e['framebuffers'][_0x4a5d09(0x187,0x19e)]['depthTexture'];},'fadeOpacity':function(){return _0x2cda7a['fadeOpacity'];}},'vertexShaderSource':new Cesium$4[(_0x317593(0x27c,0x25e))](_0x558844),'fragmentShaderSource':new Cesium$4[(_0x317593(0x27c,0x2c0))](_0x588dbc),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':{'enabled':!![],'func':Cesium$4['DepthFunction']['ALWAYS']},'depthMask':!![]}),'framebuffer':this['framebuffers']['nextTrails'],'autoClear':!![],'preExecute':function(){if(_0x2cda7a[_0x130120(0x2c0,0x32b)]){const _0x54a1d5=_0x14134e['framebuffers']['currentTrails'];_0x14134e[_0x130120(0x2eb,0x37f)]['currentTrails']=_0x14134e['framebuffers']['nextTrails'],_0x14134e[_0x3c2a79(0x51a,0x4e8)][_0x130120(0x2f5,0x2b7)]=_0x54a1d5;}function _0x130120(_0x2a756b,_0x5143c7){return _0x38da1a(_0x2a756b,_0x5143c7-0x589);}function _0x3c2a79(_0x220bf9,_0x3778ea){return _0x38da1a(_0x220bf9,_0x3778ea-0x6f2);}_0x14134e['primitives']['trails'][_0x130120(0x3d4,0x362)][_0x130120(0x3ce,0x34e)]=_0x14134e['framebuffers']['nextTrails'],_0x14134e['primitives'][_0x3c2a79(0x4a0,0x4c2)]['clearCommand']['framebuffer']=_0x14134e['framebuffers'][_0x3c2a79(0x401,0x420)];}}),'screen':new CustomPrimitive({'commandType':_0x38da1a(-0x303,-0x2f4),'attributeLocations':_0x496216,'geometry':Util['getFullscreenQuad'](),'primitiveType':Cesium$4['PrimitiveType']['TRIANGLES'],'uniformMap':{'trailsColorTexture':function(){function _0x2372b0(_0x55498a,_0x487558){return _0x317593(_0x487558- -0x11a,_0x55498a);}return _0x14134e[_0x2372b0(0x1a4,0x1d3)]['nextTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){return _0x14134e['framebuffers']['nextTrails']['depthTexture'];}},'vertexShaderSource':new Cesium$4[(_0x317593(0x27c,0x2eb))](_0x5bb25f),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x3f374f),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':_0x25a33c,'depthMask':!![],'blending':_0x21a76c}),'framebuffer':undefined})};}}var CalculateSpeedShader='#version\x20300\x20es\x0a\x0a//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0auniform\x20sampler2D\x20W;\x20//\x20upward\x20wind\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0auniform\x20float\x20speedScaleFactor;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20//\x20map\x20the\x20z-axis\x20value\x20to\x20the\x20nearest\x20bit\x20plane\x20to\x20ensure\x20that\x20the\x20result\x20is\x20an\x20integer\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205,\x207,\x208,\x209],\x20width\x20=\x202,\x20height\x20=\x202,\x20level\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x206\x207\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x202\x203\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWindComponent(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20float\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D).r;\x0a\x20\x20return\x20result;\x0a}\x0a\x0afloat\x20interpolateTexture(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20float\x20lon0\x20=\x20floor(lon\x20/\x20interval.x)\x20*\x20interval.x;\x0a\x20\x20float\x20lon1\x20=\x20lon0\x20+\x201.0f\x20*\x20interval.x;\x0a\x20\x20float\x20lat0\x20=\x20floor(lat\x20/\x20interval.y)\x20*\x20interval.y;\x0a\x20\x20float\x20lat1\x20=\x20lat0\x20+\x201.0f\x20*\x20interval.y;\x0a\x0a\x20\x20float\x20lon0_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon1_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon0_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat1,\x20lev));\x0a\x20\x20float\x20lon1_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat1,\x20lev));\x0a\x0a\x20\x20float\x20lon_lat0\x20=\x20mix(lon0_lat0,\x20lon1_lat0,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat1\x20=\x20mix(lon0_lat1,\x20lon1_lat1,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat\x20=\x20mix(lon_lat0,\x20lon_lat1,\x20lat\x20-\x20lat0);\x0a\x20\x20return\x20lon_lat;\x0a}\x0a\x0avec3\x20linearInterpolation(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bilinear_interpolation\x0a\x20\x20float\x20u\x20=\x20interpolateTexture(U,\x20lonLatLev);\x0a\x20\x20float\x20v\x20=\x20interpolateTexture(V,\x20lonLatLev);\x0a\x20\x20float\x20w\x20=\x20interpolateTexture(W,\x20lonLatLev);\x0a\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20float\x20term1\x20=\x20111132.92f;\x0a\x20\x20float\x20term2\x20=\x20559.82f\x20*\x20cos(2.0f\x20*\x20latitude);\x0a\x20\x20float\x20term3\x20=\x201.175f\x20*\x20cos(4.0f\x20*\x20latitude);\x0a\x20\x20float\x20term4\x20=\x200.0023f\x20*\x20cos(6.0f\x20*\x20latitude);\x0a\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20float\x20term5\x20=\x20111412.84f\x20*\x20cos(latitude);\x0a\x20\x20float\x20term6\x20=\x2093.5f\x20*\x20cos(3.0f\x20*\x20latitude);\x0a\x20\x20float\x20term7\x20=\x200.118f\x20*\x20cos(5.0f\x20*\x20latitude);\x0a\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avec3\x20convertSpeedUnitToLonLat(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20float\x20w\x20=\x20speed.z;\x0a\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20return\x20windVectorInLonLatLev;\x0a}\x0a\x0avec3\x20calculateSpeedByRungeKutta2(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods#Second-order_methods_with_two_stages\x20for\x20detail\x0a\x20\x20const\x20float\x20h\x20=\x200.5f;\x0a\x0a\x20\x20vec3\x20y_n\x20=\x20lonLatLev;\x0a\x20\x20vec3\x20f_n\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20midpoint\x20=\x20y_n\x20+\x200.5f\x20*\x20h\x20*\x20convertSpeedUnitToLonLat(y_n,\x20f_n)\x20*\x20speedScaleFactor;\x0a\x20\x20vec3\x20speed\x20=\x20h\x20*\x20linearInterpolation(midpoint)\x20*\x20speedScaleFactor;\x0a\x0a\x20\x20return\x20speed;\x0a}\x0a\x0avec2\x20getRange(vec2\x20range)\x20{\x0a\x20\x20float\x20x1\x20=\x200.0f\x20-\x20range.x;\x0a\x20\x20float\x20x2\x20=\x20range.y\x20-\x200.0f;\x0a\x20\x20if(x1\x20<\x200.0f\x20||\x20x2\x20<\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x20vec2(abs(x1),\x20abs(x2));\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20return\x20vec2(0.0f,\x20abs(max(x1,\x20x2)));\x0a\x20\x20}\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20vec2\x20uRange\x20=\x20getRange(uSpeedRange);\x0a\x20\x20vec2\x20vRange\x20=\x20getRange(vSpeedRange);\x0a\x20\x20vec2\x20wRange\x20=\x20getRange(wSpeedRange);\x0a\x20\x20if(length(speed.xyz)\x20==\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x200.0f;\x0a\x20\x20}\x0a\x0a\x20\x20percent.x\x20=\x20(abs(speed.x)\x20-\x20uRange.x)\x20/\x20(uRange.y\x20-\x20uRange.x);\x0a\x20\x20percent.y\x20=\x20(abs(speed.y)\x20-\x20vRange.x)\x20/\x20(vRange.y\x20-\x20vRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(abs(speed.z)\x20-\x20wRange.x)\x20/\x20(wRange.y\x20-\x20wRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speedOrigin\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20speed\x20=\x20calculateSpeedByRungeKutta2(lonLatLev);\x0a\x20\x20vec3\x20speedInLonLat\x20=\x20convertSpeedUnitToLonLat(lonLatLev,\x20speed);\x0a\x0a\x20\x20vec4\x20particleSpeed\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speed\x20/\x20speedScaleFactor));\x0a\x20\x20\x20\x20//\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20fragColor\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speedOrigin));\x0a}\x0a',PostProcessingPositionShader=_0x37eccb(-0x19a,-0x15c),UpdatePositionShader='#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x20Unit\x20converted\x20to\x20degrees\x20of\x20longitude\x20and\x20latitude\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20speed;\x0a\x20\x20if(length(speed.rgb)\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a';const Cesium$3=mars3d__namespace['Cesium'];class ParticlesComputing{constructor(_0x373b12,_0x5db9dd,_0x2a6926,_0x15126e){this[_0xc79ec3(-0x1a4,-0x116)]=_0x5db9dd,this['createWindTextures'](_0x373b12,_0x5db9dd);function _0xc79ec3(_0xf5435f,_0x4db76a){return _0x4f740b(_0x4db76a- -0x36b,_0xf5435f);}this['createParticlesTextures'](_0x373b12,_0x2a6926,_0x15126e),this['createComputingPrimitives'](_0x5db9dd,_0x2a6926,_0x15126e);}[_0x37eccb(-0x101,-0x102)](_0x166d6c,_0x50f045){var _0xc84d82;function _0x3ce2fc(_0x35326e,_0x485eac){return _0x4f740b(_0x485eac- -0x45b,_0x35326e);}const _0x18d36c={'context':_0x166d6c,'width':_0x50f045['dimensions']['lon'],'height':_0x50f045[_0x3ce2fc(-0x29e,-0x2a7)][_0x3ce2fc(-0x2ac,-0x288)]*(_0x50f045[_0x3ce2fc(-0x237,-0x2a7)]['lev']||0x1),'pixelFormat':Cesium$3[_0x3ce2fc(-0x267,-0x2aa)]['RED'],'pixelDatatype':Cesium$3['PixelDatatype']['FLOAT'],'flipY':![],'sampler':new Cesium$3[(_0x3ce2fc(-0x2a6,-0x21a))]({'minificationFilter':Cesium$3['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium$3['TextureMagnificationFilter']['NEAREST']})};function _0x35ecc(_0x26e03e,_0x25a9f4){return _0x4f740b(_0x26e03e- -0x430,_0x25a9f4);}this['windTextures']={'U':Util['createTexture'](_0x18d36c,_0x50f045['U']['array']),'V':Util['createTexture'](_0x18d36c,_0x50f045['V'][_0x35ecc(-0x1f3,-0x218)]),'W':Util['createTexture'](_0x18d36c,((_0xc84d82=_0x50f045['W'])===null||_0xc84d82===void 0x0?void 0x0:_0xc84d82['array'])??_0x50f045['U']['array']),'H':Util['createTexture'](_0x18d36c,_0x50f045['H'][_0x3ce2fc(-0x1bd,-0x21e)])};}['createParticlesTextures'](_0x3da087,_0x308b54,_0x143f4e){function _0x433be2(_0x11b029,_0x1f06c1){return _0x37eccb(_0x1f06c1-0x5ae,_0x11b029);}const _0x8809a0={'context':_0x3da087,'width':_0x308b54['particlesTextureSize'],'height':_0x308b54['particlesTextureSize'],'pixelFormat':Cesium$3['PixelFormat'][_0x433be2(0x437,0x49d)],'pixelDatatype':Cesium$3[_0x433be2(0x35e,0x3ca)][_0x3b57df(0x2d7,0x2cc)],'flipY':![],'sampler':new Cesium$3[(_0x3b57df(0x2d0,0x267))]({'minificationFilter':Cesium$3['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium$3['TextureMagnificationFilter']['NEAREST']})},_0x4e358f=this['randomizeParticles'](_0x308b54[_0x3b57df(0x1fa,0x1e6)],_0x143f4e),_0x5deb28=new Float32Array(0x4*_0x308b54[_0x433be2(0x387,0x3f7)])['fill'](0x0);function _0x3b57df(_0x41fa93,_0x51686a){return _0x37eccb(_0x51686a-0x39d,_0x41fa93);}this['particlesTextures']={'previousParticlesPosition':Util[_0x433be2(0x470,0x4af)](_0x8809a0,_0x4e358f),'currentParticlesPosition':Util['createTexture'](_0x8809a0,_0x4e358f),'nextParticlesPosition':Util['createTexture'](_0x8809a0,_0x4e358f),'postProcessingPosition':Util['createTexture'](_0x8809a0,_0x4e358f),'particlesSpeed':Util['createTexture'](_0x8809a0,_0x5deb28)};}['randomizeParticles'](_0x120106,_0x2dbc7c){const _0x4b4b3f=new Float32Array(0x4*_0x120106);function _0x24ee54(_0x3ab72c,_0x3174ce){return _0x37eccb(_0x3ab72c-0x5a6,_0x3174ce);}for(let _0x1b84ca=0x0;_0x1b84ca<_0x120106;_0x1b84ca++){_0x4b4b3f[0x4*_0x1b84ca]=Cesium$3['Math']['randomBetween'](_0x2dbc7c[_0x24ee54(0x440,0x3b4)]['x'],_0x2dbc7c[_0xf12bd6(-0xb3,-0x11f)]['y']),_0x4b4b3f[0x4*_0x1b84ca+0x1]=Cesium$3[_0x24ee54(0x456,0x44b)]['randomBetween'](_0x2dbc7c['latRange']['x'],_0x2dbc7c['latRange']['y']),_0x4b4b3f[0x4*_0x1b84ca+0x2]=Cesium$3[_0x24ee54(0x456,0x452)]['randomBetween'](this[_0xf12bd6(-0x6f,-0x7e)]['lev'][_0x24ee54(0x3f3,0x39b)],this['data']['lev'][_0x24ee54(0x3fb,0x3c6)]),_0x4b4b3f[0x4*_0x1b84ca+0x3]=0x0;}function _0xf12bd6(_0x61595e,_0x486ef8){return _0x37eccb(_0x61595e-0xb3,_0x486ef8);}return _0x4b4b3f;}['getValidRange'](_0xa16825){const _0x48ab2c=[_0xa16825['dimensions'][_0x18c89b(0x193,0x12a)],_0xa16825[_0x18c89b(0xe7,0xae)][_0x18c89b(0x106,0xa1)],_0xa16825['dimensions'][_0x5eaaf1(-0x27d,-0x202)]],_0x3750a7=[_0xa16825['lon']['min'],_0xa16825['lat']['min'],_0xa16825['lev'][_0x5eaaf1(-0x1ee,-0x1e4)]],_0x4ee834=[_0xa16825[_0x5eaaf1(-0xf4,-0x148)]['max'],_0xa16825['lat']['max'],_0xa16825[_0x5eaaf1(-0x1c7,-0x202)]['max']],_0x350980=[(_0x4ee834[0x0]-_0x3750a7[0x0])/(_0x48ab2c[0x0]-0x1),(_0x4ee834[0x1]-_0x3750a7[0x1])/(_0x48ab2c[0x1]-0x1),_0x48ab2c[0x2]>0x1?(_0x4ee834[0x2]-_0x3750a7[0x2])/(_0x48ab2c[0x2]-0x1):0x1],_0x11c46b=Math['floor'](Math[_0x18c89b(0xe3,0x149)]()*_0xa16825['U'][_0x5eaaf1(-0x1af,-0x16b)][_0x5eaaf1(-0x1df,-0x18e)]),_0x9583=_0x11c46b%(_0x48ab2c[0x0]*_0x48ab2c[0x1]),_0x5a0afd=Math['floor'](_0x9583/_0x48ab2c[0x0]),_0x33dfc6=_0x9583%_0x48ab2c[0x0],_0x35d6f8=Cesium$3['Math'][_0x18c89b(0xfc,0x179)](_0x3750a7[0x0]+_0x33dfc6*_0x350980[0x0],_0x3750a7[0x0]+(_0x33dfc6+0x1)*_0x350980[0x0]),_0x3f1bce=Cesium$3['Math']['randomBetween'](_0x3750a7[0x1]+(_0x5a0afd-0x1)*_0x350980[0x1],_0x3750a7[0x1]+_0x5a0afd*_0x350980[0x1]),_0x4519dc=_0xa16825['H']['array'][_0x11c46b]||0x0;function _0x5eaaf1(_0x33b523,_0x460e79){return _0x37eccb(_0x460e79- -0x31,_0x33b523);}function _0x18c89b(_0x2047d7,_0x353f74){return _0x37eccb(_0x2047d7-0x2aa,_0x353f74);}return[_0x35d6f8,_0x3f1bce,_0x4519dc];}[_0x37eccb(-0x19c,-0x220)](){function _0x3dd248(_0x3f788e,_0x46b433){return _0x4f740b(_0x3f788e- -0xe1,_0x46b433);}function _0x1380aa(_0x7694c9,_0x4b30ae){return _0x4f740b(_0x7694c9-0x193,_0x4b30ae);}Object[_0x3dd248(0x19d,0x184)](this['particlesTextures'])[_0x1380aa(0x3c6,0x39a)](_0x4a3fb3=>{this['particlesTextures'][_0x4a3fb3]['destroy']();});}['createComputingPrimitives'](_0x447a90,_0x5f5d14,_0x1e9742){const _0x3d956c=new Cesium$3['Cartesian3'](_0x447a90['dimensions'][_0x2195e6(-0x103,-0xcf)],_0x447a90['dimensions']['lat'],_0x447a90['dimensions'][_0x2195e6(-0x179,-0x189)]),_0x5e4474=new Cesium$3[(_0x2195e6(-0x1d,-0xa1))](_0x447a90['lon'][_0x1690d7(-0x18a,-0x214)],_0x447a90[_0x2195e6(-0xc8,-0x15c)][_0x2195e6(-0x19f,-0x16b)],_0x447a90['lev'][_0x1690d7(-0x278,-0x214)]),_0x2fd707=new Cesium$3['Cartesian3'](_0x447a90['lon']['max'],_0x447a90[_0x2195e6(-0x1d9,-0x15c)]['max'],_0x447a90[_0x2195e6(-0x1ba,-0x189)][_0x1690d7(-0x27e,-0x20c)]),_0x3a9ee0=new Cesium$3[(_0x2195e6(-0x67,-0xa1))]((_0x2fd707['x']-_0x5e4474['x'])/(_0x3d956c['x']-0x1),(_0x2fd707['y']-_0x5e4474['y'])/(_0x3d956c['y']-0x1),_0x3d956c['z']>0x1?(_0x2fd707['z']-_0x5e4474['z'])/(_0x3d956c['z']-0x1):0x1),_0x2b0bf6=new Cesium$3[(_0x1690d7(-0x1fd,-0x185))](_0x447a90[_0x1690d7(-0x168,-0x178)]['min'],_0x447a90['lon'][_0x1690d7(-0x28c,-0x20c)]),_0x5989b5=new Cesium$3['Cartesian2'](_0x447a90[_0x2195e6(-0x155,-0x15c)]['min'],_0x447a90['lat']['max']),_0x5c560c=new Cesium$3[(_0x2195e6(-0x93,-0xdc))](_0x447a90['U']['min'],_0x447a90['U'][_0x1690d7(-0x1c3,-0x20c)]),_0xd46a7f=new Cesium$3['Cartesian2'](_0x447a90['V']['min'],_0x447a90['V'][_0x2195e6(-0x1a2,-0x163)]),_0x38161e=new Cesium$3['Cartesian2'](_0x447a90['W'][_0x1690d7(-0x22f,-0x214)],_0x447a90['W']['max']),_0x303fbf=this,_0x204a55={};function _0x1690d7(_0x307cda,_0x2764ea){return _0x4f740b(_0x2764ea- -0x3d8,_0x307cda);}_0x204a55['U']=function(){return _0x303fbf['windTextures']['U'];},_0x204a55['V']=function(){function _0xb50483(_0x58e4a8,_0x233260){return _0x2195e6(_0x233260,_0x58e4a8- -0x125);}return _0x303fbf[_0xb50483(-0x2b9,-0x25d)]['V'];},_0x204a55['W']=function(){function _0x230863(_0x293daf,_0x33e708){return _0x2195e6(_0x33e708,_0x293daf-0x4c3);}return _0x303fbf[_0x230863(0x32f,0x322)]['W'];},_0x204a55['currentParticlesPosition']=function(){function _0x35633a(_0x101921,_0x119372){return _0x1690d7(_0x119372,_0x101921-0x412);}return _0x303fbf['particlesTextures'][_0x35633a(0x22f,0x2bd)];},_0x204a55['dimension']=function(){return _0x3d956c;},_0x204a55['minimum']=function(){return _0x5e4474;},_0x204a55[_0x1690d7(-0x167,-0x121)]=function(){return _0x2fd707;},_0x204a55['interval']=function(){return _0x3a9ee0;},_0x204a55['uSpeedRange']=function(){return _0x5c560c;},_0x204a55[_0x1690d7(-0x1e6,-0x23b)]=function(){return _0xd46a7f;},_0x204a55[_0x2195e6(-0xd2,-0x106)]=function(){return _0x38161e;},_0x204a55['speedScaleFactor']=function(){function _0x324626(_0x473c7b,_0x2ac1fd){return _0x1690d7(_0x473c7b,_0x2ac1fd-0x203);}function _0x266588(_0x4244db,_0x4d196e){return _0x1690d7(_0x4244db,_0x4d196e-0x4f5);}return _0x1e9742[_0x324626(0x33,0x47)]*_0x5f5d14[_0x266588(0x311,0x325)];};const _0xf0312c={};_0xf0312c['sources']=[CalculateSpeedShader];const _0x1e705f={};function _0x2195e6(_0x204308,_0x1e3b74){return _0x37eccb(_0x1e3b74-0x48,_0x204308);}_0x1e705f['sources']=[UpdatePositionShader];const _0x4e9bce={};_0x4e9bce[_0x1690d7(-0x22d,-0x1eb)]=[PostProcessingPositionShader],this[_0x2195e6(-0x1d6,-0x1a3)]={'calculateSpeed':new CustomPrimitive({'commandType':'Compute','uniformMap':_0x204a55,'fragmentShaderSource':new Cesium$3[(_0x1690d7(-0x1eb,-0x1b3))](_0xf0312c),'outputTexture':this[_0x1690d7(-0x10d,-0x146)][_0x2195e6(-0xcb,-0x121)],'preExecute':function(){function _0x522e50(_0x280860,_0x273ebe){return _0x2195e6(_0x273ebe,_0x280860-0x466);}function _0x1a4e4d(_0x9e031,_0x2e0ab0){return _0x1690d7(_0x2e0ab0,_0x9e031-0x314);}if(_0x5f5d14!==undefined&&_0x5f5d14['dynamic']){const _0x2b99e6=_0x303fbf[_0x1a4e4d(0x1ce,0x15f)]['previousParticlesPosition'];_0x303fbf['particlesTextures']['previousParticlesPosition']=_0x303fbf['particlesTextures']['currentParticlesPosition'],_0x303fbf['particlesTextures'][_0x1a4e4d(0x131,0x174)]=_0x303fbf[_0x1a4e4d(0x1ce,0x1bc)][_0x522e50(0x3b3,0x3f6)],_0x303fbf['particlesTextures']['postProcessingPosition']=_0x2b99e6;}_0x303fbf['primitives']['calculateSpeed']['commandToExecute']['outputTexture']=_0x303fbf['particlesTextures']['particlesSpeed'];}}),'updatePosition':new CustomPrimitive({'commandType':'Compute','uniformMap':{'currentParticlesPosition':function(){function _0x3b1270(_0x37cc76,_0x1f6130){return _0x2195e6(_0x37cc76,_0x1f6130-0xc9);}return _0x303fbf['particlesTextures'][_0x3b1270(-0xe3,-0x71)];},'particlesSpeed':function(){function _0x56cfd2(_0x518b76,_0x4602f1){return _0x2195e6(_0x4602f1,_0x518b76-0x185);}return _0x303fbf[_0x56cfd2(0xe8,0x62)]['particlesSpeed'];}},'fragmentShaderSource':new Cesium$3[(_0x1690d7(-0x195,-0x1b3))](_0x1e705f),'outputTexture':this[_0x2195e6(-0x76,-0x9d)]['nextParticlesPosition'],'preExecute':function(){function _0x54aae2(_0x246e4d,_0x5ad1e9){return _0x1690d7(_0x246e4d,_0x5ad1e9-0x4af);}function _0x14297b(_0x49b5dd,_0x862753){return _0x1690d7(_0x862753,_0x49b5dd-0x326);}_0x303fbf['primitives'][_0x54aae2(0x2b6,0x28d)]['commandToExecute']['outputTexture']=_0x303fbf[_0x14297b(0x1e0,0x1e1)]['nextParticlesPosition'];}}),'postProcessingPosition':new CustomPrimitive({'commandType':'Compute','uniformMap':{'nextParticlesPosition':function(){function _0x37d3be(_0x1051be,_0x527953){return _0x1690d7(_0x1051be,_0x527953-0x55f);}return _0x303fbf[_0x37d3be(0x3ae,0x419)]['nextParticlesPosition'];},'particlesSpeed':function(){return _0x303fbf['particlesTextures']['particlesSpeed'];},'viewerLonRange':function(){return _0x1e9742['lonRange'];},'viewerLatRange':function(){function _0x4b703b(_0x59b164,_0x10eb99){return _0x2195e6(_0x10eb99,_0x59b164-0x35e);}return _0x1e9742[_0x4b703b(0x250,0x26a)];},'lonRange':function(){return _0x2b0bf6;},'latRange':function(){return _0x5989b5;},'dimension':function(){return _0x3d956c;},'minimum':function(){return _0x5e4474;},'maximum':function(){return _0x2fd707;},'interval':function(){return _0x3a9ee0;},'H':function(){return _0x303fbf['windTextures']['H'];},'randomCoefficient':function(){const _0x5afcd8=Math['random']();return _0x5afcd8;},'dropRate':function(){function _0x3bcfe3(_0x356688,_0x528121){return _0x1690d7(_0x528121,_0x356688-0x1d0);}return _0x5f5d14[_0x3bcfe3(0x94,0x49)];},'dropRateBump':function(){return _0x5f5d14['dropRateBump'];}},'fragmentShaderSource':new Cesium$3['ShaderSource'](_0x4e9bce),'outputTexture':this['particlesTextures'][_0x2195e6(-0x12d,-0xb3)],'preExecute':function(){function _0x5e8128(_0x39f34f,_0x1bfc6d){return _0x1690d7(_0x39f34f,_0x1bfc6d-0x3f5);}function _0x28eb00(_0x132bc4,_0x2b6f52){return _0x2195e6(_0x132bc4,_0x2b6f52- -0x3b);}_0x303fbf['primitives'][_0x5e8128(0x215,0x299)][_0x28eb00(-0x8f,-0xf1)]['outputTexture']=_0x303fbf[_0x28eb00(-0x142,-0xd8)][_0x5e8128(0x284,0x299)];}})};}}const Cesium$2=mars3d__namespace[_0x4f740b(0x2ae,0x222)];class ParticleSystem{constructor(_0x25ab82,_0x530abd,_0x1b396b,_0x5f56a2){this['context']=_0x25ab82,_0x530abd={..._0x530abd};_0x530abd['udata']&&_0x530abd[_0x52f231(0x323,0x2bd)]&&(_0x530abd[_0xcc0d09(0x7e,-0xe)]={},_0x530abd[_0xcc0d09(0x61,-0xe)]['lon']=_0x530abd['cols'],_0x530abd['dimensions'][_0x52f231(0x35a,0x2cf)]=_0x530abd[_0xcc0d09(0x1,0x97)],_0x530abd['dimensions']['lev']=_0x530abd['lev']||0x1,_0x530abd['lon']={},_0x530abd['lon'][_0xcc0d09(-0x4d,0x2)]=_0x530abd[_0x52f231(0x318,0x2e7)],_0x530abd[_0xcc0d09(0x135,0x9e)]['max']=_0x530abd[_0xcc0d09(0xb6,0x99)],_0x530abd[_0xcc0d09(0x74,0x11)]={},_0x530abd[_0x52f231(0x35a,0x3ef)]['min']=_0x530abd['ymin'],_0x530abd['lat']['max']=_0x530abd['ymax'],_0x530abd[_0xcc0d09(0x6d,-0x1c)]={},_0x530abd['lev']['min']=_0x530abd['levmin']??0x1,_0x530abd['lev'][_0x52f231(0x353,0x33f)]=_0x530abd[_0xcc0d09(0xd7,0xa2)]??0x1,_0x530abd['U']={},_0x530abd['U']['array']=new Float32Array(_0x530abd['udata']),_0x530abd['U']['min']=_0x530abd['umin']??Math['min'](..._0x530abd[_0xcc0d09(0xfe,0xb0)]),_0x530abd['U'][_0xcc0d09(-0x6d,0xa)]=_0x530abd[_0xcc0d09(-0x43,0x13)]??Math['max'](..._0x530abd['udata']),_0x530abd['V']={},_0x530abd['V'][_0xcc0d09(0x6a,0x7b)]=new Float32Array(_0x530abd['vdata']),_0x530abd['V'][_0xcc0d09(-0x3c,0x2)]=_0x530abd[_0xcc0d09(0xee,0xb9)]??Math['min'](..._0x530abd['vdata']),_0x530abd['V']['max']=_0x530abd[_0xcc0d09(0x3c,0xac)]??Math['max'](..._0x530abd['vdata']));function _0xcc0d09(_0x4539ec,_0x2e9f17){return _0x4f740b(_0x2e9f17- -0x1c2,_0x4539ec);}!_0x530abd['W']&&(_0x530abd['W']={'array':new Float32Array(_0x530abd['U'][_0xcc0d09(0x49,0x7b)][_0x52f231(0x3a1,0x32d)]),'min':0x0,'max':0x0});if(!_0x530abd['H']){var _0x10e4f4;_0x530abd['H']={'array':new Float32Array(_0x530abd['U'][_0xcc0d09(0x3e,0x7b)]['length']),'min':0x0,'max':0x0};if((_0x10e4f4=_0x530abd[_0x52f231(0x32d,0x329)])!==null&&_0x10e4f4!==void 0x0&&_0x10e4f4['array']){const {lon:_0x32ba9a,lat:_0x2d6c0e,lev:_0x54300f}=_0x530abd['dimensions'];for(let _0x5be6e1=0x0;_0x5be6e1<_0x54300f;_0x5be6e1++){for(let _0x1bd647=0x0;_0x1bd647<_0x2d6c0e;_0x1bd647++){for(let _0x2037fe=0x0;_0x2037fe<_0x32ba9a;_0x2037fe++){const _0x30efc0=_0x5be6e1*(_0x32ba9a*_0x2d6c0e)+_0x1bd647*_0x32ba9a+_0x2037fe;_0x530abd['H']['array'][_0x30efc0]=_0x530abd[_0x52f231(0x32d,0x29b)][_0x52f231(0x3c4,0x35e)][_0x5be6e1];}}}_0x530abd['H']['min']=Math['min'](..._0x530abd['lev'][_0xcc0d09(0xca,0x7b)]),_0x530abd['H']['max']=Math['max'](..._0x530abd['lev']['array']);}}this['data']=_0x530abd,this['options']=_0x1b396b;function _0x52f231(_0x12427f,_0x3d2e9d){return _0x37eccb(_0x12427f-0x4fe,_0x3d2e9d);}this['viewerParameters']=_0x5f56a2,this['particlesComputing']=new ParticlesComputing(this['context'],this['data'],this['options'],this['viewerParameters']),this['particlesRendering']=new ParticlesRendering(this[_0x52f231(0x3cf,0x343)],this['data'],this[_0xcc0d09(0x111,0xe1)],this['viewerParameters'],this['particlesComputing']);}[_0x4f740b(0x1a8,0x18b)](_0x3d3b5f){function _0x45808f(_0x2c9d44,_0xb37f03){return _0x37eccb(_0xb37f03-0x9b,_0x2c9d44);}this[_0x522e97(0x588,0x584)][_0x522e97(0x4c1,0x4b7)](),Object[_0x522e97(0x5e3,0x55a)](this['particlesComputing']['windTextures'])[_0x522e97(0x538,0x50f)](_0x4e94ae=>{function _0x518624(_0x332162,_0x240adf){return _0x45808f(_0x332162,_0x240adf- -0x174);}function _0x390f74(_0x4e7435,_0x58efa2){return _0x522e97(_0x58efa2,_0x4e7435- -0x76a);}this[_0x518624(-0x1a0,-0x1a8)]['windTextures'][_0x4e94ae][_0x390f74(-0x24a,-0x251)]();}),this[_0x45808f(0x2f,-0x33)][_0x522e97(0x4ae,0x4b2)]['colorTable'][_0x522e97(0x4ea,0x520)](),Object['keys'](this['particlesRendering'][_0x45808f(-0x47,-0x46)])[_0x45808f(-0x26,-0xa9)](_0x18bc2e=>{this['particlesRendering']['framebuffers'][_0x18bc2e]['destroy']();}),this['context']=_0x3d3b5f,this['particlesComputing']=new ParticlesComputing(this[_0x45808f(-0x11c,-0x94)],this['data'],this[_0x45808f(-0x17,-0x39)],this[_0x45808f(-0xb4,-0x143)]);function _0x522e97(_0x2b7a8,_0x4fbaa9){return _0x37eccb(_0x4fbaa9-0x653,_0x2b7a8);}this['particlesRendering']=new ParticlesRendering(this['context'],this[_0x45808f(-0xa4,-0x87)],this['options'],this['viewerParameters'],this['particlesComputing']);}[_0x4f740b(0x1f0,0x18b)](){const _0x205571=new Cesium$2['ClearCommand']({'color':new Cesium$2['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':undefined,'pass':Cesium$2['Pass']['OPAQUE']});Object['keys'](this['particlesRendering']['framebuffers'])['forEach'](_0x2a7983=>{function _0x4f8088(_0x207afb,_0x222596){return _0x3bee(_0x207afb-0x214,_0x222596);}_0x205571[_0x4f8088(0x3b0,0x35f)]=this['particlesRendering']['framebuffers'][_0x2a7983];function _0x278796(_0x46b8d0,_0x19742e){return _0x3bee(_0x46b8d0-0x29c,_0x19742e);}_0x205571[_0x278796(0x3d4,0x398)](this['context']);});}['refreshParticles'](_0xb7bd7b,_0x2e1286=!![]){_0x2e1286&&(this[_0x10e35d(0x3a3,0x40d)](),this[_0x39bc65(0xe2,0xc6)][_0x39bc65(0x15,0x70)](),this['particlesComputing']['createParticlesTextures'](this[_0x10e35d(0x3fb,0x451)],this['options'],this[_0x39bc65(-0x2d,-0x8b)]));function _0x39bc65(_0x21747c,_0x2e8607){return _0x4f740b(_0x21747c- -0x1c6,_0x2e8607);}function _0x10e35d(_0x5e04fd,_0x1c1697){return _0x37eccb(_0x5e04fd-0x52a,_0x1c1697);}if(_0xb7bd7b){var _0x5e7476;const _0x4a8217=this[_0x10e35d(0x45c,0x424)]['createSegmentsGeometry'](this[_0x39bc65(0xdd,0xbe)]);this[_0x10e35d(0x45c,0x480)][_0x10e35d(0x33f,0x3b6)]['segments'][_0x39bc65(0x0,0x67)]=_0x4a8217;const _0x5ed47e=Cesium$2[_0x39bc65(0xe7,0x59)][_0x10e35d(0x378,0x38b)]({'context':this[_0x10e35d(0x3fb,0x435)],'geometry':_0x4a8217,'attributeLocations':this['particlesRendering']['primitives']['segments']['attributeLocations'],'bufferUsage':Cesium$2['BufferUsage']['STATIC_DRAW']});(_0x5e7476=this['particlesRendering']['primitives'])!==null&&_0x5e7476!==void 0x0&&(_0x5e7476=_0x5e7476['segments'])!==null&&_0x5e7476!==void 0x0&&_0x5e7476['commandToExecute']&&(this[_0x10e35d(0x45c,0x4e9)][_0x10e35d(0x33f,0x389)][_0x10e35d(0x3d3,0x39b)]['commandToExecute'][_0x10e35d(0x3c5,0x384)]=_0x5ed47e);}}['setOptions'](_0x980311){let _0x43fd9d=![];this[_0x570316(0x4d9,0x56d)][_0x4dbe76(-0x2df,-0x2f4)]!==_0x980311[_0x4dbe76(-0x2df,-0x270)]&&(_0x43fd9d=!![]);function _0x4dbe76(_0x44145b,_0x5af67d){return _0x4f740b(_0x44145b- -0x49f,_0x5af67d);}Object[_0x570316(0x4b4,0x4a7)](_0x980311)[_0x4dbe76(-0x26c,-0x2ca)](_0x1bc720=>{this['options'][_0x1bc720]=_0x980311[_0x1bc720];});function _0x570316(_0x4fb2a0,_0x4698c8){return _0x37eccb(_0x4fb2a0-0x5ad,_0x4698c8);}this[_0x4dbe76(-0x260,-0x2a0)](_0x43fd9d,_0x980311['dynamic']);}[_0x4f740b(0x200,0x263)](_0x19f6ae){Object['keys'](_0x19f6ae)['forEach'](_0x112a2f=>{this['viewerParameters'][_0x112a2f]=_0x19f6ae[_0x112a2f];});function _0x3a5da3(_0x33cccc,_0x3a5774){return _0x4f740b(_0x33cccc- -0xd8,_0x3a5774);}this['refreshParticles'](![]),!this['options']['dynamic']&&(this[_0x3a5da3(0x1cb,0x157)]['dynamic']=!![],this['setOptions'](this['options']),setTimeout(()=>{function _0x39e8c4(_0x3b80c7,_0x10e944){return _0x3a5da3(_0x10e944- -0x11c,_0x3b80c7);}this['options']['dynamic']=![],this[_0x39e8c4(0xf2,0xa9)](this['options']);},0x1f4));}['destroy'](){function _0x236ce7(_0x2bf1b9,_0x55be7c){return _0x4f740b(_0x2bf1b9- -0x45f,_0x55be7c);}clearTimeout(this[_0x22bd61(0x16f,0xd8)]),this[_0x22bd61(0x248,0x229)][_0x22bd61(0x17b,0x117)](),Object[_0x236ce7(-0x1e1,-0x238)](this['particlesComputing'][_0x236ce7(-0x2c4,-0x251)])['forEach'](_0x7cbcc5=>{function _0x2849e5(_0x54eec2,_0x559af0){return _0x236ce7(_0x559af0-0x5c6,_0x54eec2);}function _0x4a2850(_0x3a84a2,_0x59328e){return _0x22bd61(_0x59328e-0x250,_0x3a84a2);}this['particlesComputing'][_0x2849e5(0x391,0x302)][_0x7cbcc5][_0x4a2850(0x4bd,0x434)]();}),this[_0x22bd61(0x249,0x2bf)]['textures'][_0x22bd61(0x14d,0x123)]['destroy'](),Object['keys'](this[_0x22bd61(0x249,0x2ab)]['framebuffers'])[_0x22bd61(0x1d3,0x201)](_0x41ca42=>{function _0x3e223e(_0x29867d,_0x2d789d){return _0x22bd61(_0x29867d- -0x1ea,_0x2d789d);}function _0x332d52(_0x594f1b,_0x5ed569){return _0x22bd61(_0x5ed569-0x5a,_0x594f1b);}this[_0x332d52(0x302,0x2a3)][_0x332d52(0x2b3,0x290)][_0x41ca42][_0x332d52(0x2bd,0x23e)]();});function _0x22bd61(_0x21db17,_0x121218){return _0x37eccb(_0x21db17-0x317,_0x121218);}for(const _0x40393d in this){delete this[_0x40393d];}}}const Cesium$1=mars3d__namespace[_0x4f740b(0x2ae,0x233)],BaseLayer$1=mars3d__namespace[_0x37eccb(-0x17e,-0x206)][_0x37eccb(-0xcb,-0x126)],_0x638bb3={};_0x638bb3[_0x4f740b(0x202,0x262)]=0x1000,_0x638bb3['fixedHeight']=0x0;function _0x37eccb(_0x13a632,_0x3966e4){return _0x3bee(_0x13a632- -0x2ae,_0x3966e4);}_0x638bb3['fadeOpacity']=0.996,_0x638bb3['dropRate']=0.003,_0x638bb3[_0x4f740b(0x273,0x214)]=0.01,_0x638bb3['speedFactor']=0.5,_0x638bb3['lineWidth']=0x2,_0x638bb3['colors']=[_0x4f740b(0x198,0x187)],_0x638bb3[_0x37eccb(-0x135,-0x153)]=!![];const DEF_OPTIONS=_0x638bb3;class WindLayer extends BaseLayer$1{constructor(_0x4cdfba={}){_0x4cdfba={...DEF_OPTIONS,..._0x4cdfba},super(_0x4cdfba),this['_setOptionsHook'](_0x4cdfba);}get[_0x4f740b(0x1f9,0x1c3)](){function _0x220b33(_0x314a06,_0x6c4c3f){return _0x37eccb(_0x314a06- -0xa4,_0x6c4c3f);}return this[_0x220b33(-0x28f,-0x308)];}get['data'](){return this['_data'];}set['data'](_0x203ca5){function _0x41438f(_0x23bce9,_0x9ae253){return _0x37eccb(_0x23bce9- -0xba,_0x9ae253);}this[_0x41438f(-0x226,-0x268)](_0x203ca5);}get[_0x4f740b(0x2b3,0x257)](){return this['options']['colors'];}set[_0x4f740b(0x2b3,0x250)](_0x2c5abe){this['options'][_0x488b46(0x376,0x3c1)]=_0x2c5abe;if(this[_0x2aec73(0x504,0x539)]){const _0x3d9962={};_0x3d9962['colors']=_0x2c5abe,this['particleSystem']['setOptions'](_0x3d9962);}function _0x488b46(_0x2759eb,_0x3cb95c){return _0x4f740b(_0x3cb95c-0x10e,_0x2759eb);}function _0x2aec73(_0x2390c6,_0x44f68c){return _0x37eccb(_0x44f68c-0x62f,_0x2390c6);}this['resize']();}['_mountedHook'](){}['_addedHook'](){this['scene']=this['_map'][_0x36ca66(0x451,0x4ca)],this['camera']=this['_map']['camera'],this['primitives']=new Cesium$1['PrimitiveCollection'](),this['_map']['scene'][_0xafa4b6(0x413,0x43d)]['add'](this['primitives']),this[_0x36ca66(0x37b,0x3ca)]={'lonRange':new Cesium$1['Cartesian2'](),'latRange':new Cesium$1[(_0xafa4b6(0x4da,0x4d3))](),'pixelSize':0x0,'lonDisplayRange':new Cesium$1[(_0xafa4b6(0x4da,0x480))](),'latDisplayRange':new Cesium$1['Cartesian2']()},this['globeBoundingSphere']=new Cesium$1[(_0x36ca66(0x473,0x489))](Cesium$1['Cartesian3'][_0xafa4b6(0x451,0x3f0)],Cesium$1[_0xafa4b6(0x454,0x3c6)][_0xafa4b6(0x484,0x3fc)]['minimumRadius']);function _0xafa4b6(_0x16277b,_0x59bc7c){return _0x37eccb(_0x16277b-0x5fe,_0x59bc7c);}this[_0x36ca66(0x4be,0x4b8)](),window[_0xafa4b6(0x46f,0x3e5)](_0xafa4b6(0x431,0x40b),this['resize']['bind'](this),![]);function _0x36ca66(_0x255e58,_0x413d89){return _0x37eccb(_0x413d89-0x5a8,_0x255e58);}this[_0x36ca66(0x49c,0x43e)]=![],this[_0xafa4b6(0x426,0x411)]=![],this[_0xafa4b6(0x4f4,0x532)]['on'](mars3d__namespace['EventType'][_0x36ca66(0x45e,0x46c)],this['_onMapWhellEvent'],this),this[_0xafa4b6(0x4f4,0x4b0)]['on'](mars3d__namespace['EventType']['mouseDown'],this[_0xafa4b6(0x48d,0x4f8)],this),this[_0xafa4b6(0x4f4,0x4b3)]['on'](mars3d__namespace['EventType'][_0xafa4b6(0x49c,0x4ce)],this[_0x36ca66(0x4c1,0x43b)],this),this['_map']['on'](mars3d__namespace[_0x36ca66(0x423,0x40a)]['mouseMove'],this['_onMouseMoveEvent'],this),this['_data']&&this['setData'](this[_0x36ca66(0x4ee,0x461)]);}['_removedHook'](){function _0x1a6f25(_0x45a666,_0x270867){return _0x37eccb(_0x45a666-0x537,_0x270867);}window[_0x5583f0(0x20e,0x24e)]('resize',this['resize']),this[_0x5583f0(0x264,0x251)]['off'](mars3d__namespace['EventType']['preRender'],this['_onMap_preRenderEvent'],this);function _0x5583f0(_0x3a423d,_0x53e5b0){return _0x37eccb(_0x3a423d-0x36e,_0x53e5b0);}this['_map'][_0x1a6f25(0x409,0x3e9)](mars3d__namespace['EventType'][_0x5583f0(0x232,0x1a5)],this['_onMapWhellEvent'],this),this[_0x5583f0(0x264,0x1e4)]['off'](mars3d__namespace['EventType']['mouseDown'],this['_onMouseDownEvent'],this),this[_0x5583f0(0x264,0x20f)]['off'](mars3d__namespace['EventType'][_0x5583f0(0x20c,0x221)],this['_onMouseUpEvent'],this),this[_0x5583f0(0x264,0x22a)]['off'](mars3d__namespace['EventType']['mouseMove'],this[_0x1a6f25(0x36b,0x3ee)],this),this['primitives'][_0x1a6f25(0x36e,0x391)](),this[_0x5583f0(0x264,0x208)][_0x1a6f25(0x459,0x488)][_0x5583f0(0x183,0x152)]['remove'](this[_0x1a6f25(0x34c,0x2fb)]);}['resize'](){function _0x2a2a15(_0x3cd89d,_0xb307a5){return _0x4f740b(_0x3cd89d-0x17a,_0xb307a5);}if(!this['show']||!this['particleSystem'])return;this['primitives']['show']=![];function _0x51889d(_0x2b9da6,_0x5553cc){return _0x4f740b(_0x2b9da6-0x1d7,_0x5553cc);}this[_0x51889d(0x363,0x344)]['removeAll'](),this[_0x2a2a15(0x3e7,0x440)][_0x2a2a15(0x321,0x368)](mars3d__namespace['EventType']['preRender'],this[_0x51889d(0x3cf,0x36d)],this);}['_onMap_preRenderEvent'](_0x1e4137){function _0x3cac96(_0x251fc7,_0x54cbd3){return _0x4f740b(_0x251fc7- -0x1a5,_0x54cbd3);}function _0x239cec(_0x5f2180,_0x3917ad){return _0x37eccb(_0x5f2180- -0xae,_0x3917ad);}this['particleSystem']['canvasResize'](this['scene'][_0x3cac96(0xa3,0x12d)]),this['addPrimitives'](),this[_0x3cac96(-0x19,0x4b)][_0x3cac96(0x14,-0x57)]=!![];}['_onMapWhellEvent'](_0x3ec897){clearTimeout(this[_0xbb45db(0x530,0x590)]);if(!this['show']||!this['particleSystem'])return;this['primitives']['show']=![];function _0xbb45db(_0x1f1c25,_0x7b0b98){return _0x37eccb(_0x1f1c25-0x681,_0x7b0b98);}function _0xa739c5(_0x27e36b,_0x41e10d){return _0x4f740b(_0x41e10d- -0x113,_0x27e36b);}this[_0xa739c5(0x107,0x113)]=setTimeout(()=>{function _0x1e7c74(_0x3d2459,_0x5774e0){return _0xa739c5(_0x5774e0,_0x3d2459-0xae);}if(!this[_0x1e7c74(0x154,0x1d8)])return;this['redraw']();},0xc8);}['_onMouseDownEvent'](_0x1093fb){function _0x38ebbb(_0x33b7e2,_0x5f4c60){return _0x37eccb(_0x33b7e2-0x172,_0x5f4c60);}this[_0x38ebbb(0x8,0x77)]=!![];}['_onMouseMoveEvent'](_0x4f0404){if(!this['show']||!this['particleSystem'])return;function _0xf63725(_0xa5a3c0,_0x4ab987){return _0x4f740b(_0x4ab987- -0x124,_0xa5a3c0);}function _0x260d5b(_0x27d8f8,_0x5a882c){return _0x37eccb(_0x27d8f8-0x3b3,_0x5a882c);}this['mouse_down']&&(this['primitives'][_0xf63725(0xe8,0x95)]=![],this[_0xf63725(0x77,0x7b)]=!![]);}['_onMouseUpEvent'](_0x1496c0){function _0x95e7b2(_0x686bf5,_0x5a6a3a){return _0x4f740b(_0x5a6a3a- -0x13c,_0x686bf5);}if(!this[_0x95e7b2(0xfc,0x7d)]||!this[_0x95e7b2(0x151,0x145)])return;this['mouse_down']&&this[_0x300a15(-0x27f,-0x28e)]&&this['redraw']();this['primitives']['show']=!![],this['mouse_down']=![];function _0x300a15(_0x57b980,_0x192fbe){return _0x37eccb(_0x192fbe- -0xb6,_0x57b980);}this['mouse_move']=![];}['redraw'](){if(!this['_map']||!this[_0x1cf477(-0x117,-0x188)])return;function _0x191ff7(_0x50edfa,_0x232dd7){return _0x4f740b(_0x232dd7- -0x21,_0x50edfa);}this[_0x1cf477(-0x49,0x27)]();function _0x1cf477(_0x4f9c33,_0x2e1841){return _0x4f740b(_0x4f9c33- -0x2d0,_0x2e1841);}this['particleSystem'][_0x191ff7(0x1ad,0x1df)](this['viewerParameters']),this['primitives'][_0x191ff7(0x107,0x198)]=!![];}['setData'](_0x47f769){function _0xcdde96(_0x3dc7f8,_0x5c9877){return _0x4f740b(_0x3dc7f8- -0x96,_0x5c9877);}function _0x44c986(_0x45ac79,_0x5b912d){return _0x4f740b(_0x5b912d- -0x21a,_0x45ac79);}this[_0xcdde96(0x19a,0x1d8)]=_0x47f769,this[_0x44c986(0x98,0x67)]&&this['particleSystem']['destroy'](),this['particleSystem']=new ParticleSystem(this[_0x44c986(0xdd,0x7f)][_0x44c986(0x7b,0x2e)],_0x47f769,this[_0x44c986(0x51,0x2b)](),this[_0x44c986(-0x7d,-0x81)]),this[_0x44c986(0xc8,0x8b)]();}[_0x37eccb(-0xc6,-0x122)](_0x2bf4d5,_0x557e19){if(_0x2bf4d5)for(const _0x5adaae in _0x2bf4d5){this[_0x5adaae]=_0x2bf4d5[_0x5adaae];}this['particleSystem']&&this['particleSystem']['setOptions'](this['getOptions']());}['getOptions'](){const _0x4b8727=Math['ceil'](Math[_0x4a482c(0x4cb,0x471)](this['particlesNumber']));this['particlesNumber']=_0x4b8727*_0x4b8727;const _0x6d5cf2={};function _0x16291e(_0x650e0e,_0xaa6d89){return _0x4f740b(_0x650e0e- -0x2ac,_0xaa6d89);}_0x6d5cf2['particlesTextureSize']=_0x4b8727,_0x6d5cf2[_0x4a482c(0x45d,0x42d)]=this[_0x16291e(-0xaa,-0xa8)],_0x6d5cf2[_0x16291e(0x7,-0x6f)]=this['colors'],_0x6d5cf2['particleHeight']=this['fixedHeight'],_0x6d5cf2[_0x4a482c(0x4e6,0x4b0)]=this['fadeOpacity'],_0x6d5cf2[_0x4a482c(0x53b,0x509)]=this['dropRate'],_0x6d5cf2['dropRateBump']=this[_0x4a482c(0x50c,0x4e0)],_0x6d5cf2['speedFactor']=this[_0x16291e(-0xa4,-0x13b)];function _0x4a482c(_0x5eab8d,_0x33d86e){return _0x37eccb(_0x33d86e-0x5e4,_0x5eab8d);}return _0x6d5cf2['lineWidth']=this[_0x4a482c(0x3ca,0x44f)],_0x6d5cf2['dynamic']=this[_0x4a482c(0x4b2,0x4af)],_0x6d5cf2;}['addPrimitives'](){function _0x440811(_0x4b8bfc,_0x3a0f34){return _0x37eccb(_0x3a0f34-0x6a,_0x4b8bfc);}function _0x44c6a4(_0x127743,_0x474b2b){return _0x4f740b(_0x127743- -0x14a,_0x474b2b);}this['primitives'][_0x44c6a4(0xe0,0xdc)](this[_0x44c6a4(0x137,0x1a5)][_0x44c6a4(0x15e,0xee)][_0x44c6a4(0x42,0x30)][_0x44c6a4(0xb1,0x10e)]),this['primitives']['add'](this['particleSystem']['particlesComputing'][_0x44c6a4(0x42,0x2e)]['updatePosition']),this['primitives'][_0x440811(-0x109,-0xe3)](this[_0x44c6a4(0x137,0x106)]['particlesComputing']['primitives'][_0x44c6a4(0x132,0xb7)]),this[_0x440811(-0x1ee,-0x181)][_0x44c6a4(0xe0,0xe5)](this['particleSystem']['particlesRendering']['primitives'][_0x440811(-0x15f,-0xed)]),this['primitives'][_0x440811(-0x109,-0xe3)](this['particleSystem']['particlesRendering'][_0x44c6a4(0x42,0x36)][_0x440811(-0xf7,-0x9d)]),this['primitives']['add'](this[_0x440811(0x5,-0x8c)]['particlesRendering']['primitives']['screen']);}['updateViewerParameters'](){function _0x5ab036(_0x3184ad,_0x57540f){return _0x37eccb(_0x3184ad-0x12a,_0x57540f);}let _0xabebe0=this['camera'][_0x26438c(-0x2bc,-0x292)](this[_0x5ab036(0x4c,0xde)]['globe']['ellipsoid']);if(!_0xabebe0){const _0x471a06=this['_map']['getExtent']();_0xabebe0=Cesium$1[_0x5ab036(0x51,0x41)][_0x5ab036(-0x4a,0x38)](_0x471a06['xmin'],_0x471a06['ymin'],_0x471a06['xmax'],_0x471a06['ymax']);}const _0x4f55e0=Util[_0x26438c(-0x281,-0x2a7)](_0xabebe0);this['_data']?(this['viewerParameters'][_0x5ab036(-0x3c,-0x48)]['x']=Math['max'](_0x4f55e0['lon'][_0x26438c(-0x1f7,-0x271)],this[_0x26438c(-0x1ae,-0x205)]['xmin']),this['viewerParameters']['lonRange']['y']=Math[_0x5ab036(-0x89,-0x6)](_0x4f55e0[_0x26438c(-0x1d6,-0x1d5)]['max'],this['_data']['xmax']),this[_0x26438c(-0x285,-0x29c)][_0x26438c(-0x1c5,-0x214)]['x']=Math['max'](_0x4f55e0['lat'][_0x26438c(-0x24e,-0x271)],this['_data'][_0x5ab036(-0x90,-0xa9)]),this[_0x26438c(-0x222,-0x29c)]['latRange']['y']=Math['min'](_0x4f55e0['lat'][_0x5ab036(-0x81,-0x63)],this[_0x5ab036(-0x1d,-0x82)][_0x26438c(-0x2d7,-0x291)])):(this['viewerParameters'][_0x26438c(-0x22d,-0x224)]['x']=_0x4f55e0['lon'][_0x26438c(-0x2ff,-0x271)],this[_0x26438c(-0x331,-0x29c)]['lonRange']['y']=_0x4f55e0['lon']['max'],this['viewerParameters']['latRange']['x']=_0x4f55e0['lat']['min'],this[_0x5ab036(-0xb4,-0x111)]['latRange']['y']=_0x4f55e0['lat']['max']);let _0x37333b=this[_0x26438c(-0x29b,-0x241)][_0x5ab036(0x27,0x42)](this['globeBoundingSphere'],this['scene']['drawingBufferWidth'],this['scene'][_0x26438c(-0x228,-0x1a1)]);function _0x26438c(_0x4cebd6,_0x4339eb){return _0x37eccb(_0x4339eb- -0xbe,_0x4cebd6);}const _0x8c585d=this['scene']['drawingBufferHeight']*0.3;_0x37333b<_0x8c585d&&(_0x37333b=_0x8c585d),this['viewerParameters'][_0x26438c(-0x267,-0x219)]=_0x37333b;}}mars3d__namespace['LayerUtil'][_0x37eccb(-0xf8,-0x6f)]('wind',WindLayer),mars3d__namespace[_0x37eccb(-0x17e,-0xef)]['WindLayer']=WindLayer;class CanvasParticle{constructor(){this['lng']=null,this[_0x1c2dd5(0x425,0x468)]=null,this[_0x539b69(-0x1ff,-0x24e)]=null,this[_0x539b69(-0x276,-0x2a0)]=null,this[_0x539b69(-0x11e,-0x1b3)]=null;function _0x539b69(_0x35c178,_0x3326f3){return _0x37eccb(_0x3326f3- -0xf0,_0x35c178);}function _0x1c2dd5(_0xb30317,_0x44976c){return _0x4f740b(_0xb30317-0x252,_0x44976c);}this['speed']=null;}['destroy'](){for(const _0x334113 in this){delete this[_0x334113];}}}class CanvasWindField{constructor(_0x3517c3){function _0x13796b(_0x2348e1,_0xc16fd4){return _0x4f740b(_0xc16fd4-0xb3,_0x2348e1);}this[_0x13796b(0x31c,0x350)](_0x3517c3);}get['speedRate'](){function _0x440955(_0xb21369,_0x3471c5){return _0x4f740b(_0x3471c5-0x88,_0xb21369);}return this[_0x440955(0x2a0,0x2b3)];}set['speedRate'](_0x3792a7){this[_0x48ade2(0x3d7,0x421)]=(0x64-(_0x3792a7>0x63?0x63:_0x3792a7))*0x64;function _0x19f126(_0x996ce4,_0x57889e){return _0x4f740b(_0x996ce4- -0x207,_0x57889e);}function _0x48ade2(_0x4e75da,_0x5c4a50){return _0x4f740b(_0x5c4a50-0x1f6,_0x4e75da);}this['_calc_speedRate']=[(this[_0x48ade2(0x4c1,0x451)]-this[_0x19f126(-0x76,-0xf6)])/this['_speedRate'],(this['ymax']-this[_0x19f126(-0x4a,0x39)])/this[_0x48ade2(0x3d2,0x421)]];}get['maxAge'](){return this['_maxAge'];}set['maxAge'](_0x99ea7a){function _0x2947a6(_0x58e166,_0x548859){return _0x37eccb(_0x548859-0x1b0,_0x58e166);}this[_0x2947a6(-0x54,0x3e)]=_0x99ea7a;}[_0x37eccb(-0xda,-0x43)](_0x13286b){this['options']=_0x13286b,this[_0xd27783(0x3b4,0x3c0)]=_0x13286b['maxAge']||0x78,this['speedRate']=_0x13286b['speedRate']||0x32;function _0x3e7acd(_0x69e408,_0x5a16d0){return _0x4f740b(_0x5a16d0- -0x327,_0x69e408);}this['particles']=[];const _0x406554=_0x13286b['particlesNumber']||0x1000;function _0xd27783(_0x191cb6,_0x83a705){return _0x4f740b(_0x83a705-0x21f,_0x191cb6);}for(let _0x48188a=0x0;_0x48188a<_0x406554;_0x48188a++){const _0xedb58e=this[_0x3e7acd(-0x1f4,-0x18d)](new CanvasParticle());this['particles'][_0xd27783(0x4f3,0x4a4)](_0xedb58e);}}['setDate'](_0x80d770){this['rows']=_0x80d770['rows'],this[_0x4f63cd(-0x2df,-0x306)]=_0x80d770['cols'];function _0x4f63cd(_0x26f845,_0xd8973a){return _0x37eccb(_0xd8973a- -0x125,_0x26f845);}this['xmin']=_0x80d770['xmin'],this['xmax']=_0x80d770['xmax'],this[_0x4f63cd(-0x331,-0x2df)]=_0x80d770['ymin'];function _0x3db343(_0x147a41,_0x45fa8c){return _0x37eccb(_0x45fa8c-0x190,_0x147a41);}this[_0x3db343(0xa,-0x43)]=_0x80d770[_0x4f63cd(-0x277,-0x2f8)],this['grid']=[];const _0x299752=_0x80d770['udata'],_0x32c5ea=_0x80d770['vdata'];let _0x57524b=![];_0x299752['length']===this['rows']&&_0x299752[0x0][_0x4f63cd(-0x25f,-0x282)]===this[_0x4f63cd(-0x2c5,-0x306)]&&(_0x57524b=!![]);let _0x3472e1=0x0,_0x4ab8e=null,_0x2d8d13=null;for(let _0x5adf22=0x0;_0x5adf22<this[_0x3db343(-0x3,0x72)];_0x5adf22++){_0x4ab8e=[];for(let _0x48d1e2=0x0;_0x48d1e2<this['cols'];_0x48d1e2++,_0x3472e1++){_0x57524b?_0x2d8d13=this[_0x4f63cd(-0x2f6,-0x2be)](_0x299752[_0x5adf22][_0x48d1e2],_0x32c5ea[_0x5adf22][_0x48d1e2]):_0x2d8d13=this[_0x3db343(0x46,-0x9)](_0x299752[_0x3472e1],_0x32c5ea[_0x3472e1]),_0x4ab8e[_0x3db343(0xc8,0x9e)](_0x2d8d13);}this[_0x4f63cd(-0x315,-0x27f)][_0x4f63cd(-0x26f,-0x217)](_0x4ab8e);}this['options']['reverseY']&&this[_0x3db343(-0x21,0x36)][_0x3db343(0xe6,0xbd)]();}['clear'](){delete this['rows'],delete this[_0x25160d(0x254,0x1dc)],delete this[_0x2d27c1(0x381,0x3e0)],delete this[_0x2d27c1(0x50b,0x4aa)],delete this['ymin'];function _0x25160d(_0x267ba6,_0x53914f){return _0x37eccb(_0x53914f-0x3bd,_0x267ba6);}delete this[_0x25160d(0x23b,0x1ea)],delete this['grid'];function _0x2d27c1(_0xb5e0f0,_0x5baa43){return _0x4f740b(_0x5baa43-0x24f,_0xb5e0f0);}delete this['particles'];}['toGridXY'](_0x2c13e2,_0x2948ae){function _0x567387(_0xaa2636,_0x31328f){return _0x4f740b(_0xaa2636-0x2a9,_0x31328f);}const _0x240808=(_0x2c13e2-this['xmin'])/(this[_0x567387(0x504,0x534)]-this['xmin'])*(this['cols']-0x1),_0x280276=(this[_0x567387(0x44d,0x3da)]-_0x2948ae)/(this['ymax']-this['ymin'])*(this['rows']-0x1);function _0x148200(_0xdd7883,_0x331c5d){return _0x4f740b(_0xdd7883- -0x350,_0x331c5d);}return[_0x240808,_0x280276];}['getUVByXY'](_0x3541f1,_0x3dc9fa){function _0x10356e(_0x47b52a,_0x3e4c0c){return _0x37eccb(_0x47b52a-0x37a,_0x3e4c0c);}if(_0x3541f1<0x0||_0x3541f1>=this['cols']||_0x3dc9fa>=this['rows'])return[0x0,0x0,0x0];const _0x43f0c6=Math[_0x3ddab1(0x2ef,0x292)](_0x3541f1),_0x50e6a8=Math[_0x10356e(0x290,0x299)](_0x3dc9fa);if(_0x43f0c6===_0x3541f1&&_0x50e6a8===_0x3dc9fa)return this[_0x3ddab1(0x1b5,0x222)][_0x3dc9fa][_0x3541f1];const _0x1de967=_0x43f0c6+0x1,_0x51ac17=_0x50e6a8+0x1,_0x309d62=this['getUVByXY'](_0x43f0c6,_0x50e6a8),_0xc6040=this['getUVByXY'](_0x1de967,_0x50e6a8),_0x31e680=this['getUVByXY'](_0x43f0c6,_0x51ac17);function _0x3ddab1(_0x1c1587,_0x51da79){return _0x37eccb(_0x51da79-0x37c,_0x1c1587);}const _0x427743=this[_0x10356e(0x1ed,0x225)](_0x1de967,_0x51ac17);let _0x229eb2=null;try{_0x229eb2=this['_bilinearInterpolation'](_0x3541f1-_0x43f0c6,_0x3dc9fa-_0x50e6a8,_0x309d62,_0xc6040,_0x31e680,_0x427743);}catch(_0x2be4b3){console['log'](_0x3541f1,_0x3dc9fa);}return _0x229eb2;}[_0x4f740b(0x29b,0x26c)](_0x17dc92,_0x47d088,_0x4359ac,_0x3e0eaa,_0x549f92,_0x509f1c){const _0x20848f=0x1-_0x17dc92,_0x2eefaf=0x1-_0x47d088,_0x5c3bbf=_0x20848f*_0x2eefaf,_0x3f1a09=_0x17dc92*_0x2eefaf,_0x25a256=_0x20848f*_0x47d088,_0x36d00b=_0x17dc92*_0x47d088,_0x5b9435=_0x4359ac[0x0]*_0x5c3bbf+_0x3e0eaa[0x0]*_0x3f1a09+_0x549f92[0x0]*_0x25a256+_0x509f1c[0x0]*_0x36d00b;function _0x4c4d1a(_0x5178c0,_0x3430ca){return _0x37eccb(_0x3430ca-0x642,_0x5178c0);}const _0xa290e3=_0x4359ac[0x1]*_0x5c3bbf+_0x3e0eaa[0x1]*_0x3f1a09+_0x549f92[0x1]*_0x25a256+_0x509f1c[0x1]*_0x36d00b;return this[_0x4c4d1a(0x46a,0x4a9)](_0x5b9435,_0xa290e3);}[_0x4f740b(0x1de,0x172)](_0x30fb8c,_0x44f415){return[+_0x30fb8c,+_0x44f415,Math['sqrt'](_0x30fb8c*_0x30fb8c+_0x44f415*_0x44f415)];}[_0x4f740b(0x207,0x1c1)](_0xb78f56,_0x54b59c){if(!this[_0x6bb25f(-0x1a7,-0x129)](_0xb78f56,_0x54b59c))return null;function _0x1e7cdb(_0x460f4f,_0x1c0565){return _0x4f740b(_0x460f4f- -0x316,_0x1c0565);}function _0x6bb25f(_0x5676aa,_0x25ef23){return _0x37eccb(_0x5676aa- -0x67,_0x25ef23);}const _0x5f4010=this[_0x1e7cdb(-0x5e,-0xc0)](_0xb78f56,_0x54b59c),_0x593da4=this[_0x6bb25f(-0x1f4,-0x1be)](_0x5f4010[0x0],_0x5f4010[0x1]);return _0x593da4;}['isInExtent'](_0x3c4a6f,_0x32cfe1){function _0x217742(_0x55a32f,_0x189aff){return _0x37eccb(_0x189aff-0x4a3,_0x55a32f);}return _0x3c4a6f>=this['xmin']&&_0x3c4a6f<=this['xmax']&&_0x32cfe1>=this['ymin']&&_0x32cfe1<=this[_0x217742(0x2eb,0x2d0)]?!![]:![];}['getRandomLatLng'](){const _0x170aa4=fRandomByfloat(this['xmin'],this['xmax']),_0xe25ebe=fRandomByfloat(this['ymin'],this['ymax']),_0x50ad80={};return _0x50ad80['lat']=_0xe25ebe,_0x50ad80['lng']=_0x170aa4,_0x50ad80;}['getParticles'](){function _0x3954b4(_0x21bb8,_0x4c46ba){return _0x37eccb(_0x4c46ba-0x465,_0x21bb8);}function _0x7ccff4(_0x4204b4,_0x153f63){return _0x37eccb(_0x153f63-0x2e6,_0x4204b4);}let _0x4ba5c4,_0x440027,_0x3dfc4c;for(let _0x28eef2=0x0,_0x144fd6=this['particles']['length'];_0x28eef2<_0x144fd6;_0x28eef2++){let _0x1028d8=this['particles'][_0x28eef2];_0x1028d8[_0x7ccff4(0x1a7,0x223)]<=0x0&&(_0x1028d8=this['_randomParticle'](_0x1028d8));if(_0x1028d8['age']>0x0){const _0x458a1e=_0x1028d8[_0x7ccff4(0x107,0x188)],_0x3b7fbd=_0x1028d8[_0x7ccff4(0x189,0x136)];_0x3dfc4c=this['getUVByPoint'](_0x458a1e,_0x3b7fbd),_0x3dfc4c?(_0x4ba5c4=_0x458a1e+this['_calc_speedRate'][0x0]*_0x3dfc4c[0x0],_0x440027=_0x3b7fbd+this['_calc_speedRate'][0x1]*_0x3dfc4c[0x1],_0x1028d8['lng']=_0x458a1e,_0x1028d8['lat']=_0x3b7fbd,_0x1028d8['tlng']=_0x4ba5c4,_0x1028d8[_0x7ccff4(0xdb,0x136)]=_0x440027,_0x1028d8['speed']=_0x3dfc4c[0x2],_0x1028d8['age']--):_0x1028d8[_0x3954b4(0x30f,0x3a2)]=0x0;}}return this['particles'];}[_0x37eccb(-0x1dd,-0x1e7)](_0x33dd04){let _0x183cb2,_0x1d6db0;for(let _0x18001d=0x0;_0x18001d<0x1e;_0x18001d++){_0x183cb2=this['getRandomLatLng'](),_0x1d6db0=this['getUVByPoint'](_0x183cb2['lng'],_0x183cb2[_0x445723(0x319,0x2eb)]);if(_0x1d6db0&&_0x1d6db0[0x2]>0x0)break;}if(!_0x1d6db0)return _0x33dd04;const _0x316f2e=_0x183cb2['lng']+this['_calc_speedRate'][0x0]*_0x1d6db0[0x0],_0x51a0eb=_0x183cb2[_0x445723(0x319,0x2eb)]+this['_calc_speedRate'][0x1]*_0x1d6db0[0x1];function _0x6ff3af(_0x5d7017,_0x44ba2c){return _0x4f740b(_0x44ba2c- -0xb2,_0x5d7017);}function _0x445723(_0x235cc8,_0x39083f){return _0x37eccb(_0x235cc8-0x4bd,_0x39083f);}return _0x33dd04[_0x445723(0x2f5,0x296)]=_0x183cb2[_0x445723(0x2f5,0x2c5)],_0x33dd04[_0x445723(0x319,0x290)]=_0x183cb2[_0x6ff3af(0xb7,0x121)],_0x33dd04[_0x445723(0x35f,0x2ea)]=_0x316f2e,_0x33dd04['tlat']=_0x51a0eb,_0x33dd04['age']=Math['round'](Math[_0x445723(0x2f6,0x2ff)]()*this[_0x6ff3af(0xf4,0xef)]),_0x33dd04[_0x6ff3af(0xa0,0xe5)]=_0x1d6db0[0x2],_0x33dd04;}['destroy'](){for(const _0x1343d4 in this){delete this[_0x1343d4];}}}function fRandomByfloat(_0x5582b2,_0xa1fd9e){function _0x4b32bc(_0x323e3e,_0x5423a1){return _0x37eccb(_0x5423a1-0x40e,_0x323e3e);}return _0x5582b2+Math[_0x4b32bc(0x2bf,0x247)]()*(_0xa1fd9e-_0x5582b2);}const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace[_0x4f740b(0x1f9,0x1f8)]['BaseLayer'];class CanvasWindLayer extends BaseLayer{constructor(_0x332eb8={}){function _0x18de5f(_0x53d383,_0x33f42c){return _0x37eccb(_0x53d383-0x519,_0x33f42c);}function _0x2b0792(_0x30c540,_0x3bc1db){return _0x4f740b(_0x30c540- -0x330,_0x3bc1db);}super(_0x332eb8),this[_0x18de5f(0x453,0x488)](_0x332eb8),this['canvas']=null,_0x332eb8['colors']&&_0x332eb8['steps']&&(this['_colorRamp']=new mars3d__namespace[(_0x2b0792(-0x134,-0x16d))](_0x332eb8));}['_setOptionsHook'](_0x5ce347,_0x2cd93a){this['frameTime']=0x3e8/(_0x5ce347[_0x454df4(0x160,0x1f5)]||0xa),this[_0x169ce4(0x1be,0x1d1)]=this['options']['pointerEvents']??![];function _0x454df4(_0x514011,_0x293d2d){return _0x4f740b(_0x293d2d- -0x85,_0x514011);}this['color']=_0x5ce347[_0x454df4(0x173,0x14f)]||'#ffffff';function _0x169ce4(_0x16b785,_0x478195){return _0x4f740b(_0x478195- -0xa0,_0x16b785);}this['lineWidth']=_0x5ce347[_0x454df4(0x1e3,0x15d)]||0x1,this[_0x454df4(0x27b,0x215)]=_0x5ce347['fixedHeight']??0x0,this['reverseY']=_0x5ce347[_0x454df4(0x223,0x1d8)]??![],this[_0x169ce4(0x1e3,0x1a7)]&&this[_0x454df4(0x1dc,0x1c2)]['setOptions'](_0x5ce347);}get[_0x37eccb(-0x17e,-0x17b)](){return this['canvas'];}get[_0x4f740b(0x2b0,0x285)](){return this['_map']['scene']['canvas']['clientWidth'];}get[_0x4f740b(0x190,0x1f9)](){function _0x19a5d7(_0x20a790,_0x44e901){return _0x37eccb(_0x20a790-0x15,_0x44e901);}function _0x38ac3f(_0x2ca660,_0x544cb5){return _0x37eccb(_0x544cb5-0x5d7,_0x2ca660);}return this[_0x19a5d7(-0xf5,-0xaa)][_0x38ac3f(0x57f,0x4f9)]['canvas']['clientHeight'];}get['pointerEvents'](){return this['_pointerEvents'];}set[_0x37eccb(-0x17d,-0xf4)](_0x351a77){function _0x474a9b(_0x3b5440,_0x520d69){return _0x4f740b(_0x3b5440-0x1fc,_0x520d69);}function _0x120eeb(_0x17cd0f,_0x4629ff){return _0x4f740b(_0x4629ff- -0x30,_0x17cd0f);}this['_pointerEvents']=_0x351a77;if(!this[_0x474a9b(0x47c,0x4c7)])return;_0x351a77?this['canvas'][_0x120eeb(0x23f,0x1eb)][_0x474a9b(0x3be,0x3bb)]=_0x474a9b(0x45d,0x4d6):this['canvas']['style'][_0x474a9b(0x3be,0x3df)]='none';}get[_0x4f740b(0x202,0x1f2)](){return this['options']['particlesNumber'];}set[_0x37eccb(-0x175,-0x16a)](_0x3fb256){this['options']['particlesNumber']=_0x3fb256;function _0x3ea628(_0x3359bf,_0x32de9b){return _0x37eccb(_0x32de9b- -0xee,_0x3359bf);}clearTimeout(this[_0x3ea628(-0x179,-0x1f0)]),this['_canrefresh']=setTimeout(()=>{this['redraw']();},0x1f4);}get[_0x37eccb(-0x153,-0x1d6)](){return this['options']['speedRate'];}set['speedRate'](_0x281956){function _0x17657d(_0x17ee0c,_0x30295b){return _0x4f740b(_0x30295b- -0x27,_0x17ee0c);}this['options']['speedRate']=_0x281956;function _0x87ecbb(_0x1ae4e8,_0x17f5a6){return _0x4f740b(_0x1ae4e8- -0x2af,_0x17f5a6);}this['windField']&&(this[_0x87ecbb(-0x68,-0xfc)][_0x87ecbb(-0x8b,0x4)]=_0x281956);}get['maxAge'](){function _0x15855c(_0x31c044,_0x2e7bce){return _0x4f740b(_0x2e7bce- -0x435,_0x31c044);}return this['options'][_0x15855c(-0x20a,-0x294)];}set['maxAge'](_0x12a3ee){this['options'][_0x48363f(-0x266,-0x24c)]=_0x12a3ee;function _0x199407(_0x596211,_0x19cd5a){return _0x4f740b(_0x596211- -0x3c5,_0x19cd5a);}function _0x48363f(_0x1fbf21,_0x67b309){return _0x37eccb(_0x1fbf21- -0x90,_0x67b309);}this['windField']&&(this[_0x48363f(-0x1c0,-0x1e7)]['maxAge']=_0x12a3ee);}get[_0x37eccb(-0x122,-0xa9)](){function _0x1518ad(_0xdf0023,_0x410afd){return _0x4f740b(_0x410afd-0x2c3,_0xdf0023);}return this[_0x1518ad(0x4c5,0x4b9)];}set[_0x4f740b(0x255,0x29e)](_0xe8c41){this['setData'](_0xe8c41);}get['rectangle'](){let _0x53a99c=this[_0xc5ce6d(-0x213,-0x278)][_0x44a699(0x14b,0x1e2)],_0x1c760f=this['windData'][_0xc5ce6d(-0x1ae,-0x1c5)],_0x231c45=this[_0xc5ce6d(-0x213,-0x242)]['ymin'],_0x56a309=this[_0x44a699(0x2d4,0x247)]['ymax'];_0x1c760f>=0x167&&_0x53a99c===0x0&&(_0x53a99c=-0xb4,_0x1c760f=0xb4);_0x53a99c=Math['max'](_0x53a99c,-0xb4),_0x1c760f=Math['min'](_0x1c760f,0xb4);function _0x44a699(_0x71ef15,_0x3967f4){return _0x37eccb(_0x3967f4-0x3c8,_0x71ef15);}function _0xc5ce6d(_0x5204fb,_0x1bb8e6){return _0x4f740b(_0x5204fb- -0x409,_0x1bb8e6);}return _0x231c45=Math['max'](_0x231c45,-0x5a),_0x56a309=Math['min'](_0x56a309,0x5a),Cesium['Rectangle']['fromDegrees'](_0x53a99c,_0x231c45,_0x1c760f,_0x56a309);}['_showHook'](_0x1dbca1){function _0x2ef4af(_0x4e6075,_0x444215){return _0x37eccb(_0x4e6075-0x5a5,_0x444215);}function _0x134017(_0x4b8d52,_0x5e8700){return _0x4f740b(_0x5e8700- -0x199,_0x4b8d52);}_0x1dbca1?this[_0x134017(0x127,0xf3)]():(this[_0x134017(0xca,0x5d)]&&(this['options']['data']=this['windData']),this[_0x2ef4af(0x4b0,0x4d0)]());}['_mountedHook'](){this['options']['worker']?this['initWorker']():this['windField']=new CanvasWindField(this['options']);}['_addedHook'](){this[_0x2c3898(0x201,0x178)]=this[_0x5eb318(0x181,0x110)]();const _0x2a830f={};_0x2a830f['willReadFrequently']=!![],this[_0x2c3898(0x101,0xf6)]=this[_0x2c3898(0x1e7,0x178)]['getContext']('2d',_0x2a830f);function _0x2c3898(_0x2a67cf,_0xbf286f){return _0x4f740b(_0xbf286f- -0x108,_0x2a67cf);}function _0x5eb318(_0x3d4138,_0x568ab2){return _0x37eccb(_0x3d4138-0x28d,_0x568ab2);}this[_0x5eb318(0x164,0x18c)](),this[_0x2c3898(0x126,0x19b)][_0x5eb318(0x16b,0x187)]&&this['setData'](this['options'][_0x2c3898(0xe0,0x14d)]);}['_removedHook'](){function _0x371dad(_0x256448,_0x1c1eda){return _0x37eccb(_0x256448-0x19a,_0x1c1eda);}this['clear'](),this['unbindEvent']();function _0x174d61(_0x372374,_0x2c4a52){return _0x37eccb(_0x372374-0x642,_0x2c4a52);}this['canvas']&&(this[_0x371dad(0x90,0x88)][_0x371dad(0x7,-0x6b)]['removeChild'](this['canvas']),delete this['canvas']);}['_createCanvas'](){const _0x3e4a2c=mars3d__namespace['DomUtil']['create']('canvas',_0x211dbb(0x3d,-0x27),this['_map'][_0x5572b4(-0xe,-0x38)]);_0x3e4a2c[_0x5572b4(0x29,0x2a)][_0x211dbb(-0x55,-0xbc)]='absolute',_0x3e4a2c['style']['top']=_0x5572b4(0x2c,-0x31),_0x3e4a2c[_0x211dbb(-0xe9,-0x78)][_0x5572b4(0x6a,0xf1)]='0px',_0x3e4a2c['style'][_0x211dbb(0x3b,-0x53)]=this['_map']['scene'][_0x211dbb(0x55,-0x13)][_0x211dbb(0x30,-0x5e)]+'px';function _0x211dbb(_0x5ac3cc,_0x34a97d){return _0x37eccb(_0x34a97d-0xe4,_0x5ac3cc);}_0x3e4a2c[_0x211dbb(-0xf8,-0x78)]['height']=this['_map']['scene']['canvas']['clientHeight']+'px',_0x3e4a2c['style'][_0x5572b4(0x8,0x96)]=this['_pointerEvents']?_0x211dbb(0x28,-0x30):'none';function _0x5572b4(_0xc970e4,_0x804218){return _0x4f740b(_0xc970e4- -0x1f2,_0x804218);}return _0x3e4a2c['style'][_0x211dbb(-0x47,-0xd7)]=this['options'][_0x5572b4(-0x36,-0xac)]??0x9,_0x3e4a2c['width']=this['_map']['scene']['canvas']['clientWidth'],_0x3e4a2c['height']=this[_0x5572b4(0x7b,-0x13)]['scene']['canvas']['clientHeight'],_0x3e4a2c;}[_0x37eccb(-0x1cd,-0x1ad)](){function _0x3967c9(_0x2b9bb5,_0x5e12bb){return _0x4f740b(_0x2b9bb5-0x312,_0x5e12bb);}function _0x47a703(_0x48196d,_0x53efaa){return _0x37eccb(_0x48196d-0x435,_0x53efaa);}this['canvas']&&(this[_0x47a703(0x33e,0x302)]['style']['width']=this['_map'][_0x47a703(0x357,0x323)]['canvas']['clientWidth']+'px',this['canvas']['style'][_0x3967c9(0x4ee,0x51b)]=this['_map']['scene']['canvas']['clientHeight']+'px',this['canvas'][_0x47a703(0x2fe,0x294)]=this[_0x3967c9(0x57f,0x536)][_0x47a703(0x357,0x2e8)]['canvas'][_0x47a703(0x2f3,0x381)],this['canvas'][_0x47a703(0x29a,0x239)]=this['_map'][_0x47a703(0x357,0x3d1)]['canvas']['clientHeight']);}['bindEvent'](){function _0x234df3(_0x5918e0,_0x321c73){return _0x37eccb(_0x5918e0-0x67b,_0x321c73);}const _0x5f2f05=this;let _0x3dbfc8=Date[_0x234df3(0x523,0x549)]();(function _0x348354(){if(_0x5f2f05[_0x339dbe(0x230,0x29d)])return;function _0x46a056(_0x54f67e,_0x36570d){return _0x234df3(_0x54f67e- -0x295,_0x36570d);}_0x5f2f05['_animateFrame']=window['requestAnimationFrame'](_0x348354);function _0x339dbe(_0x10fa7e,_0x477870){return _0x234df3(_0x477870- -0x2d1,_0x10fa7e);}if(_0x5f2f05['show']&&_0x5f2f05['windField']){const _0xdd8be5=Date[_0x46a056(0x28e,0x235)](),_0x443e90=_0xdd8be5-_0x3dbfc8;_0x443e90>_0x5f2f05['frameTime']&&(_0x3dbfc8=_0xdd8be5-_0x443e90%_0x5f2f05['frameTime'],_0x5f2f05['update']());}}(),window[_0x5252e0(-0x206,-0x1dd)]('resize',this['resize'][_0x234df3(0x53c,0x4bf)](this),![]),this[_0x5252e0(-0x1e1,-0x1e5)]=![]);function _0x5252e0(_0x5e7c14,_0x5019b5){return _0x4f740b(_0x5e7c14- -0x3ee,_0x5019b5);}this['mouse_move']=![],this['options']['mouseHidden']&&(this['_map']['on'](mars3d__namespace['EventType'][_0x234df3(0x53f,0x5b8)],this[_0x234df3(0x58e,0x4f8)],this),this[_0x234df3(0x571,0x5c8)]['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMouseDownEvent'],this),this['_map']['on'](mars3d__namespace[_0x234df3(0x4dd,0x4fc)][_0x5252e0(-0x1d9,-0x1ad)],this['_onMouseUpEvent'],this));}['unbindEvent'](){window['cancelAnimationFrame'](this['_animateFrame']);function _0x650215(_0x596444,_0x3ef68b){return _0x4f740b(_0x3ef68b- -0x4a0,_0x596444);}delete this[_0x650215(-0x180,-0x217)],window[_0x650215(-0x2b7,-0x289)](_0x53d085(0x351,0x33a),this['resize']);function _0x53d085(_0x2c9a9b,_0x19abd7){return _0x37eccb(_0x19abd7-0x507,_0x2c9a9b);}this['options']['mouseHidden']&&(this['_map'][_0x650215(-0x225,-0x257)](mars3d__namespace['EventType']['wheel'],this[_0x53d085(0x3f6,0x41a)],this),this['_map'][_0x650215(-0x1e9,-0x257)](mars3d__namespace['EventType']['mouseDown'],this['_onMouseDownEvent'],this),this['_map'][_0x53d085(0x36b,0x3d9)](mars3d__namespace['EventType']['mouseUp'],this['_onMouseUpEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this[_0x650215(-0x2c7,-0x2f5)],this));}['_onMapWhellEvent'](_0x185c3a){clearTimeout(this['refreshTimer']);function _0x1aaab7(_0xbc4ed8,_0x348730){return _0x4f740b(_0x348730-0x228,_0xbc4ed8);}if(!this[_0x1aaab7(0x3f8,0x3e1)]||!this[_0x1aaab7(0x510,0x4a8)])return;function _0x13195e(_0x1ee2c3,_0x2d5d85){return _0x4f740b(_0x1ee2c3- -0x175,_0x2d5d85);}this['canvas'][_0x1aaab7(0x47f,0x443)]['visibility']=_0x13195e(0x2b,0x6a),this[_0x13195e(0xb1,0x85)]=setTimeout(()=>{function _0x1c1f36(_0x482b4c,_0xa721c2){return _0x13195e(_0xa721c2- -0x229,_0x482b4c);}function _0x4bd91d(_0x26eafa,_0x240ccc){return _0x13195e(_0x240ccc- -0x13d,_0x26eafa);}if(!this['show'])return;this[_0x4bd91d(-0xc0,-0xef)](),this[_0x1c1f36(-0x143,-0x11e)][_0x1c1f36(-0x1df,-0x183)]['visibility']=_0x4bd91d(-0xaa,-0x1f);},0xc8);}['_onMouseDownEvent'](_0x467bb){function _0x43f000(_0x276fc2,_0x1ec361){return _0x37eccb(_0x1ec361-0x4a1,_0x276fc2);}this['mouse_down']=!![],this['_map'][_0x43f000(0x2de,0x373)](mars3d__namespace[_0x4c9c34(0x0,0x40)][_0x43f000(0x2e7,0x35e)],this[_0x43f000(0x34d,0x2d5)],this);function _0x4c9c34(_0x2e4f2e,_0x8f3df4){return _0x37eccb(_0x2e4f2e-0x19e,_0x8f3df4);}this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMouseMoveEvent'],this);}['_onMouseMoveEvent'](_0x3e72c6){if(!this[_0x3fac3e(0x1e6,0x243)]||!this[_0x3fac3e(0x2ad,0x29f)])return;function _0x3cb306(_0x320e18,_0x16ebcd){return _0x4f740b(_0x320e18- -0x3ec,_0x16ebcd);}function _0x3fac3e(_0x386231,_0x18ed20){return _0x37eccb(_0x386231-0x3a4,_0x18ed20);}this[_0x3fac3e(0x23a,0x2aa)]&&(this[_0x3fac3e(0x2ad,0x2e8)]['style'][_0x3fac3e(0x1e4,0x1a8)]=_0x3cb306(-0x24c,-0x2ae),this[_0x3fac3e(0x1cc,0x1f8)]=!![]);}['_onMouseUpEvent'](_0x39e724){function _0x55fc81(_0x17b713,_0x3f1882){return _0x37eccb(_0x3f1882-0x2e9,_0x17b713);}if(!this[_0x55fc81(0xf4,0x12b)]||!this[_0x5ecba4(-0xd4,-0xb6)])return;this['_map']['off'](mars3d__namespace[_0x55fc81(0x1d4,0x14b)]['mouseMove'],this[_0x55fc81(0xe7,0x11d)],this);this[_0x55fc81(0x18b,0x17f)]&&this['mouse_move']&&this[_0x55fc81(0x1ab,0x135)]();this['canvas']['style'][_0x5ecba4(-0x19d,-0x12e)]=_0x55fc81(0x222,0x205);function _0x5ecba4(_0x58f602,_0x38c299){return _0x4f740b(_0x58f602- -0x354,_0x38c299);}this[_0x55fc81(0x109,0x17f)]=![],this['mouse_move']=![];}[_0x4f740b(0x20b,0x1f7)](_0x2cab2c){this[_0x385a9c(0x2a8,0x33b)]();function _0x385a9c(_0x3a5266,_0x5ca82b){return _0x4f740b(_0x3a5266-0x6a,_0x5ca82b);}this['windData']=_0x2cab2c;function _0x106641(_0x503740,_0x4c87cb){return _0x4f740b(_0x503740-0x177,_0x4c87cb);}this[_0x106641(0x3be,0x3ac)][_0x385a9c(0x29b,0x329)](_0x2cab2c),this['redraw']();}['redraw'](){function _0x434e2f(_0x1b6136,_0x2a9118){return _0x4f740b(_0x2a9118-0x1c7,_0x1b6136);}if(!this[_0x503f93(0x193,0x17b)])return;this['windField']['setOptions'](this[_0x503f93(0x2f1,0x265)]);function _0x503f93(_0x3b3f08,_0xb2633a){return _0x37eccb(_0xb2633a-0x339,_0x3b3f08);}this['update']();}['update'](){if(this['_updateIng'])return;function _0x4104b9(_0x59c46b,_0x33c902){return _0x37eccb(_0x59c46b- -0x4b,_0x33c902);}function _0x24f9a3(_0x1bfcd7,_0xe2fae2){return _0x37eccb(_0xe2fae2-0x111,_0x1bfcd7);}this[_0x24f9a3(0x1d,0x2b)]=!![];if(this[_0x24f9a3(0x51,-0xf)])this['windField']['update']();else{const _0x112408=this['windField']['getParticles']();this['_drawLines'](_0x112408);}this[_0x4104b9(-0x131,-0x19f)]=![];}['_drawLines'](_0x40cbbb){this['_canvasParticles']=_0x40cbbb,this['canvasContext']['globalCompositeOperation']='destination-in';function _0x3c3b44(_0x2e73a5,_0x53923b){return _0x37eccb(_0x2e73a5-0x426,_0x53923b);}function _0x1aea71(_0x4c92b6,_0x584ce7){return _0x37eccb(_0x4c92b6-0x2c4,_0x584ce7);}this['canvasContext'][_0x3c3b44(0x262,0x218)](0x0,0x0,this['canvasWidth'],this['canvasHeight']),this[_0x3c3b44(0x2ad,0x229)]['globalCompositeOperation']='lighter',this[_0x3c3b44(0x2ad,0x23d)]['globalAlpha']=0.9;const _0x326c07=this[_0x1aea71(0x1ba,0x210)]['scene']['mode']!==Cesium['SceneMode']['SCENE3D'],_0x3604c4=this['canvasWidth']*0.25;if(this[_0x1aea71(0x193,0x13a)])for(let _0x48e134=0x0,_0x4e4293=_0x40cbbb['length'];_0x48e134<_0x4e4293;_0x48e134++){const _0x32736c=_0x40cbbb[_0x48e134],_0x4c0efe=this['_tomap'](_0x32736c,_0x32736c['lng'],_0x32736c[_0x3c3b44(0x282,0x2ab)],_0x32736c[_0x3c3b44(0x2fb,0x285)]),_0x2d0935=this['_tomap'](_0x32736c,_0x32736c['tlng'],_0x32736c['tlat'],_0x32736c['talt']);if(!_0x4c0efe||!_0x2d0935)continue;if(_0x326c07&&Math['abs'](_0x4c0efe[0x0]-_0x2d0935[0x0])>=_0x3604c4)continue;this[_0x1aea71(0x14b,0xf5)][_0x1aea71(0x1bc,0x1f0)](),this['canvasContext']['lineWidth']=this['lineWidth'],this['canvasContext']['strokeStyle']=this[_0x3c3b44(0x2f5,0x339)]['getColor'](_0x32736c['speed']),this[_0x1aea71(0x14b,0x1b6)]['moveTo'](_0x4c0efe[0x0],_0x4c0efe[0x1]),this[_0x3c3b44(0x2ad,0x2da)]['lineTo'](_0x2d0935[0x0],_0x2d0935[0x1]),this['canvasContext']['stroke']();}else{this[_0x3c3b44(0x2ad,0x247)][_0x3c3b44(0x31e,0x327)](),this[_0x3c3b44(0x2ad,0x311)][_0x1aea71(0x12f,0x1ad)]=this['lineWidth'],this['canvasContext']['strokeStyle']=this[_0x1aea71(0x121,0x13f)];for(let _0x3acf81=0x0,_0x283361=_0x40cbbb['length'];_0x3acf81<_0x283361;_0x3acf81++){const _0x161f83=_0x40cbbb[_0x3acf81],_0x1dbf78=this['_tomap'](_0x161f83,_0x161f83[_0x3c3b44(0x25e,0x258)],_0x161f83['lat'],_0x161f83[_0x3c3b44(0x2fb,0x390)]),_0x1ec314=this['_tomap'](_0x161f83,_0x161f83[_0x1aea71(0x166,0x181)],_0x161f83[_0x1aea71(0x114,0x182)],_0x161f83['talt']);if(!_0x1dbf78||!_0x1ec314)continue;if(_0x326c07&&Math['abs'](_0x1dbf78[0x0]-_0x1ec314[0x0])>=_0x3604c4)continue;this['canvasContext']['moveTo'](_0x1dbf78[0x0],_0x1dbf78[0x1]),this['canvasContext']['lineTo'](_0x1ec314[0x0],_0x1ec314[0x1]);}this[_0x1aea71(0x14b,0xe0)]['stroke']();}}['_tomap'](_0x55aa4d,_0x18048,_0xa52bd4,_0x4f4255){function _0x3209f9(_0x3ccaff,_0x51f459){return _0x4f740b(_0x3ccaff-0x6e,_0x51f459);}const _0x18f8eb=Cesium['Cartesian3'][_0x3209f9(0x271,0x266)](_0x18048,_0xa52bd4,_0x4f4255??this['fixedHeight']);function _0x4cfdd2(_0x43a66e,_0x1f7e07){return _0x4f740b(_0x43a66e- -0x2a7,_0x1f7e07);}const _0x16ff0c=this[_0x4cfdd2(-0x3a,-0x50)]['scene'];if(_0x16ff0c[_0x3209f9(0x223,0x26f)]===Cesium[_0x4cfdd2(-0x7b,-0xd1)]['SCENE3D']){const _0x40f9d2=new Cesium['EllipsoidalOccluder'](_0x16ff0c[_0x4cfdd2(-0x6,0x31)]['ellipsoid'],_0x16ff0c['camera']['positionWC']),_0x166525=_0x40f9d2['isPointVisible'](_0x18f8eb);if(!_0x166525)return _0x55aa4d[_0x3209f9(0x322,0x29a)]=0x0,null;}const _0x2803ab=mars3d__namespace['PointTrans']['toWindowCoordinates'](this[_0x4cfdd2(-0x3a,-0x12)][_0x3209f9(0x307,0x2f8)],_0x18f8eb);return _0x2803ab?[_0x2803ab['x'],_0x2803ab['y']]:null;}['clear'](){this['windField']['clear'](),delete this['windData'];}['initWorker'](){this[_0x39dbd8(0x489,0x4c6)]=new Worker(this[_0x39dbd8(0x4d5,0x540)][_0x5432e9(0x49d,0x449)]);function _0x5432e9(_0x421fac,_0x442586){return _0x4f740b(_0x442586-0x1f2,_0x421fac);}this['worker']['onmessage']=_0x41bcff=>{function _0x41b40d(_0x2249ab,_0x39b3cf){return _0x39dbd8(_0x39b3cf- -0x662,_0x2249ab);}function _0x2c3149(_0x180395,_0x3ea0bc){return _0x39dbd8(_0x180395- -0x49,_0x3ea0bc);}this['_drawLines'](_0x41bcff['data'][_0x2c3149(0x374,0x3b9)]),this[_0x41b40d(-0x2a7,-0x28e)]=![];};function _0x39dbd8(_0x136543,_0x355401){return _0x37eccb(_0x136543-0x5a9,_0x355401);}this['windField']={'init':_0x2648a8=>{const _0x1a055e={};_0x1a055e['type']='init';function _0x478398(_0x51201a,_0x7bc0a5){return _0x39dbd8(_0x51201a- -0x353,_0x7bc0a5);}_0x1a055e[_0x478398(0x182,0x120)]=_0x2648a8,this['worker']['postMessage'](_0x1a055e);},'setOptions':_0x24142d=>{const _0x1087cf={};_0x1087cf[_0x55e083(0x2d4,0x339)]='setOptions',_0x1087cf[_0xf4d3f0(-0x77,-0x27)]=_0x24142d;function _0xf4d3f0(_0x20917b,_0x1c032b){return _0x39dbd8(_0x1c032b- -0x4fc,_0x20917b);}function _0x55e083(_0x216ecd,_0x12c212){return _0x39dbd8(_0x12c212- -0x9e,_0x216ecd);}this[_0x55e083(0x40b,0x3eb)][_0xf4d3f0(-0x142,-0xea)](_0x1087cf);},'setDate':_0x37af49=>{const _0x430b08={};_0x430b08['type']=_0x4842ae(-0x176,-0x112);function _0x254ab7(_0x3ab6d5,_0xef74dc){return _0x39dbd8(_0xef74dc- -0x589,_0x3ab6d5);}_0x430b08['data']=_0x37af49;function _0x4842ae(_0x324a6d,_0xa533ac){return _0x5432e9(_0x324a6d,_0xa533ac- -0x535);}this[_0x4842ae(-0x8f,-0xec)][_0x254ab7(-0x153,-0x177)](_0x430b08);},'update':()=>{function _0x5e87bb(_0x2112c8,_0x173610){return _0x39dbd8(_0x173610- -0x62f,_0x2112c8);}function _0x3dfbc6(_0x440441,_0x1dde12){return _0x5432e9(_0x1dde12,_0x440441- -0x2e0);}if(this['_updateIng2'])return;this['_updateIng2']=!![];const _0x23796f={};_0x23796f[_0x5e87bb(-0x2e0,-0x258)]=_0x5e87bb(-0x178,-0x148),this['worker'][_0x3dfbc6(0xf2,0x10f)](_0x23796f);},'clear':()=>{const _0x189505={};_0x189505['type']='clear',this['worker']['postMessage'](_0x189505);}},this[_0x5432e9(0x428,0x439)]['init'](this[_0x5432e9(0x41c,0x495)]);}}mars3d__namespace['LayerUtil'][_0x4f740b(0x27f,0x29c)]('canvasWind',CanvasWindLayer),mars3d__namespace['layer'][_0x37eccb(-0xd7,-0x116)]=CanvasWindLayer,mars3d__namespace['CanvasWindField']=CanvasWindField,mars3d__namespace[_0x37eccb(-0x185,-0x1d5)]=WindUtil,exports['CanvasWindField']=CanvasWindField,exports['CanvasWindLayer']=CanvasWindLayer,exports[_0x37eccb(-0x149,-0x10c)]=WindLayer;function _0x4f740b(_0x5ae408,_0x3bfb78){return _0x3bee(_0x5ae408-0xc9,_0x3bfb78);}exports['WindUtil']=WindUtil;const _0x5077f8={};_0x5077f8[_0x4f740b(0x256,0x2ec)]=!![],Object[_0x37eccb(-0x14a,-0xba)](exports,_0x4f740b(0x210,0x1b0),_0x5077f8);
}));
